<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Basys Analytics</title>


<link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800;900&display=swap" rel="stylesheet">

<style>
:root{
  --trust-orange: var(--accent);
  --trust-blue: #4c73ff;
  --trust-red: #ff6b6b;
  --trust-green: #2ed573;
  --trust-slate: rgba(232,238,248,.88);

  --fade-show: 1.2s;
  --fade-hide: 0.28s;

  --accent:#f2a900;

  /* glass */
  --glass: rgba(10,15,25,.38);

  /* text system */
  --text-main: rgba(232,238,248,.92);
  --text-muted: rgba(176,188,206,.88);

  /* selection */
  --green: rgba(46, 213, 115, .95);
  --green-border: rgba(46, 213, 115, .45);
  --green-glow: rgba(46, 213, 115, .22);
}

*{margin:0;padding:0;box-sizing:border-box}

html,body{
  height:100%;
  font-family:"Inter",sans-serif;
  color:var(--text-main);
  scroll-behavior:smooth;
}

/* Keyboard focus */
:focus-visible{
  outline:2px solid rgba(242,169,0,.65);
  outline-offset:3px;
  border-radius:12px;
}

/* ===== Global City Background (zoomed out) ===== */
body{
  background:none;
  position:relative;
}
body::before{
  content:"";
  position:fixed;
  inset:-12%;
  z-index:-1;
  background:
    linear-gradient(rgba(0,0,0,.32), rgba(0,0,0,.70)),
    url("1000081562.jpg") no-repeat center 40% fixed;
  background-size:cover;
  transform:scale(0.92);
  will-change:transform;
}

/* ================= HEADER ================= */
header{
  position:fixed;
  top:0;
  width:100%;
  padding:22px 44px;
  z-index:1000;
  display:flex;
  align-items:center;
  gap:18px;
  background:linear-gradient(to bottom, rgba(0,0,0,.85), transparent);
  transition: padding .25s ease, background .25s ease, backdrop-filter .25s ease, border-color .25s ease;
}
header.scrolled{
  padding:13px 44px;
  background:rgba(10,15,25,.75);
  backdrop-filter:blur(14px);
  border-bottom:1px solid rgba(255,255,255,.08);
}

/* Mobile burger button */
.nav-toggle{
  display:none;
  margin-left:auto;
  width:44px;
  height:44px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.06);
  color:var(--text-main);
  cursor:pointer;
  align-items:center;
  justify-content:center;
}
.nav-toggle svg{display:block}

/* Desktop nav */
nav{
  display:flex;
  gap:26px;
  align-items:center;
  width:100%;
}

nav a, .nav-group-toggle{
  font-size:12px;
  letter-spacing:2px;
  text-transform:uppercase;
  font-weight:800;
  color:var(--text-main);
  opacity:.78;
  text-decoration:none;
  position:relative;
  padding:6px 0;
  transition:.2s;
  background:none;
  border:none;
  cursor:pointer;
}
nav a:hover, .nav-group-toggle:hover{
  opacity:1;
  color:var(--accent);
}
nav a.active{
  opacity:1;
  color:var(--accent);
}
nav a.active::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:-6px;
  height:2px;
  background:var(--accent);
  border-radius:999px;
  
}

/* Login right */
.login-link{
  margin-left:auto;
  border:1px solid var(--accent);
  padding:8px 18px;
  border-radius:8px;
  color:var(--accent);
  opacity:1;
}
nav a.login-link.active::after{ display:none; }

/* ===== dropdown ===== */
.nav-group{ position:relative; }
.nav-group-toggle{
  display:inline-flex;
  align-items:center;
  gap:8px;
  opacity:.85;
}
.chevron{
  font-size:14px;
  font-weight:900;
  transition:transform .22s ease, color .22s ease;
  opacity:1;
  color:var(--text-main);
  transform: translateY(-1px);
}
.nav-group-toggle:hover .chevron{ color:var(--accent); }
.nav-group.open .chevron{ transform:translateY(-1px) rotate(180deg); }

.nav-group.has-active .nav-group-toggle{
  opacity:1;
  color:var(--accent);
}
.nav-group.has-active .nav-group-toggle::after{
  content:"";
  position:absolute;
  left:0;right:0;bottom:-6px;
  height:2px;
  background:var(--accent);
  border-radius:999px;
  
}

.nav-group-menu{
  position:absolute;
  top:calc(100% + 10px);
  left:0;
  min-width:240px;

  display:grid;
  gap:6px;
  padding:10px;
  border-radius:14px;

  background:rgba(10,15,25,.78);
  backdrop-filter:blur(14px);
  border:1px solid rgba(255,255,255,.10);
  

  opacity:0;
  transform: translateY(-6px) scale(.98);
  pointer-events:none;
  transition: opacity .20s ease, transform .20s ease;
}
.nav-group.open .nav-group-menu{
  opacity:1;
  transform: translateY(0) scale(1);
  pointer-events:auto;
}
.nav-group-menu a{
  display:block;
  padding:10px 12px;
  border-radius:10px;
  background:rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  font-size:11px;
  letter-spacing:2px;
  text-transform:uppercase;
  font-weight:800;
  color:var(--text-main);
  opacity:.95;
}
.nav-group-menu a:hover{
  background:rgba(242,169,0,.10);
  border-color:rgba(242,169,0,.25);
  color:var(--text-main);
}
.nav-group-menu a.active{
  background:rgba(242,169,0,.12);
  border-color:rgba(242,169,0,.45);
  color:var(--accent);
}
.nav-group-menu a.active::after{ display:none; }

/* ================= SECTIONS ================= */
section{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  padding:145px 10% 115px;
}

/* ===== HERO ===== */
#home{
  position:relative;
  overflow:hidden;
  background:#000;
}

/* Star sky base layer */
#home .sky-layer{
  position:absolute;
  inset:-260px;
  background:
    radial-gradient(circle, rgba(255,255,255,.22) 0 1px, rgba(0,0,0,0) 2px) 0 0/140px 140px,
    radial-gradient(circle, rgba(255,255,255,.14) 0 1px, rgba(0,0,0,0) 2px) 60px 90px/220px 220px,
    url("hero-sky.png") no-repeat center top;
  background-size: 140px 140px, 220px 220px, cover;
  background-repeat: repeat, repeat, no-repeat;
  background-color:#000;
  transform: translate3d(0,0,0);
  will-change: transform;
  z-index:0;
}

/* Hero shading */
#home::before{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  z-index:1;
  background: linear-gradient(
    to bottom,
    rgba(0,0,0,.18) 0%,
    rgba(0,0,0,.30) 55%,
    rgba(0,0,0,.46) 100%
  );
}

/* Film grain */
#home::after{
  content:"";
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.05;
  mix-blend-mode:overlay;
  z-index:2;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='.45'/%3E%3C/svg%3E");
  background-size:220px 220px;
}
#home > *{ position:relative; z-index:3; }

/* subtle twinkle */
.twinkle{
  position:absolute;
  inset:0;
  pointer-events:none;
  opacity:.04;
  mix-blend-mode:overlay;
  background:
    radial-gradient(circle, rgba(255,255,255,.40) 0 1px, rgba(0,0,0,0) 2px) 0 0/160px 160px,
    radial-gradient(circle, rgba(255,255,255,.24) 0 1px, rgba(0,0,0,0) 2px) 60px 90px/220px 220px;
  filter: blur(.50px);
  transform: translateZ(0);
  animation: twinklePan 24s ease-in-out infinite alternate;
  z-index:2;
}
@keyframes twinklePan{
  from{ background-position: 0 0, 60px 90px; }
  to{ background-position: 40px -30px, 100px 40px; }
}

/* Hero stage */
.hero-stage{
  position:relative;
  width:min(320px, 72vw);
  aspect-ratio: 1 / 1;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-top:-6px;
  container-type: inline-size;
}

@keyframes rotate-earth{
  from{ transform:rotate(0deg); }
  to{ transform:rotate(360deg); }
}

.globe-rotator{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  animation: rotate-earth 240s linear infinite;
  border-radius:50%;
  overflow:hidden;
  will-change: transform;

  background:
    radial-gradient(circle at 70% 50%,
      rgba(0,0,0,0) 42%,
      rgba(0,0,0,.36) 70%,
      rgba(0,0,0,.58) 100%);

  -webkit-mask-image: radial-gradient(circle, #000 90%, transparent 100%);
  mask-image: radial-gradient(circle, #000 90%, transparent 100%);
}

.globe-rotator::before{
  content:"";
  position:absolute;
  width:96%;
  height:96%;
  border-radius:50%;
  background: radial-gradient(circle,
    rgba(120,170,255,0.22) 0%,
    rgba(120,170,255,0.10) 36%,
    rgba(0,0,0,0.00) 70%);
  filter: blur(12px);
  opacity:0.60;
  pointer-events:none;
}
.globe-rotator::after{
  content:"";
  position:absolute;
  inset:4%;
  border-radius:50%;
  
  pointer-events:none;
  opacity:.85;
}

.globe-rotator img{
  position:relative;
  width:110%;
  height:110%;
  object-fit:cover;
  object-position:center;
  border-radius:50%;
  filter:
    drop-shadow(0 26px 55px rgba(0,0,0,.35))
    contrast(0.98)
    saturate(0.92)
    brightness(0.90);
}

/* Text inside globe */
.hero-text{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  pointer-events:none;
  padding: 0 10%;
  text-align:center;
}
.globe-stack{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:6px;
  width:100%;
}

/* Line 1 */
.brand.one-line{
  width:100%;
  max-width: 92%;
  display:flex;
  align-items:baseline;
  justify-content:center;
  white-space:nowrap;
  gap:0;
  text-transform:uppercase;
  font-weight:900;
  line-height:1.02;
  font-size: clamp(1.02rem, 6.0cqw, 1.85rem);
  letter-spacing: 0;
  text-shadow:
    0 1px 0 rgba(0,0,0,.55),
    0 2px 12px rgba(0,0,0,.72),
    0 0 26px rgba(0,0,0,.42);
  -webkit-font-smoothing: antialiased;
  text-rendering: geometricPrecision;
}
.brand.one-line .btc{
  color:var(--accent);
  font-weight:900;
  font-size: 1.50em;
  line-height: 0.95;
  text-shadow:
    0 0 10px rgba(242,169,0,.20),
    0 0 20px rgba(242,169,0,.10),
    0 2px 20px rgba(0,0,0,.70);
}
.brand.one-line .analytics-rest{
  color: var(--text-main);
  font-weight:850;
  opacity:1;
  text-shadow: 0 1px 10px rgba(0,0,0,.55);
}
body.scrolled .brand.one-line .analytics-rest{ color: var(--text-muted); }
.brand.one-line .spacer{ display:inline-block; width:.55ch; }

/* Line 2 */
.brand-claim.inline{
  display:flex;
  align-items:baseline;
  justify-content:center;
  gap:12px;
  width:100%;
  max-width: 92%;
  margin-inline:auto;
  font-size: clamp(.72rem, 2.55cqw, .96rem);
  letter-spacing:.08em;
  color: rgba(232,238,248,.98);
  text-shadow:
    0 2px 16px rgba(0,0,0,.62),
    0 0 28px rgba(0,0,0,.38);
}
.brand-claim.inline .cap{
  display:inline-block;
  font-size: 1.22em;
  font-weight: 900;
  margin-right: 2px;
  color: var(--accent);
}
.brand-claim.inline .rest{
  text-transform:lowercase;
  font-weight:850;
  color: var(--text-main);
}
body.scrolled .brand-claim.inline .rest{ color: var(--text-muted); }

.vsep{
  width:1px;
  height:15px;
  border-radius:999px;
  background: rgba(242,169,0,.34);
  
  opacity:.85;
  transform: translateY(1px);
}

.hero-claim{
  margin-top:18px;
  text-align:center;
  max-width:980px;
  font-size:clamp(.96rem, 1.3vw, 1.14rem);
  letter-spacing:1.5px;
  opacity:.92;
  text-shadow:0 10px 30px rgba(0,0,0,.38);
  white-space:nowrap;
  color:var(--text-main);
}
.hero-claim span{ color:var(--accent); }

/* Scroll arrows */
.scroll-indicator{
  margin-top:36px;
  animation:bounce 2s infinite;
  cursor:pointer;
  display:inline-flex;
  justify-content:center;
  opacity:.95;
  color:var(--text-main);
}
@keyframes bounce{
  0%,20%,50%,80%,100%{ transform:translateY(0); }
  40%{ transform:translateY(-10px); }
}
.scroll-indicator.up{ margin-top:26px; }

/* ===================== CARDS ===================== */
.glass-card{
  background-color: var(--glass);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-radius:20px;
  padding:44px;
  width:100%;
  max-width:930px;
  border:1px solid rgba(255,255,255,.12);
  
  transition:
    background-color .35s ease,
    backdrop-filter .35s ease,
    box-shadow .35s ease,
    transform .35s ease;
}
.glass-card:hover{
  background-color: rgba(10,15,25,.22);
  backdrop-filter: blur(26px);
  -webkit-backdrop-filter: blur(26px);
  
  transform: translateY(-2px);
}
@media (hover: none){
  .glass-card:hover{
    background-color: var(--glass);
    backdrop-filter: blur(20px);
    -webkit-backdrop-filter: blur(20px);
    
    transform: none;
  }
}

.highlight{ color:var(--accent); font-weight:700; }

.summary-box{
  margin-top:16px;
  padding:16px;
  border-left:4px solid var(--accent);
  background:rgba(255,255,255,.05);
  line-height:1.65;
  border-radius:14px;
  color:var(--text-main);
}

.sub-kicker{
  margin-top:10px;
  opacity:.90;
  line-height:1.65;
  font-size:1.0rem;
  color:var(--text-main);
}

/* Steps */
.fund-steps{
  margin-top:10px;
  display:flex;
  gap:6px;
  flex-wrap:wrap;
  align-items:center;
  justify-content:flex-start;
  color: rgba(170,184,202,.88);
  font-weight:900;
  letter-spacing:.08em;
  text-transform:uppercase;
  font-size:.72rem;
}
.fund-steps .sep{
  width:6px;height:6px;border-radius:50%;
  background: rgba(242,169,0,.55);
  opacity:.9;
}

/* ===================== FUND ===================== */
.pay-row{ margin-top:16px; display:grid; gap:6px; }

.pay-grid{
  display:grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap:6px;
}

/* same-size tiles */
.pay-card,
.region-card{
  position:relative;
  text-align:left;
  padding:8px 10px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.035);
  color:var(--text-main);
  transition:.18s;

  height:64px;
  min-height:64px;

  display:flex;
  flex-direction:column;
  justify-content:center;

  overflow:hidden;
}
.pay-card{ cursor:pointer; }
.region-card{ cursor:default; }

.pay-card:hover,
.region-card:hover{
  transform: translateY(-1px);
  border-color: rgba(242,169,0,.22);
  background: rgba(242,169,0,.055);
}
.pay-card.active{
  border-color: rgba(46,213,115,.35);
  background: rgba(46,213,115,.055);
  
}

.pay-dot{
  position:absolute;
  top:9px;
  right:9px;
  width:9px;height:9px;
  border-radius:999px;
  background: rgba(255,255,255,.18);
  border:1px solid rgba(255,255,255,.18);
}
.pay-card.active .pay-dot{
  background: var(--green);
  border-color: var(--green-border);
  
}

.pay-top{
  display:flex;
  align-items:center;
  gap:8px;
}
.pay-ico{ width:16px;height:16px; opacity:.95; }
.pay-title{
  font-size:.68rem;
  font-weight:900;
  letter-spacing:.10em;
  text-transform:uppercase;
}
.pay-desc{
  margin-top:5px;
  font-size:.78rem;
  line-height:1.2;
  color: rgba(210,220,235,.86);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* Apple Pay / Google Pay badges */
.pay-badges{
  margin-left:auto;
  display:inline-flex;
  gap:6px;
  align-items:center;
  padding-right:18px; /* extra safety from status dot */
  margin-top:4px; /* nudge badges down */
}
.pay-badge{
  height:16px;
  padding:0 7px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background:rgba(255,255,255,.04);
  color:rgba(232,238,248,.92);
  font-size:.58rem;
  font-weight:900;
  letter-spacing:.04em;
  line-height:14px;
  white-space:nowrap;
}

/* Region tile */
.region-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:6px;
}
.region-left{
  display:flex;
  align-items:center;
  gap:8px;
  min-width:0;
}
.region-card select{
  width:96px;
  height:30px;
  flex:0 0 auto;

  border:1px solid rgba(255,255,255,.10);
  background: rgba(10,15,25,.18);
  color: var(--text-main);
  border-radius:10px;
  padding:4px 10px;
  outline:none;

  font-weight:900;
  letter-spacing:.04em;
  font-size:.80rem;
}

/* geo warning */
.geo-warn{
  margin-top:10px;
  padding:10px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: rgba(200,210,224,.85);
  font-size:.82rem;
  line-height:1.45;
  display:none;
}

.fund-panels{ margin-top:14px; }
.fund-panel{ display:none; }
.fund-panel.active{ display:block; }

.fund-grid{
  margin-top:10px;
  display:grid;
  grid-template-columns: 140px 1fr;
  gap:12px;
  align-items:start;
}

/* QR container (no clipping) */
.qr-wrap{
  border-radius:14px;
  border:1px solid rgba(255,255,255,.18);
  background:rgba(255,255,255,.07);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  padding:9px;
  display:flex;
  align-items:center;
  justify-content:center;
}
.qr{
  width:128px;
  height:128px;
  border-radius:10px;
  overflow:visible;
  background:#fff;
  border:1px solid rgba(0,0,0,.10);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:6px;
}
.qr img{
  width:100%;
  height:100%;
  display:block;
  image-rendering: -webkit-optimize-contrast;
  image-rendering: crisp-edges;
  transform: translateZ(0);
}

/* Address */

.addr-value{
  margin-top:7px;
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono","Courier New", monospace;
  font-size:.80rem;
  letter-spacing:.2px;
  color: var(--text-main);
  line-height:1.25;
  padding-right:170px;
  white-space:nowrap;
  display:flex;
  align-items:center;
  gap:0;
  height:1.25em;
  overflow:hidden;
}
.addr-value .addr-first,
.addr-value .addr-last{
  flex:0 0 auto;
}
.addr-value .addr-mid{
  flex:1 1 auto;
  min-width:0;
  overflow:hidden;
}
/* Revealed state: allow horizontal scroll but keep same height */

.addr-card{
  position:relative;
  border-radius:14px;
  padding:12px 12px 10px 12px;
  background: rgba(255,255,255,.03);
  border:1px solid rgba(255,255,255,.08);
  min-height:86px; /* stable height like card/bank */
}


.addr-label{
  font-size:.72rem;
  color: var(--text-muted);
  padding-right:170px;
  line-height:1.1;
}



.action-btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:8px;
  padding:8px 12px;
  border-radius:10px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);
  color:var(--text-main);
  font-weight:900;
  letter-spacing:.06em;
  text-transform:uppercase;
  font-size:.62rem;
  cursor:pointer;
  transition:.18s;
  text-decoration:none;
}
.action-btn:hover{ transform:translateY(-1px); }
.action-btn.primary{
  border-color: rgba(242,169,0,.35);
  background: rgba(242,169,0,.12);
}
.action-btn.primary:hover{
  border-color: rgba(242,169,0,.55);
  background: rgba(242,169,0,.18);
}
.action-btn.card{
  border-color: rgba(242,169,0,.70);
  background: rgba(242,169,0,.22);
}

.action-btn.card:hover{
  border-color: rgba(242,169,0,.60);
  background: rgba(242,169,0,.20);
}

.copy-mini{
  position:absolute;
  top:10px;
  right:10px;
  padding:8px 10px;
  border-radius:10px;
  border:1px solid rgba(242,169,0,.35);
  background:rgba(242,169,0,.10);
  color:var(--text-main);
  cursor:pointer;
  font-weight:900;
  letter-spacing:.06em;
  text-transform:uppercase;
  font-size:.58rem;
  transition:.18s;
}
.copy-mini:hover{
  transform:translateY(-1px);
  background:rgba(242,169,0,.16);
  border-color:rgba(242,169,0,.55);
}


.addr-tools{
  position:absolute;
  top:10px;
  right:10px;
  display:flex;
  gap:8px;
  align-items:center;
}
.addr-tools .copy-mini{
  position:static;
  top:auto;
  right:auto;
}
.warn{
  margin-top:10px;
  padding:12px 14px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  color: var(--text-muted);
  font-size:.90rem;
  line-height:1.55;
}
.warn strong{ color: var(--text-main); }

.compliance{
  margin-top:8px;
  padding-top:10px;
  border-top:1px solid rgba(255,255,255,.10);
  color:rgba(160,172,188,.80);
  font-size:.82rem;
  line-height:1.55;
}

.amount-row{
  margin-top:12px;
  display:flex;
  gap:6px;
  flex-direction:column;
  align-items:flex-start;
  margin-bottom:4px;
}

.amount-line{
  margin-top:0;
  display:flex;
  gap:8px;
  align-items:center;
  width:100%;
  flex-wrap:wrap;
}



.amount-options{
  display:flex;
  gap:6px;
  align-items:center;
  flex-wrap:wrap;
}

.opt-btn{
  height:30px;
  padding:0 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  color:var(--text-main);
  font-weight:900;
  letter-spacing:.04em;
  font-size:.66rem;
  cursor:pointer;
  transition:.18s;
  white-space:nowrap;
}

.opt-btn:hover{ transform:translateY(-1px); border-color: rgba(242,169,0,.22); background: rgba(242,169,0,.055); }
.opt-btn.active{
  animation: none !important;
  box-shadow: 0 0 14px rgba(46,213,115,.55);
}
.opt-unit{ opacity:.85; }

@media (max-width: 520px){
  .amount-row{ flex-wrap:wrap; }
}
.amount{
  display:flex;
  align-items:center;
  gap:6px;
  padding:8px 10px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(10,15,25,.22);
}
.amount label{
  font-size:.70rem;
  font-weight:900;
  letter-spacing:.08em;
  text-transform:uppercase;
  opacity:.85;
}
.amount input{
  width:120px;
  padding:0;
  margin:0;
  border:0;
  outline:none;
  background:transparent;
  color:var(--text-main);
  font-weight:900;
  letter-spacing:.02em;
  font-size:.98rem;
}
.amount .unit{
  font-size:.76rem;
  font-weight:900;
  letter-spacing:.08em;
  opacity:.85;
  text-transform:uppercase;
}

/* Reveal */
.reveal{ opacity:0; transform:translateY(14px); transition:opacity .8s ease, transform .8s ease; }
.reveal.in{ opacity:1; transform:translateY(0); }

/* Form */
input, textarea{
  width:100%;
  padding:14px;
  margin-bottom:10px;
  background:rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.1);
  color:var(--text-main);
  border-radius:10px;
  font-family:inherit;
  outline:none;
}
.btn{
  width:100%;
  padding:15px;
  background:var(--accent);
  border:none;
  border-radius:10px;
  font-weight:900;
  cursor:pointer;
  text-transform:uppercase;
  color:#000;
  transition:.25s;
}
.btn:hover{ background:#d99800; transform:translateY(-2px); }

/* honeypot hidden */
.hp{
  position:absolute;
  left:-9999px;
  width:1px;height:1px;
  overflow:hidden;
  opacity:0;
}

/* Footer */
footer{
  background:rgba(10,15,25,.90);
  padding:42px 10%;
  text-align:center;
  border-top:1px solid rgba(255,255,255,.10);
  font-size:.85rem;
  color:rgba(160,172,188,.78);
}
.footer-strong{ color:var(--text-main); font-weight:800; letter-spacing:.6px; }
.footer-meta{ margin-top:10px; opacity:.85; }
.footer-tagline{
  margin-top:6px;
  color:rgba(242,169,0,.92);
  letter-spacing:1px;
  text-transform:uppercase;
  font-weight:800;
  font-size:.78rem;
}
.footer-legal{
  margin-top:8px;
  opacity:.75;
  line-height:1.6;
  font-size:.8rem;
}

/* ================= MOBILE MENU ================= */
@media (max-width: 768px){
  header{ padding:16px 16px; }
  header.scrolled{ padding:12px 16px; }
  .nav-toggle{ display:inline-flex; }

  nav{
    position:absolute;
    top:calc(100% + 10px);
    left:16px; right:16px;
    display:grid;
    gap:6px;
    padding:14px;
    border-radius:16px;
    background:rgba(10,15,25,.90);
    border:1px solid rgba(255,255,255,.10);
    backdrop-filter:blur(16px);
    
    opacity:0;
    transform:translateY(-8px);
    pointer-events:none;
    transition:.2s;
  }

  header.nav-open nav{
    opacity:1;
    transform:translateY(0);
    pointer-events:auto;
  }

  nav a, .nav-group-toggle{
    width:100%;
    text-align:left;
    padding:12px 12px;
    border-radius:12px;
    background:rgba(255,255,255,.04);
    border:1px solid rgba(255,255,255,.08);
    opacity:.95;
  }

  nav a.active::after{ display:none; }
  nav a.active{ color:var(--accent); }

  .nav-group-menu{
    position:static;
    min-width:unset;
    background:transparent;
    border:none;
    padding:0;
    
    opacity:1;
    transform:none;
    pointer-events:auto;
    transition:none;
    display:none;
  }

  .nav-group.open .nav-group-menu{
    display:grid;
    gap:8px;
    padding-top:10px;
  }

  .fund-grid{ grid-template-columns: 1fr; gap:12px; }
  section{ padding:130px 8% 105px; }
  .glass-card{ padding:34px; }
  .hero-claim{ white-space:normal; letter-spacing:1.2px; line-height:1.35; }
  .hero-stage{ width:min(360px, 78vw); }
}

/* Desktop + Tablet: keep 2 columns */
@media (max-width: 980px){
  .pay-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
/* Small phone: 1 column */
@media (max-width: 520px){
  .pay-grid{ grid-template-columns: 1fr; }
}


#onrampBtn{
  flex:0 0 auto;
  min-width: 200px;
  max-width: 260px;
  justify-content:center;
  border-color: rgba(242,169,0,.60) !important;
  background: rgba(242,169,0,.20) !important;
  
}


.cta-badges .pay-badge{
  height:14px;
  min-width:unset;
  padding:0 8px;
  font-size:.58rem;
  line-height:14px;
}
@media (max-width: 520px){
  .cta-badges{ width:100%; justify-content:flex-start; }
}

/* CTA stronger + green ready state */
.action-btn.card{
  border-color: rgba(242,169,0,.78);
  background: rgba(242,169,0,.24);
  
}
.action-btn.card.ready{
  border-color: rgba(46,213,115,.78);
  background: rgba(46,213,115,.12);
  animation: readyPulse 1.35s ease-in-out infinite;
}


/* Reveal scroll inside the middle segment only (prevents card resize/jump) */
.addr-mid.shownmid{
  overflow-x:auto;
  overflow-y:hidden;
  scrollbar-width:none;          /* Firefox */
}
.addr-mid.shownmid::-webkit-scrollbar{ height:0; } /* WebKit */

/* Card/Bank title as compact tags */
.cardbank-tags{
  display:flex;
  gap:8px;
  align-items:center;
  flex:0 0 auto;
}
.cardbank-tag{
  height:18px;
  padding:0 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.03);
  color:var(--text-main);
  font-weight:900;
  letter-spacing:.04em;
  font-size:.72rem;
  line-height:18px;
  white-space:nowrap;
}

/* Center common chevron elements */
.chev, .chevron{
  display:block;
  margin-left:auto;
  margin-right:auto;
}

@keyframes readyPulse{
  0%{
    
  }
  50%{
    
  }
  100%{
    
  }
}


/* ===================== TUNING: QR + ADDRESS HEIGHT + OPEN WALLET ===================== */
/* 1) QR smaller and centered in BTC/USDT */
.qr-wrap{
  display:flex;
  justify-content:center !important;
  align-items:center;
}
.qr{
  width: 92px !important;
  height: 92px !important;
  box-sizing:border-box;
}
.qr canvas, .qr img, .qr svg{
  width:100% !important;
  height:100% !important;
  display:block;
}

/* 2) Address box (addr-card) less tall, no jump */
.addr-card{
  min-height: 78px !important;
  padding: 10px 12px !important;
}
.addr-card .addr-value{
  min-height: 18px !important;
}

/* 3) Open wallet: wider but not full width, keep green selected effect */
.wallet-actions,
.fund-actions{
  display:flex;
  justify-content:center;
}
#openBtcWalletBtn,
#openUsdtWalletBtn{
  width: min(520px, 92%);
  max-width: 520px;
  margin: 0 auto;
  border-radius: 18px;
}
/* ensure the green effect remains visible (same as selected tiles) */
#openBtcWalletBtn,
#openUsdtWalletBtn{
  border: 1px solid rgba(46, 213, 115, .85) !important;
  background: rgba(46, 213, 115, .10) !important;
  
}


/* ===================== FINAL SPACING + WIDTH MATCH ===================== */
/* Match Open Wallet width exactly to address box and add vertical spacing */
.fund-panel .wallet-actions,
.fund-panel .fund-actions{
  margin-top: 14px; /* space between address box and Open Wallet */
}

#openBtcWalletBtn,
#openUsdtWalletBtn{
  width: 100%;
  max-width: none;
}

/* Ensure parent limits the width (same as address box) */
.wallet-actions,
.fund-actions{
  width: 100%;
}


/* Card/Bank badges: stack Apple Pay & Google Pay vertically, avoid green dot */
.pay-card .badges,
.pay-card .pay-badges,
.pay-card .card-badges{
  display:flex !important;
  flex-direction:column !important;
  align-items:flex-start !important;
  gap:6px !important;
  padding-right:12px !important;
}
.pay-card .badges img,
.pay-card .pay-badges img,
.pay-card .card-badges img{
  width:22px !important;
  height:auto !important;
}


/* Continue Payment active (green) */
.continue-payment.active,
#continuePaymentBtn.active{
  border: 1px solid rgba(46, 213, 115, .85);
  background: rgba(46, 213, 115, .10);
  
}


/* Continue Payment active state (no glow) */
.continue-payment.active,
#continuePaymentBtn.active{
  border: 1px solid rgba(46, 213, 115, .85) !important;
  background: rgba(46, 213, 115, .10) !important;
  position: relative;
}

/* Green dot top-right (match payment select boxes) */
.continue-payment.active::after,
#continuePaymentBtn.active::after{
  content:"";
  position:absolute;
  top:10px;
  right:10px;
  width:10px;
  height:10px;
  border-radius:999px;
  background: rgba(46,213,115,.95);
}


/* Onramp CTA: green like selected boxes (NO glow) + dot top-right */
#onrampBtn.ready{
  border: 1px solid rgba(46, 213, 115, .85) !important;
  background: rgba(46, 213, 115, .10) !important;
  position: relative;
}
#onrampBtn.ready::after{
  content:"";
  position:absolute;
  top:10px;
  right:10px;
  width:10px;
  height:10px;
  border-radius:999px;
  background: rgba(46,213,115,.95);
}
/* Slightly wider CTA without taking full row */
#onrampBtn{
  min-width: 240px;
}


/* Align amount/checkout box width with address box */
.amount-line{
  max-width: var(--content-max-width);
  margin-left: auto;
  margin-right: auto;
}

/* Slightly tune Continue payment */
#onrampBtn{
  padding: 14px 18px;
  font-weight: 800;
}

/* Currency symbol closer to number, slightly right */
.amount{
  display:flex;
  align-items:flex-end;
}
#fiatUnit{
  margin-left: 6px;
  margin-bottom: 2px;
}


/* Amount row: align width with address box/cards */
.amount-line{
  width:100%;
  max-width: 92%;
  margin-inline:auto;
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:wrap;
}

/* Amount input: keep currency tight to number */
.amount{
  display:flex;
  align-items:flex-end;
  gap:8px;
}
#fiatUnit{
  margin-bottom:2px;
  opacity:.9;
  font-weight:900;
}

/* Continue button a touch more compact */
#onrampBtn{
  padding: 12px 16px;
  font-weight: 800;
}


/* Compact amount field and place Continue beside it */
.amount-line{
  display:flex;
  align-items:flex-end;
  gap:12px;
  flex-wrap:nowrap;
}
.amount{
  max-width:220px;
}
#onrampBtn{
  white-space:nowrap;
}


.amount{
  max-width: 190px !important;
}
.amt-input-wrap{
  position: relative;
  display: block;
}
#onrampBtn{
  height: 46px;
  display:flex;
  align-items:center;
  justify-content:center;
}

/* Currency symbol INSIDE the amount box (right side) */
#fiatUnit{
  position:absolute !important;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
  pointer-events: none;
  font-weight: 900;
  opacity: .9;
}


.amount{
  max-width:150px !important;
}
#onrampBtn{
  height:40px !important;
  padding:10px 14px !important;
  font-size:14px;
}


/* ===================== Amount row final sizing ===================== */
/* Align the two CONTROLS (input + button) to the same visual height */
.amount-line{
  display:flex;
  align-items:flex-end;
  gap:10px;
  flex-wrap:nowrap;
}

/* Keep the amount block compact */
.amount{
  max-width: 150px !important;
}

/* Wrap input so currency can live INSIDE the input box */
.amt-input-wrap{
  position: relative;
  height: 40px;
}

/* Currency symbol INSIDE the input (right side) */
#fiatUnit{
  position:absolute !important;
  right: 10px;
  top: 50%;
  transform: translateY(-50%);
  margin: 0 !important;
  padding: 0 !important;
  border: none !important;
  background: transparent !important;
  pointer-events: none;
  font-weight: 900;
  opacity: .9;
}

/* Continue button: same height, not too wide */
#onrampBtn{
  height: 40px !important;
  line-height: 40px !important;
  padding: 0 14px !important;
  width: auto !important;
  min-width: 0 !important;
  flex: 0 0 auto !important;
  white-space: nowrap;
}

/* Make sure button doesn't stretch if a parent uses flex */
.amount-line > #onrampBtn{
  flex: 0 0 auto !important;
}


/* ===================== FINAL OVERRIDES (Amount row) ===================== */
.amount-line{
  display:flex !important;
  align-items:flex-end !important;
  gap:10px !important;
  flex-wrap:nowrap !important;
  width:100%;
}

/* amount block keeps label above input */
.amount{
  display:flex !important;
  flex-direction:column !important;
  align-items:flex-start !important;
  max-width:150px !important;
  margin:0 !important;
}

/* input wrap ensures currency INSIDE */
.amount .amt-input-wrap{
  position:relative !important;
  height:38px !important;
}

/* currency inside input, right side */
.amount-line #fiatUnit{
  position:absolute !important;
  right:10px !important;
  top:50% !important;
  transform:translateY(-50%) !important;
  margin:0 !important;
  padding:0 !important;
  border:none !important;
  background:transparent !important;
  pointer-events:none !important;
  font-weight:900 !important;
  opacity:.9 !important;
}

/* button compact and same height as input */
.amount-line #onrampBtn{
  height:38px !important;
  line-height:38px !important;
  padding:0 14px !important;
  width:auto !important;
  min-width:0 !important;
  max-width:none !important;
  flex:0 0 auto !important;
  white-space:nowrap !important;
}


/* FINAL shrink: smaller amount + CTA */
.amount{
  max-width:120px !important;
}
.amount .amt-input-wrap{
  height:32px !important;
}
.amount-line #fiatUnit{
  right:8px !important;
  font-size:13px !important;
}
.amount-line #onrampBtn{
  height:32px !important;
  line-height:32px !important;
  padding:0 12px !important;
  font-size:13px !important;
}


/* === Requested tweaks === */
/* Push payment button further right */
.amount-line{
  gap:14px !important;
}
.amount-line #onrampBtn{
  margin-left:auto !important; /* push to the right */
}

/* Make amount input about half as long */
.amount{
  max-width:90px !important;
}

/* Ensure number then currency symbol (suffix) */
.amount-line #fiatUnit{
  right:6px !important;   /* tight to number */
  left:auto !important;
}


/* ===== Amount row layout fix ===== */
.amount-line{
  display:flex !important;
  align-items:center !important;
  gap:12px !important;
  flex-wrap:nowrap !important;
}

/* Amount block inline: Amount 50$ */
.amount{
  display:flex !important;
  flex-direction:row !important;
  align-items:center !important;
  gap:8px !important;
  max-width:none !important;
  flex:0 0 auto !important;
}
.amt-label{
  font-weight:800;
  opacity:.9;
}

/* Compact input + suffix symbol inside */
.amount .amt-input-wrap{
  position:relative !important;
  height:32px !important;
}
.amount-line #fiatUnit{
  position:absolute !important;
  right:6px !important;
  top:50% !important;
  transform:translateY(-50%) !important;
  font-size:13px !important;
}

/* Continue button: stay on same line, compact */
.amount-line #onrampBtn{
  margin-left:auto !important;
  flex:0 0 auto !important;
  height:32px !important;
  line-height:32px !important;
  padding:0 12px !important;
  font-size:13px !important;
  white-space:nowrap !important;
}

/* If screen is too narrow, stack cleanly (instead of ugly squeeze) */
@media (max-width: 360px){
  .amount-line{
    flex-wrap:wrap !important;
  }
  .amount-line #onrampBtn{
    margin-left:0 !important;
    width:100% !important;
    justify-content:center;
  }
}


/* ===== Compact + align amount row to match rest ===== */
/* Ensure the whole black row matches the same outer width as other boxes */
.amount-line{
  max-width: 92% !important;
  margin-inline: auto !important;
}

/* Make "Amount" label smaller relative to the number */
.amt-label{
  font-size: 12px !important;
  letter-spacing: .02em;
  opacity: .82 !important;
}

/* Keep Continue button not wider than the row and visually balanced */
.amount-line #onrampBtn{
  padding: 0 12px !important;
  font-size: 13px !important;
}


/* ===== Requested alignment + equal height + dot-safe ===== */

/* Keep row compact and aligned with other boxes */
.amount-line{
  align-items: center !important;
}

/* Move the amount group slightly to the right so its END aligns better with the top 30 pill row */
.amount-line .amount{
  margin-left: 10px !important;
}

/* Small gap between amount and payment button */
.amount-line{
  gap: 10px !important;
}
.amount .amt-input-wrap{
  height: 34px !important;
}

/* Dot must never run into text: reserve space on the right when ready */
#onrampBtn{
  padding-right: 30px !important;
  position: relative;
}

/* If ready dot exists, keep it top-right and clear of text */
#onrampBtn.ready::after{
  top: 8px !important;
  right: 10px !important;
}

/* Ensure button doesn't grow wider than needed */
.amount-line #onrampBtn{
  width: auto !important;
  min-width: 0 !important;
  flex: 0 0 auto !important;
}


/* ===== FIX: apply to the REAL markup (amount-options + amount-line) ===== */

/* Keep quick options and amount line on same outer width */
.amount-row .amount-options,
.amount-line{
  max-width: 92% !important;
  margin-inline: auto !important;
}

/* Amount line: force single row, centered vertically */
.amount-line{
  display:flex !important;
  align-items:center !important;
  justify-content:flex-start !important;
  gap:8px !important;            /* small gap to button */
  flex-wrap:nowrap !important;
}

/* Move the amount cluster slightly right (end aligns better under the 30 button row) */
.amount-line .amount{
  margin-left: 14px !important;
}

/* Amount label smaller so it doesn't dominate */
.amount-line .amt-label{
  font-size: 11px !important;
  opacity: .78 !important;
}

/* Keep currency inside input and not overlapping */
.amount-line .amt-input-wrap{
  height: 32px !important;
}
.amount-line #fiatUnit{
  right: 7px !important;
  top: 50% !important;
  transform: translateY(-50%) !important;
  font-size: 12px !important;
}

/* Button sits right next to amount, not dropping; keep compact and dot-safe */
.amount-line #onrampBtn{
  margin-left: 6px !important;
  padding: 0 12px !important;
  font-size: 12px !important;
  width: auto !important;
  flex: 0 0 auto !important;
  white-space: nowrap !important;
  padding-right: 30px !important; /* space for dot */
}

/* Dot never runs into text */
#onrampBtn.ready::after{
  top: 8px !important;
  right: 10px !important;
  width: 10px !important;
  height: 10px !important;
}


/* ===== FINAL ALIGNMENT: amount with 30, payment follows ===== */

/* Use same left offset as quick amount buttons (30/50/…) */
.amount-row{
  max-width:92% !important;
  margin-inline:auto !important;
}

/* Align amount-line start exactly with quick options */
.amount-line{
  margin-left: 0 !important;
  padding-left: 0 !important;
  justify-content:flex-start !important;
}

/* Push amount so its RIGHT EDGE aligns with the 30 button */
.amount-line .amount{
  margin-left: 22px !important; /* matches visual offset of 30 pill */
}

/* Payment sits right after amount with same rhythm */
.amount-line #onrampBtn{
  margin-left: 8px !important;
}


/* ===== APPLY: Amount aligned with first quick option (30) ===== */
.amount-row{
  max-width: 92% !important;
  margin-inline: auto !important;
  padding: 0 !important;
}

/* Quick options already start at the left edge; make amount-line start at same edge */
.amount-row .amount-options{
  width: 100% !important;
  margin: 0 !important;
  padding: 0 !important;
}

.amount-row .amount-line{
  width: 100% !important;
  margin: 10px 0 0 0 !important;  /* small spacing under options */
  padding: 0 !important;
  display: flex !important;
  align-items: center !important;
  justify-content: flex-start !important;
  gap: 8px !important;
}

/* Remove any previous offset that pushed amount to the right */
.amount-row .amount-line .amount{
  margin-left: 0 !important;
}

/* Keep button right after amount, not wrapping */
.amount-row .amount-line #onrampBtn{
  margin-left: 8px !important;
  flex: 0 0 auto !important;
}


/* ===== Ensure amount input fits 3+ digits comfortably (100, 200, 1 000, 10 000) ===== */
.amount-row .amount-line .amount{
  max-width: none !important;   /* remove any cap that squeezes the input */
  flex: 0 0 auto !important;
}

/* Keep the suffix symbol inside and not overlapping */
.amount-row .amount-line #fiatUnit{
  right: 10px !important;
}


/* ===== CLEAN FINAL: Amount input width (fits 100/200/1 000/10 000) ===== */
.amount-row .amount-line{
  display:flex !important;
  align-items:center !important;
  gap:8px !important;
  flex-wrap:nowrap !important;
}
.amount-row .amount-line .amount{
  display:flex !important;
  flex-direction:row !important;
  align-items:center !important;
  gap:8px !important;
  max-width:none !important;
  flex:0 0 auto !important;
}
.amount-row .amount-line .amt-input-wrap{
  position:relative !important;
  height:32px !important;
}
.amount-row .amount-line #fiatAmount{
  width: 172px !important;
  min-width: 172px !important;
  height:32px !important;
  line-height:32px !important;
  box-sizing:border-box !important;
  padding:0 34px 0 10px !important; /* room for €/$ */
  font-size:13px !important;
}
.amount-row .amount-line #fiatUnit{
  position:absolute !important;
  right:10px !important;
  top:50% !important;
  transform:translateY(-50%) !important;
  pointer-events:none !important;
  font-weight:900 !important;
  opacity:.9 !important;
}


/* Align Amount label and number on one line */
.amount-row .amount-line .amt-label{
  line-height:32px !important;
  font-size:12px !important;
  margin:0 !important;
  padding:0 !important;
  align-self:center !important;
}
.amount-row .amount-line .amount{
  align-items:center !important;
}


/* ===== FIX BASELINE: Amount label and number on same baseline ===== */
.amount-row .amount-line{
  align-items: baseline !important;
}

.amount-row .amount-line .amount{
  display:flex !important;
  flex-direction:row !important;
  align-items: baseline !important;
}

.amount-row .amount-line .amt-label{
  line-height: normal !important;
  margin-top: 0 !important;
  margin-bottom: 0 !important;
  padding: 0 !important;
}

.amount-row .amount-line .amt-input-wrap{
  display:flex !important;
  align-items: baseline !important;
}

.amount-row .amount-line #fiatAmount{
  line-height: normal !important;
  padding-top: 0 !important;
  padding-bottom: 0 !important;
}


/* ===== VISUAL ALIGN: Amount label and number same height/center ===== */
.amount-row .amount-line{
  align-items: center !important;
}

.amount-row .amount-line .amount{
  align-items: center !important;
}

.amount-row .amount-line .amt-label{
  display:inline-flex !important;
  align-items:center !important;
  height:32px !important;
  line-height:32px !important;
  margin:0 !important;
  padding:0 !important;
}

.amount-row .amount-line .amt-input-wrap{
  display:flex !important;
  align-items:center !important;
  height:32px !important;
}

.amount-row .amount-line #fiatAmount{
  height:32px !important;
  line-height:32px !important;
  padding-top:0 !important;
  padding-bottom:0 !important;
}


/* ===== FINAL TUNE: wider amount, payment a bit to the right ===== */

/* Make amount box wider so numbers breathe */
.amount-row .amount-line #fiatAmount{
  width: 190px !important;
  min-width: 190px !important;
  padding-right: 36px !important; /* room for €/$ */
}

/* Push payment button slightly to the right */
.amount-row .amount-line #onrampBtn{
  margin-left: 16px !important;
}



/* Step dot turns green when a payment method is selected */
#stepPaymentDot.done{ background: rgba(46,213,115,.95); }

/* Amount step dot: orange default, green when card selected AND amount > 0 */
#stepAmountDot{
  width:8px;height:8px;border-radius:50%;
  background: var(--accent);
  display:inline-block;margin-right:8px;
  transition: background .2s ease;
}
#stepAmountDot.done{ background: rgba(46,213,115,.95); }


/* ===== Unify step dots: same orange + brightness ===== */
.fund-steps .sep{
  background: var(--accent);
  opacity: .95;
}
.fund-steps .sep.done,
#stepPaymentDot.done,
#stepAmountDot.done{
  background: rgba(46,213,115,.95) !important;
  opacity: 1;
}


/* ===== Payment tile placement (safe): Card above BTC, keep 2-col layout ===== */
.pay-grid{
  display:grid !important;
  grid-template-columns: repeat(2, minmax(0, 1fr)) !important;
  gap: 12px !important;
}

/* Place tiles explicitly */
#tabCard{ grid-column: 1; grid-row: 1; }
#tabUsdt{ grid-column: 2; grid-row: 1; }
#tabBtc { grid-column: 1; grid-row: 2; }

/* If a 4th tile exists, it will flow naturally */


.pay-card.dim:hover{
  opacity: .6; /* still indicates it can be switched */
}


/* ===== Dim non-selected payment tiles (softer but more noticeable) ===== */
.pay-card{
  transition: opacity .24s ease, transform .24s ease, filter .24s ease;
}

.pay-card.dim{
  opacity: .22;                 /* more obvious */
  filter: grayscale(.35) brightness(.9) saturate(.8);
  transform: scale(.985);       /* subtle de-emphasis */
}

.pay-card.dim:hover{
  opacity: .55;                 /* still clearly clickable */
  filter: grayscale(0) brightness(1) saturate(1);
  transform: scale(.995);
}

/* ===== Mobile tuning (touch targets + spacing) ===== */
@media (max-width: 420px){
  .pay-grid{
    gap: 10px !important;       /* tighter but consistent */
  }

  /* Payment tiles: bigger touch area */
  .pay-card{
    min-height: 52px;
    padding: 14px 14px !important;
    border-radius: 18px !important;
  }

  /* Amount option pills: easier to tap */
  .amount-options{
    gap: 8px !important;
  }
  .opt-btn{
    min-height: 44px;
    padding: 10px 12px !important;
    border-radius: 16px !important;
  }

  /* Amount line: slightly more breathing room */
  .amount-line{
    gap: 10px !important;
  }

  /* Small interactive buttons under address (Show/Copy/Open Wallet) */
  .addr-actions button,
  .addr-actions a{
    min-height: 44px;
    padding: 10px 12px !important;
    border-radius: 16px !important;
  }

  /* General vertical rhythm between sections */
  .card{
    margin-bottom: 12px !important;
  }
}


/* ===== Step dots: equal size + closer to text ===== */
.fund-steps .sep,
#stepPaymentDot,
#stepAmountDot,
#stepFundDot{
  width:10px !important;
  height:10px !important;
  border-radius:50% !important;
  margin-right:6px !important; /* closer to text */
}

/* Ensure step labels align nicely with dots */

/* ===== PATCH: Step labels smaller + never overflow ===== */
.fund-steps{
  display:flex;
  flex-direction:column;
  gap:10px;
}
.fund-steps .step-item{
  display:flex;
  align-items:center;
  gap:8px;
  width:100%;
  min-width:0;
}
.fund-steps .step-label{
  font-size:12px !important;
  line-height:1.15;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  flex:1;
  min-width:0;
}

/* Also keep "Open Wallet" buttons text safe (extra hardening) */
.open-wallet-btn{
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

.fund-steps span{
  line-height: 1.1;
}


/* ===== Step dots color states ===== */
/* inactive = red */
.fund-steps .sep{
  background: rgba(235, 77, 75, .95); /* red */
}

/* active/done = green */
.fund-steps .sep.done,
#stepPaymentDot.done,
#stepAmountDot.done,
#stepFundDot.done{
  background: rgba(46,213,115,.95) !important;
}

/* current but not done = orange */
.fund-steps .sep.current{
  background: var(--accent) !important;
}


/* ===== Micro animation when a dot becomes green (done) ===== */
  45%  { transform: scale(1.35); box-shadow: 0 0 16px rgba(46,213,115,.55); }
  100% { transform: scale(1); box-shadow: 0 0 0 rgba(46,213,115,0); }
}
.fund-steps .sep.done{
  animation: dotPop .38s ease-out;
}


/* ===== Step dots: start ALL red, then orange=current, green=done ===== */
#stepPaymentDot, #stepAmountDot, #stepFundDot{
  background: rgba(235, 77, 75, .95) !important; /* red */
  opacity: 1 !important;
}
#stepPaymentDot.current, #stepAmountDot.current, #stepFundDot.current{
  background: var(--accent) !important; /* orange */
}
#stepPaymentDot.done, #stepAmountDot.done, #stepFundDot.done{
  background: rgba(46,213,115,.95) !important; /* green */
}


/* ===== Enforce step label order visually (prevents any wrap/reflow confusion) ===== */
.fund-steps{ display:flex; flex-wrap:wrap; }
#stepPaymentDot{ order: 1; }
.fund-steps span:nth-of-type(1){ order: 2; } /* Select payment */
#stepAmountDot{ order: 3; }
.fund-steps span:nth-of-type(2){ order: 4; } /* NEXT STEP: SELECT FUNDING AMOUNT */
#stepFundDot{ order: 5; }
.fund-steps span:nth-of-type(3){ order: 6; } /* NEXT STEP: FUND EDUCATION AND RESEARCH & research */


/* ===== Step labels: enforce correct order (payment -> amount -> fund) ===== */
.fund-steps{
  display:flex;
  flex-wrap:wrap;
  align-items:center;
  gap: 10px 14px; /* row/col gap */
}

.fund-steps .step-dot{ order: 0; }
#stepPaymentDot{ order: 1; }
#stepPaymentLabel{ order: 2; }
#stepAmountDot{ order: 3; }
#stepAmountLabel{ order: 4; }
#stepFundDot{ order: 5; }
#stepFundLabel{ order: 6; }


/* ===== Steps: keep in one row (shrink on small screens) ===== */
.fund-steps{
  flex-wrap: nowrap !important;
  gap: 8px 10px !important;
}
.fund-steps .step-label{
  font-size: 12px;
  white-space: nowrap;
}
.fund-steps .step-dot{
  width: 9px !important;
  height: 9px !important;
  margin-right: 6px !important;
}
@media (max-width: 420px){
  .fund-steps{
    gap: 6px 8px !important;
  }
  .fund-steps .step-label{
    font-size: 11px;
  }
  .fund-steps .step-dot{
    width: 8px !important;
    height: 8px !important;
    margin-right: 5px !important;
  }
}


/* ===== Ensure step dots visible + animation ===== */
.fund-steps .step-dot,
.fund-steps .sep{
  display:inline-block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* Re-attach animation when turning done */
.fund-steps .step-dot.done,
.fund-steps .sep.done{
  animation: dotPop .38s ease-out;
}


/* ===== Stronger + longer dot animation ===== */
@keyframes dotPop {
  0%   { transform: scale(1);    box-shadow: 0 0 0 rgba(46,213,115,0); }
  30%  { transform: scale(1.55); box-shadow: 0 0 26px rgba(46,213,115,.85); }
  60%  { transform: scale(1.18); box-shadow: 0 0 18px rgba(46,213,115,.65); }
  100% { transform: scale(1);    box-shadow: 0 0 0 rgba(46,213,115,0); }
}

/* Apply longer animation to done dots */
.fund-steps .step-dot.done,
.fund-steps .sep.done{
  animation: dotPop .72s cubic-bezier(.2,.9,.2,1) !important;
}

/* ===== Step bar slightly stronger ===== */
.fund-steps{
  padding: 10px 12px;
  border-radius: 18px;
  background: rgba(10,15,25,.22);
  box-shadow: 0 0 0 1px rgba(255,255,255,.06) inset;
}


/* ===== Pulse animation for NEXT step (current) ===== */
@keyframes dotPulse {
  0%   { box-shadow: 0 0 0 rgba(242,169,0,0); }
  50%  { box-shadow: 0 0 14px rgba(242,169,0,.75); }
  100% { box-shadow: 0 0 0 rgba(242,169,0,0); }
}

.fund-steps .step-dot.current,
.fund-steps .sep.current{
  animation: dotPulse 1.1s ease-in-out infinite;
}


/* ===== Step labels: smaller + equal sizing ===== */
.fund-steps .step-label{
  font-size: 12px !important;
  font-weight: 500 !important;
  line-height: 1.1 !important;
  letter-spacing: .01em;
}
@media (max-width: 420px){
  .fund-steps .step-label{
    font-size: 11px !important;
  }
}


/* ===== Force identical dot size in ALL modes (Card/BTC/USDT) ===== */
.fund-steps .sep,
.fund-steps .step-dot,
#stepPaymentDot,
#stepAmountDot,
#stepFundDot{
  width: 10px !important;
  height: 10px !important;
  min-width: 10px !important;
  min-height: 10px !important;
  border-radius: 50% !important;
  margin-right: 6px !important;
  flex: 0 0 10px !important;
  box-sizing: border-box !important;
}

/* Keep size stable even during animations */
.fund-steps .sep.done,
.fund-steps .sep.current,
.fund-steps .step-dot.done,
.fund-steps .step-dot.current{
  width: 10px !important;
  height: 10px !important;
}


/* ===== Amount option pulse (selected) ===== */
@keyframes optPulse {
  0%   { box-shadow: 0 0 0 rgba(46,213,115,0); transform: translateY(0); }
  50%  { box-shadow: 0 0 18px rgba(46,213,115,.45); transform: translateY(-1px); }
  100% { box-shadow: 0 0 0 rgba(46,213,115,0); transform: translateY(0); }
}
.opt-btn.active{
  animation: none !important;
  box-shadow: 0 0 14px rgba(46,213,115,.55);
}

/* ===== Continue payment: orange dot + pulse when ready (Card + amount) ===== */
.continue-payment{
  position: relative;
  padding-right: 42px !important; /* room for dot */
}

.cta-dot{
  position:absolute;
  top:10px;
  right:12px;
  width:10px;
  height:10px;
  border-radius:50%;
  background: rgba(235, 77, 75, .95); /* red default */
}

@keyframes ctaPulse {
  0%   { box-shadow: 0 0 0 rgba(242,169,0,0); }
  50%  { box-shadow: 0 0 18px rgba(242,169,0,.85); }
  100% { box-shadow: 0 0 0 rgba(242,169,0,0); }
}

/* When active/ready -> orange + pulse */
.continue-payment.active .cta-dot{
  background: var(--accent);
  animation: ctaPulse 1.05s ease-in-out infinite;
}

/* Make button border match selected style (orange) when active */
.continue-payment.active{
  border: 1px solid rgba(242,169,0,.85) !important;
  background: rgba(242,169,0,.10) !important;
}


/* ===== Step dots color scheme (Card flow) ===== */
/* default */
#stepPaymentDot, #stepAmountDot, #stepFundDot{
  background: rgba(235,77,75,.95); /* red */
}

/* amount selected */
#stepAmountDot.done{
  background: rgba(46,213,115,.95) !important; /* green */
}

/* fund next */
#stepFundDot.current{
  background: var(--accent) !important; /* yellow */
}

/* disable animations */
#stepPaymentDot, #stepAmountDot, #stepFundDot{
  animation: none !important;
}


/* ===== Yellow = next step, strong pulse ===== */
@keyframes yellowPulseStrong{
  0%   { box-shadow: 0 0 0 rgba(246,211,101,0); transform: scale(1); }
  35%  { box-shadow: 0 0 28px rgba(246,211,101,.95); transform: scale(1.35); }
  70%  { box-shadow: 0 0 18px rgba(246,211,101,.75); transform: scale(1.15); }
  100% { box-shadow: 0 0 0 rgba(246,211,101,0); transform: scale(1); }
}

/* current (next step) = yellow + strong pulse */
#stepPaymentDot.current,
#stepFundDot.current,
#stepAmountDot.current{
  background: var(--accent) !important;
  animation: yellowPulseStrong 1.35s ease-in-out infinite !important;
}

/* Ensure no leftover CTA dot */
.cta-dot{ display:none !important; }


/* ===== Subtle highlight for amount options when Card + amount selected ===== */
@keyframes amountGlow {
  0%   { box-shadow: 0 0 0 rgba(46,213,115,0); }
  50%  { box-shadow: 0 0 14px rgba(46,213,115,.45); }
  100% { box-shadow: 0 0 0 rgba(46,213,115,0); }
}

/* active amount option gets gentle glow */
.opt-btn.active.amount-highlight{
  animation: amountGlow 1.4s ease-in-out infinite;
}


/* ===== Ensure Amount dot turns GREEN when done ===== */
#stepAmountDot.done{
  background: rgba(46,213,115,.95) !important; /* green */
  animation: none !important;
}


/* ===== Unify current (next-step) dots to accent orange ===== */
#stepPaymentDot.current,
#stepAmountDot.current,
#stepFundDot.current{
  background: var(--accent) !important;
}


/* ===== Open Wallet: force GREEN done state (override primary orange + animations) ===== */
#openBtcWalletBtn.wallet-done,
#openUsdtWalletBtn.wallet-done{
  border-color: rgba(46,213,115,1) !important;
  background: rgba(46,213,115,.38) !important;
  background-image: none !important;
  box-shadow: 0 0 0 1px rgba(46,213,115,.55) inset, 0 0 22px rgba(46,213,115,.25) !important;
  color: rgba(232,238,248,.98) !important;
  animation: none !important;
  transition: none !important;
}


/* ===== Amount buttons: orange attention pulse when Card selected ===== */
@keyframes amountOrangePulse{
  0%   { box-shadow: 0 0 0 rgba(242,169,0,0); transform: translateY(0); }
  50%  { box-shadow: 0 0 18px rgba(242,169,0,.85); transform: translateY(-1px); }
  100% { box-shadow: 0 0 0 rgba(242,169,0,0); transform: translateY(0); }
}
.opt-btn.attention{
  animation: amountOrangePulse 1.35s ease-in-out infinite;
}
/* Never animate the selected (green) one */
.opt-btn.active.attention{
  animation: none !important;

  animation: none !important;
  box-shadow: none !important;
}


/* Pulse ONLY the number inside amount buttons */
.amount-num.attention{
  display:inline-block;
  animation: numberPulse 1.4s ease-in-out infinite;
  color: var(--accent);
}

@keyframes numberPulse{
  0%{ text-shadow: 0 0 0 rgba(242,169,0,0); }
  50%{ text-shadow: 0 0 16px rgba(242,169,0,.95); }
  100%{ text-shadow: 0 0 0 rgba(242,169,0,0); }
}

/* active amount stays green, no pulse */
.opt-btn.active .amount-num{
  animation:none !important;
  color: var(--green);
}


/* Ensure NO pulse/glow on amount button itself */
.opt-btn.attention,
.opt-btn.attention:hover{
  animation: none !important;
  box-shadow: none !important;
  border-color: inherit !important;
  background-image: none !important;
}


/* Amount numbers default orange (when Card selected) */
.amount-num{
  color: var(--accent);
}
/* Selected amount stays green */
.opt-btn.active .amount-num{
  color: var(--green) !important;
}


/* Address masking: FORCE stars, never dots */
.addr-mask-stars{
  letter-spacing: 0.8px;
  font-size: 0.92em;
}


/* Smooth fade when revealing masked address */
.addr-mid,
.addr-mask-stars{
  transition: opacity .35s ease, filter .35s ease;
}
.addr-mid.hidden{
  opacity: 1;
}
.addr-mid.revealing{
  opacity: 0;
  filter: blur(2px);
}


/* === Address mask fade (show / hide) === */
.addr-mid{
  transition: opacity .35s ease, filter .35s ease;
}
.addr-mid.masked{
  opacity: 1;
  filter: blur(0);
}
.addr-mid.fading-out{
  opacity: 0;
  filter: blur(2px);
}
.addr-mid.fading-in{
  opacity: 0;
  filter: blur(2px);
}
.addr-mid.fading-in.show{
  opacity: 1;
  filter: blur(0);
}


/* === WORKING fade on address container (Show/Hide + Auto-hide) === */
.addr-fade{
  transition: opacity var(--fade-dur) ease, filter var(--fade-dur) ease;
  will-change: opacity, filter;
}
.addr-fade.addr-fade-out{
  opacity: 0;
  filter: blur(2px);
}


/* Force NO green dot on Continue / Payment step */
#dotPayment.done{
  background: var(--accent) !important;
  animation: pulse 1.3s ease-in-out infinite !important;
}


/* === Continue Payment: orange dot when not ready, green blinking dot when ready (Card only) === */
.continue-payment{
  position: relative;
  padding-right: 42px; /* room for dot */
}
.continue-payment::after{
  content:"";
  position:absolute;
  top:10px;
  right:12px;
  width:10px;
  height:10px;
  border-radius:50%;
  background: var(--accent); /* orange */
  box-shadow: 0 0 0 rgba(242,169,0,0);
}
.continue-payment.cta-ready::after{
  background: var(--green);
  animation: ctaDotBlink 1.2s ease-in-out infinite;
}
@keyframes ctaDotBlink{
  0%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
  50%{ box-shadow: 0 0 18px rgba(46,213,115,.85); }
  100%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
}
/* Button color hint */
.continue-payment.cta-wait{
  border-color: rgba(242,169,0,.55) !important;
  background: rgba(242,169,0,.10) !important;
}
.continue-payment.cta-ready{
  border-color: rgba(46,213,115,.85) !important;
  background: rgba(46,213,115,.18) !important;
}


/* === Continue Payment color logic fixes === */
/* Force ORANGE (not brown) when waiting */
.continue-payment.cta-wait{
  color: var(--accent) !important;
  border-color: rgba(242,169,0,.65) !important;
  background: rgba(242,169,0,.10) !important;
}

/* Amount numbers hinting */
.opt-btn{
  transition: color .25s ease, box-shadow .25s ease;
}
.opt-btn.amount-hint{
  color: rgba(242,169,0,.9) !important;
}
.opt-btn.active{
  color: var(--green) !important;
}


/* === CTA color refinement: text white, border/bg only === */
.continue-payment{
  color: var(--text-main) !important;
}
.continue-payment.cta-wait{
  color: var(--text-main) !important;
  border-color: rgba(242,169,0,.75) !important;
  background: rgba(242,169,0,.12) !important;
}
.continue-payment::after{
  animation: ctaDotOrange 1.4s ease-in-out infinite;
}
.continue-payment.cta-ready::after{
  animation: ctaDotGreen 1.2s ease-in-out infinite;
}
@keyframes ctaDotOrange{
  0%{ box-shadow: 0 0 0 rgba(242,169,0,0); }
  50%{ box-shadow: 0 0 14px rgba(242,169,0,.85); }
  100%{ box-shadow: 0 0 0 rgba(242,169,0,0); }
}
@keyframes ctaDotGreen{
  0%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
  50%{ box-shadow: 0 0 18px rgba(46,213,115,.9); }
  100%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
}


/* === Unified orange + randomized amount hint pulse === */
:root{
  --orange-ui: rgba(242,169,0,.78);
  --orange-ui-bg: rgba(242,169,0,.12);
}
/* Make orange dot + borders match amount outline orange */
.continue-payment.cta-wait{
  border-color: var(--orange-ui) !important;
  background: var(--orange-ui-bg) !important;
}
.continue-payment::after{
  background: var(--accent); /* keep dot solid orange */
}
@keyframes amountHintBlink{
  0%{ box-shadow: 0 0 0 rgba(242,169,0,0); }
  55%{ box-shadow: 0 0 10px rgba(242,169,0,.55); }
  100%{ box-shadow: 0 0 0 rgba(242,169,0,0); }
}
/* Amount hint: subtle pulse, but each has its own delay via CSS var */
.opt-btn.amount-hint{
  color: rgba(242,169,0,.90) !important;
  animation: amountHintBlink 1.9s ease-in-out infinite;
  animation-delay: var(--hint-delay, 0s);
}
/* Keep active amount green, no animation */
.opt-btn.active.amount-hint{
  animation: none !important;
}


/* === Amount selected: numbers white (override green/orange text) === */
.opt-btn.active{
  color: #ffffff !important;
}

/* Ensure hint animation only on non-active buttons */
.opt-btn.amount-hint:not(.active){
  animation: amountHintBlink 1.9s ease-in-out infinite;
}


/* === Amount buttons: numbers always white === */
.opt-btn{
  color: #ffffff !important;
}

/* Random hint blink: border + subtle glow only (no text changes) */
@keyframes amountBorderBlink{
  0%{ box-shadow: 0 0 0 rgba(242,169,0,0); border-color: rgba(242,169,0,.25); }
  55%{ box-shadow: 0 0 10px rgba(242,169,0,.45); border-color: rgba(242,169,0,.65); }
  100%{ box-shadow: 0 0 0 rgba(242,169,0,0); border-color: rgba(242,169,0,.25); }
}
.opt-btn.amount-hint:not(.active){
  animation: amountBorderBlink 1.9s ease-in-out infinite;
}
.opt-btn.active{
  animation: none !important;
  border-color: rgba(46,213,115,.85) !important;
  background: rgba(46,213,115,.18) !important;
}


/* === FORCE amount numbers white === */
.opt-btn,
.opt-btn span,
.opt-btn *{
  color:#ffffff !important;
}

/* === Stronger random border blink === */
@keyframes amountBorderBlinkStrong{
  0%{ box-shadow: 0 0 0 rgba(242,169,0,0); border-color: rgba(242,169,0,.25); }
  40%{ box-shadow: 0 0 18px rgba(242,169,0,.85); border-color: rgba(242,169,0,.9); }
  100%{ box-shadow: 0 0 0 rgba(242,169,0,0); border-color: rgba(242,169,0,.25); }
}
.opt-btn.amount-hint:not(.active){
  animation: amountBorderBlinkStrong 1.6s ease-in-out infinite !important;
}


/* === FORCE: amount button text always white (numbers) === */
.amounts .opt-btn,
.amounts .opt-btn .amount-num,
.amounts .opt-btn span,
.amounts .opt-btn *{
  color: #ffffff !important;
}


/* === FORCE amount option numbers white === */
.amount-options .opt-btn,
.amount-options .opt-btn .amount-num,
.amount-options .opt-btn span,
.amount-options .opt-btn *{
  color:#ffffff !important;
}


/* === Amount option border orange + blink (random) before selected, green when selected === */
.amount-options .opt-btn{
  border-color: rgba(242,169,0,.40) !important;
}
.amount-options .opt-btn.amount-hint:not(.active){
  border-color: rgba(242,169,0,.75) !important;
  animation: amountBorderBlinkStrong 1.6s ease-in-out infinite !important;
}
.amount-options .opt-btn.active{
  border-color: rgba(46,213,115,.85) !important;
  background: rgba(46,213,115,.18) !important;
}


/* === STRONGER visible amount border blink === */
@keyframes amountBorderBlinkStrong{
  0%{
    box-shadow: 0 0 0 rgba(242,169,0,0);
    border-color: rgba(242,169,0,.35);
  }
  50%{
    box-shadow: 0 0 22px rgba(242,169,0,.95);
    border-color: rgba(242,169,0,1);
  }
  100%{
    box-shadow: 0 0 0 rgba(242,169,0,0);
    border-color: rgba(242,169,0,.35);
  }
}

/* Force animation when hinting */
.amount-options .opt-btn.amount-hint:not(.active){
  animation: amountBorderBlinkStrong 1.3s ease-in-out infinite !important;
}


/* === Open Wallet (BTC/USDT): green dot with animation === */
#openBtcWalletBtn, #openUsdtWalletBtn, a#openBtcWalletLink, a#openUsdtWalletLink{
  position: relative;
  padding-right: 44px;
}
#openBtcWalletBtn::after, #openUsdtWalletBtn::after, a#openBtcWalletLink::after, a#openUsdtWalletLink::after{
  content:"";
  position:absolute;
  top:10px;
  right:12px;
  width:10px;
  height:10px;
  border-radius:50%;
  background: rgba(46,213,115,.95);
  animation: walletDotPulse 1.25s ease-in-out infinite;
}
@keyframes walletDotPulse{
  0%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
  55%{ box-shadow: 0 0 18px rgba(46,213,115,.92); }
  100%{ box-shadow: 0 0 0 rgba(46,213,115,0); }
}


/* === PATCH: Unified Open Wallet Button (BTC & USDT) === */
.open-wallet-btn{
  width:100%;
  margin:12px 0;
  height:48px;
  border-radius:14px;
  font-weight:800;
  font-size:15px;
}
@media (min-width: 520px){
  .open-wallet-btn{
    max-width:360px;
  }
}


/* === PATCH: QR left, Open Wallet right === */
.qr-wallet-row{
  display:flex;
  align-items:center;
  gap:14px;
  margin:12px 0;
}
.qr-wallet-row .qr-box{
  flex:1 1 auto;
}
.qr-wallet-row .open-wallet-btn{
  width:auto;
  min-width:160px;
  height:48px;
  margin:0;
  white-space:nowrap;
}
@media (max-width:420px){
  .qr-wallet-row{
    flex-direction:column;
    align-items:stretch;
  }
  .qr-wallet-row .open-wallet-btn{
    width:100%;
  }
}


/* === PATCH: Match Open Wallet Button height to QR box === */
.qr-wallet-row{
  align-items:stretch; /* make children equal height */
}
.qr-wallet-row .open-wallet-btn{
  height:auto;
  display:flex;
  align-items:center;
  justify-content:center;
}


/* === PATCH: Open Wallet in separate box above QR (same width) === */
.wallet-box{
  width:100%;
  margin:12px 0;
}
.wallet-box .open-wallet-btn{
  width:100%;
  height:48px;
  border-radius:14px;
  font-weight:800;
  font-size:15px;
}


/* === PATCH: Wallet box above QR, same column width === */
.wallet-box{ width:100%; margin:0 0 10px 0; }
.wallet-box .action-btn.open-wallet-btn{
  width:100%;
  display:flex;
  align-items:center;
  justify-content:center;
  height:48px;
  border-radius:14px;
  font-weight:800;
}


/* === PATCH: highlight WALLET and QR === */
.orange-word{
  color:#f2a900;
  font-weight:700;
}


/* === PATCH: Unified vertical spacing for fund panels === */
.fund-panel > *{
  margin-bottom:12px;
}

.fund-panel > *:last-child{
  margin-bottom:0;
}

/* Ensure consistent spacing for key wrappers */
.addr-card,
.summary-box,
.qr-wrap,
.warn{
  margin-top:0;
  margin-bottom:12px;
}


/* === PATCH: Force vertical stacking (no side-by-side) === */
/* Prevent QR + buttons from ever aligning horizontally */
.qr-wrap,
.qr-wrap *{
  display:block;
}

.qr-wrap{
  display:flex;
  flex-direction:column;
  align-items:stretch;
}

/* Ensure any action buttons under QR stay stacked */
.qr-wrap .open-wallet-btn,
.qr-wrap .action-btn,
.qr-wrap button,
.qr-wrap a{
  width:100%;
}


/* === PATCH: Force all funding layouts to single column (even in landscape) === */
.fund-grid{
  grid-template-columns: 1fr !important;
}


/* === PATCH: Center QR code === */
.qr-wrap{
  align-items: center !important;
  text-align: center;
}
.qr-wrap .qr,
.qr-wrap canvas,
.qr-wrap img{
  margin-left: auto;
  margin-right: auto;
}


/* payment brand icons */
.pay-badges.brand-icons{
  display:flex;
  gap:10px;
  margin-top:10px;
  align-items:center;
}
.pay-badges.brand-icons .pay-ico{
  display:inline-flex;
  align-items:center;
  justify-content:center;
}


/* === HARD FIX: ensure ALL payment SVG icons are visible === */
.pay-badges.brand-icons svg{
  display:inline-block !important;
  width:14px !important;
  height:14px !important;
  opacity:1 !important;
  visibility:visible !important;
}

.pay-badges.brand-icons .pay-ico{
  display:inline-flex !important;
  align-items:center !important;
  justify-content:center !important;
}


/* === PATCH: Payment options label + larger icons === */
.payment-options-label{
  margin-top:10px;
  margin-bottom:6px;
  font-size:12px;
  color:rgba(232,238,248,.85);
  font-weight:600;
}

.pay-badges.brand-icons svg{
  width:18px !important;
  height:18px !important;
}

.pay-badges.brand-icons .pay-ico{
  width:28px;
  height:28px;
}


/* === PATCH: Inline  row === */
.payment-options-row{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top:10px;
}

.payment-options-label-inline{
  font-size:12px;
  font-weight:600;
  color:rgba(232,238,248,.85);
  white-space:nowrap;
}

.pay-badges.brand-icons{
  display:flex;
  gap:10px;
  align-items:center;
}

.pay-ico{
  display:inline-flex;
  align-items:center;
  gap:4px;
}

.ico-label{
  font-size:11px;
  color:rgba(232,238,248,.85);
}


/* === Improve visibility: PayPal & Credit Card === */
.pay-ico.paypal svg path{
  fill:#3DBBFF !important; /* lighter PayPal blue */
}

.pay-ico.card svg rect,
.pay-ico.card svg path{
  fill: rgba(232,238,248,.95) !important;
  stroke: rgba(232,238,248,.95) !important;
}


/* === Strong PayPal visibility fix === */
.pay-ico.paypal{
  background: rgba(255,255,255,.06);
  border-radius:6px;
}

.pay-ico.paypal svg path:first-child{
  fill:#FFFFFF !important; /* main P white */
}

.pay-ico.paypal svg path:last-child{
  fill:#7DD3FC !important; /* light blue accent */
}


/* === Ultra-clear PayPal icon (final clean pass) === */
.pay-ico.paypal{
  background: rgba(255,255,255,.12);
  border: 1px solid rgba(255,255,255,.25);
  border-radius:6px;
}

.pay-ico.paypal svg{
  filter: drop-shadow(0 0 2px rgba(0,0,0,.35));
}

.pay-ico.paypal svg path{
  fill:#FFFFFF !important;
}

.pay-ico.paypal svg path + path{
  fill:#9AD7FF !important;
}


/* === Clean PayPal (no frame, clearer but light) === */
.pay-ico.paypal{
  background: transparent;
  border: none;
}

.pay-ico.paypal svg{
  filter:none;
}

.pay-ico.paypal svg path:first-child{
  fill:#ffffff !important;
}

.pay-ico.paypal svg path:last-child{
  fill:#7DB7FF !important;
}

/* === Credit Card: colored with VISA-style V === */
.pay-ico.card svg{
  width:14px;
  height:14px;
}

.pay-ico.card svg rect{
  fill:#1A1F71; /* VISA blue */
}

.pay-ico.card svg text{
  fill:#ffffff;
  font-weight:700;
  font-size:7px;
}

/* === Bank: colored professional green === */
.pay-ico.bank svg path,
.pay-ico.bank svg rect{
  fill:#2ECC71 !important;
}


/* === PayPal: clear PP dual-blue icon === */
.pay-ico.paypal svg path:first-child{
  fill:#003087 !important; /* PayPal dark blue */
}
.pay-ico.paypal svg path:last-child{
  fill:#009CDE !important; /* PayPal light blue */
}

/* === Credit Card: stronger VISA-style visibility === */
.pay-ico.card svg rect{
  fill:#1A1F71 !important; /* VISA blue */
}
.pay-ico.card svg text{
  fill:#ffffff !important;
  font-weight:800;
  font-size:8px;
}


/* === Icon order fix === */
.pay-ico.card{ order:1; }
.pay-ico.bank{ order:2; }
.pay-ico.gpay{ order:3; }
.pay-ico.apple{ order:4; }
.pay-ico.paypal{ order:5; }


/* === Slightly larger payment icons === */
.pay-badges .pay-ico{
  width:28px;
  height:28px;
}

.pay-badges .pay-ico svg{
  width:16px;
  height:16px;
}


/* === Larger payment icons (step up) === */
.pay-badges .pay-ico{
  width:34px;
  height:34px;
}

.pay-badges .pay-ico svg{
  width:20px;
  height:20px;
}


/* === PayPal visibility boost: subtle white outline === */
.pay-ico.paypal svg{
  filter: drop-shadow(0 0 0.6px rgba(255,255,255,.9))
          drop-shadow(0 0 1.2px rgba(255,255,255,.6));
}


/* === Payment options label inline (outside icons so it always shows) === */
.payment-options-row-inline{
  display:flex;
  align-items:center;
  gap:10px;
  flex-wrap:nowrap;
}

.payment-options-inline{
  font-size:12px;
  font-weight:700;
  color:rgba(232,238,248,.9);
  white-space:nowrap;
}


/* === Icons immediately after colon === */
.payment-options-row-inline{
  gap:6px;
}

.payment-options-inline{
  margin-right:2px;
}


/* === Center payment options row === */
.payment-options-row-inline{
  justify-content:center;
  width:100%;
}

.pay-badges{
  justify-content:center;
}


/* === HARD CENTER payment options === */
.payment-options-row-inline{
  display:flex;
  justify-content:center !important;
  align-items:center;
  width:100%;
}

.payment-options-row-inline > *{
  margin-left:auto;
  margin-right:auto;
}

.payment-options-row-inline .pay-badges{
  display:flex;
  justify-content:center !important;
  align-items:center;
}


/* === Nudge icons slightly left === */
.payment-options-row-inline{
  transform: translateX(-10px);
}


/* === Move 'Payment options' text slightly right from the start === */
.payment-options-inline{
  margin-left:12px;
}


/* === Remove label and align icons fully right === */
.payment-options-row-inline{
  justify-content:flex-end !important;
  transform:none;
}

.pay-badges{
  justify-content:flex-end !important;
}


/* === THEME: Dark/Light Mode (variables) === */
:root{
  --bg:#070b12;
  --panel: rgba(10,15,25,.38);
  --panel-solid: rgba(10,15,25,.58);
  --text: rgba(232,238,248,.92);
  --muted: rgba(160,172,188,.82);
  --border: rgba(255,255,255,.10);
  --accent:#f2a900;
}

body/* apply variables (safe overrides) */
body{
  background: var(--bg) !important;
  color: var(--text);
}

.card, .panel, .glass, .fund-panel, .wrap, .container, .section, .box{
  border-color: var(--border);
}

/* === Theme toggle button === */
body/* Default: mobile-first */
@media (max-width: 520px){
  .payment-options-row-inline{
    justify-content:center !important;
  }
  .pay-badges{
    justify-content:center !important;
    gap:10px;
  }
  .pay-badges .pay-ico{
    width:34px;
    height:34px;
  }
  .pay-badges .pay-ico svg{
    width:20px;
    height:20px;
  }
}

/* Tablet/Desktop: align right, a touch tighter */
@media (min-width: 768px){
  .payment-options-row-inline{
    justify-content:flex-end !important;
  }
  .pay-badges{
    justify-content:flex-end !important;
    gap:8px;
  }
  .pay-badges .pay-ico{
    width:32px;
    height:32px;
  }
  .pay-badges .pay-ico svg{
    width:19px;
    height:19px;
  }
  }


/* === Light theme: reduce "glassy" look === */
body/* === Card-only hint box === */
.card-amount-hint{ display:none; margin-top:10px; }
.card-amount-hint-inner{
  padding:8px 10px;
  border-radius:10px;
  font-size:12px;
  line-height:1.25;
  color: var(--text);
  background: rgba(242,169,0,.10);
  border: 1px solid rgba(242,169,0,.45);
}

body/* === GREEN NEXT STEP HINT === */
.card-amount-hint-inner{
  background: rgba(46,213,115,.15);
  border: 1.5px solid rgba(46,213,115,.65);
  color: rgba(232,238,248,.95);
}

/* subtle blink for next step text */
@keyframes softBlink {
  0% { opacity: 1; }
  50% { opacity: .65; }
  100% { opacity: 1; }
}
.card-amount-hint-inner strong{
  animation: softBlink 1.6s ease-in-out infinite;
}


/* === HINT STATES === */
.card-amount-hint-inner{
  transition: background .25s ease, border-color .25s ease;
}

/* ORANGE: NEXT STEP: SELECT FUNDING AMOUNT */
.card-amount-hint-inner.state-amount{
  background: rgba(242,169,0,.18);
  border: 1.5px solid rgba(242,169,0,.75);
  color: rgba(232,238,248,.95);
}

/* GREEN: NEXT STEP: FUND EDUCATION AND RESEARCH */
.card-amount-hint-inner.state-fund{
  background: rgba(46,213,115,.18);
  border: 1.5px solid rgba(46,213,115,.75);
  color: rgba(232,238,248,.95);
}

/* subtle blink only for NEXT step label */
@keyframes softBlink {
  0% { opacity: 1; }
  50% { opacity: .65; }
  100% { opacity: 1; }
}
.card-amount-hint-inner.state-fund strong{
  animation: softBlink 1.6s ease-in-out infinite;
}


/* === ORANGE TONE BOOST (less brown, more vivid orange) === */
.card-amount-hint-inner.state-amount{
  background: rgba(255,165,0,.22);      /* brighter orange */
  border: 1.5px solid rgba(255,165,0,.85);
}


/* === ORANGE REFINEMENT: brighter, cleaner, thinner border === */
.card-amount-hint-inner.state-amount{
  background: rgba(255, 184, 77, .22);   /* lighter, cleaner orange (less brown) */
  border: 1px solid rgba(255, 165, 0, .65); /* thinner border */
}


/* === HINT BOX STYLE = AMOUNT NUMBER BOXES === */
.card-amount-hint{
  margin-top:10px;
}

.card-amount-hint-inner{
  display:flex;
  align-items:center;
  justify-content:center;
  min-height:44px;
  padding:10px 14px;
  border-radius:12px;
  font-size:13px;
  font-weight:600;
  letter-spacing:.2px;
  box-shadow: inset 0 0 0 1px rgba(255,255,255,.06);
}

/* ORANGE state (like inactive amount boxes) */
.card-amount-hint-inner.state-amount{
  background: rgba(255, 184, 77, .20);
  border: 1px solid rgba(255, 165, 0, .55);
}

/* GREEN state (like active/confirmed amount box) */
.card-amount-hint-inner.state-fund{
  background: rgba(46,213,115,.18);
  border: 1px solid rgba(46,213,115,.55);
}

/* subtle pulse only on fund state, same rhythm as amount focus */
@keyframes amountPulse {
  0% { box-shadow: 0 0 0 0 rgba(46,213,115,.0); }
  50% { box-shadow: 0 0 0 6px rgba(46,213,115,.15); }
  100% { box-shadow: 0 0 0 0 rgba(46,213,115,.0); }
}

.card-amount-hint-inner.state-fund{
  animation: amountPulse 1.8s ease-in-out infinite;
}


/* === COMPACT HINT (no background, minimal) === */
.card-amount-hint{
  margin-top:6px;
}

.card-amount-hint-inner{
  min-height:auto;
  padding:4px 6px;
  font-size:11px;
  font-weight:600;
  border-radius:6px;
  background: transparent !important;
  box-shadow:none !important;
}

/* ORANGE state: text-only cue */
.card-amount-hint-inner.state-amount{
  border:0;
  color: rgba(255,165,0,.95);
}

/* GREEN state: text-only cue */
.card-amount-hint-inner.state-fund{
  border:0;
  color: rgba(46,213,115,.95);
  animation:none; /* no pulse */
}


/* === Emphasize 'NEXT STEP: FUND EDUCATION AND RESEARCH' === */
.card-amount-hint-inner.state-fund{
  font-size:13px;
  font-weight:800;
  letter-spacing:.3px;
  text-transform: uppercase;
}


/* === FUND STATE: ONLY TEXT, ALL CAPS === */
.card-amount-hint-inner.state-fund{
  font-size:13px;
  font-weight:800;
  letter-spacing:.4px;
  text-transform: uppercase;
}


/* === BLINK ANIMATIONS === */
@keyframes softBlinkOrange {
  0% { opacity: 1; }
  50% { opacity: .65; }
  100% { opacity: 1; }
}

@keyframes softBlinkGreen {
  0% { box-shadow: 0 0 0 0 rgba(46,213,115,0); }
  50% { box-shadow: 0 0 0 6px rgba(46,213,115,.25); }
  100% { box-shadow: 0 0 0 0 rgba(46,213,115,0); }
}

/* === HINT STATES === */
/* ORANGE: NEXT STEP: SELECT FUNDING AMOUNT */
.card-amount-hint-inner.state-amount{
  color: rgba(255,165,0,1);
  text-transform: uppercase;
  font-weight:700;
  font-size:11px;
  animation: softBlinkOrange 1.6s ease-in-out infinite;
}

/* GREEN: FUND EDUCATION */
.card-amount-hint-inner.state-fund{
  color: rgba(46,213,115,1);
  text-transform: uppercase;
  font-weight:800;
  font-size:13px;
}

/* === CONTINUE PAYMENT BUTTON BLINK WHEN GREEN === */
.continue-payment.green,
button.green.continue-payment{
  animation: softBlinkGreen 1.8s ease-in-out infinite;
}


/* === CONTINUE PAYMENT SIZE = AMOUNT BOX HEIGHT === */
.continue-payment{
  min-height:44px;
  padding:10px 16px;
  font-size:14px;
  font-weight:700;
  border-radius:12px;
}

/* Blink ONLY when amount selected (green state) */
.continue-payment.green{
  animation: softBlinkGreen 1.8s ease-in-out infinite;
}


/* === Blink when amount is selected === */
.continue-payment.blink{
  animation: softBlinkGreen 1.8s ease-in-out infinite;
}


/* === Hint: make NEXT STEP: FUND EDUCATION AND RESEARCH same size as NEXT STEP: SELECT FUNDING AMOUNT === */
.card-amount-hint-inner.state-fund{
  font-size:11px !important;
  font-weight:700 !important;
  letter-spacing:.3px;
  text-transform: uppercase;
}

/* === Stronger attention glow for Continue Payment when ready === */
@keyframes strongGlowGreen {
  0%   { box-shadow: 0 0 0 0 rgba(46,213,115,0), 0 0 0 0 rgba(46,213,115,0); }
  50%  { box-shadow: 0 0 0 6px rgba(46,213,115,.18), 0 0 18px 0 rgba(46,213,115,.45); }
  100% { box-shadow: 0 0 0 0 rgba(46,213,115,0), 0 0 0 0 rgba(46,213,115,0); }
}
.continue-payment.blink{
  animation: strongGlowGreen 1.6s ease-in-out infinite !important;
}


/* === FORCE SINGLE LINE UPPERCASE HEADER === */
.orange-chamber,
.orange-chamber *{
  text-transform: uppercase;
}

.orange-chamber{
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}


/* === HINT SIZE BOOST (both states) === */
.card-amount-hint-inner{
  font-size:12.5px; /* slightly larger */
  line-height:1.25;
}

.card-amount-hint-inner.state-fund{
  font-size:12.5px; /* keep equal size */
}


/* === UNIFY PAYMENT OPTION TILE WIDTHS === */
.payment-options,
.payment-grid{
  display:grid !important;
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
  gap:12px;
}

.pay-card,
.payment-option,
.payment-tile{
  width:100% !important;
  min-width:0 !important;
  box-sizing:border-box;
}

.pay-card[aria-selected="true"],
.payment-option.active,
.payment-tile.active{
  width:100% !important;
}


/* === UNIFY ALL BOX WIDTHS BELOW PAYMENT TILES === */
.fund-panel,
.summary-box,
.addr-card,
.wallet-box,
.orange-chamber,
.card-amount-hint,
.card-amount-hint-inner,
.continue-payment,
.notice,
.warning,
.info-box{
  width:100% !important;
  max-width:100% !important;
  box-sizing:border-box;
}


/* === FIX HINT OVERFLOW (keep inside box) === */
.card-amount-hint-inner{
  max-width:100%;
  overflow:hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* if the FUND line is too long, shrink slightly instead of spilling */
.card-amount-hint-inner.state-fund{
  font-size:12px !important;
  letter-spacing:.2px !important;
}


/* === CARD PANEL: MATCH FULL-WIDTH STACK LIKE BTC / USDT === */
#panelCard .payment-grid,
#panelCard .summary-box,
#panelCard .addr-card,
#panelCard .wallet-box,
#panelCard .orange-chamber,
#panelCard .card-amount-hint,
#panelCard .card-amount-hint-inner,
#panelCard .continue-payment,
#panelCard .notice,
#panelCard .warning,
#panelCard .info-box{
  width:100% !important;
  max-width:100% !important;
  box-sizing:border-box;
  margin-left:0 !important;
  margin-right:0 !important;
}

/* ensure vertical stack consistency */
#panelCard > *{
  align-self: stretch;
}


/* === TOP TEXT: RESPONSIVE + CENTERED + NO OVERFLOW === */
.orange-chamber{
  width:100%;
  max-width:100%;
  text-align:center;

  font-size:12px;
  line-height:1.25;
  font-weight:600;
  letter-spacing:.3px;

  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

@media (max-width: 480px){
  .orange-chamber{
    font-size:11px;
  }
}

@media (min-width: 1200px){
  .orange-chamber{
    font-size:12.5px;
  }
}


/* === HARD FIX: TOP TEXT NEVER OVERFLOWS === */
.orange-chamber{
  width:100% !important;
  max-width:100% !important;
  box-sizing:border-box !important;
  padding-left:10px;
  padding-right:10px;

  display:block !important;
  text-align:center !important;

  white-space:nowrap !important;
  overflow:hidden !important;
  text-overflow:ellipsis !important;
}

/* If orange chamber is a flex row with icons/text inside, allow shrinking */
.orange-chamber > *{
  min-width:0 !important;
  max-width:100% !important;
}

/* Cover common nested text nodes */
.orange-chamber span,
.orange-chamber p,
.orange-chamber strong{
  max-width:100% !important;
  white-space:nowrap !important;
  overflow:hidden !important;
  text-overflow:ellipsis !important;
  display:inline-block;
}


/* === FULL-WIDTH CONSISTENCY (Card should not be narrower) === */
#fund .amount-row,
#fund .brand.one-line{
  max-width:100% !important;
  width:100% !important;
  margin-inline:0 !important;
}

/* Also ensure any centering wrappers in card panel stretch */
#panelCard .amount-row{
  margin-left:0 !important;
  margin-right:0 !important;
}

/* Fix hint + continue overflow inside their boxes */
.card-amount-hint-inner{
  min-width:0 !important;
}

.continue-payment{
  max-width:100% !important;
  min-width:0 !important;
  box-sizing:border-box !important;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}


/* === HARD UNIFY: ALL PANELS SHARE IDENTICAL FULL-WIDTH STACK === */
#fund .fund-panel{
  width:100% !important;
  max-width:100% !important;
  margin-left:0 !important;
  margin-right:0 !important;
  padding-left:0 !important;
  padding-right:0 !important;
  box-sizing:border-box !important;
}

/* The inner "stack" container inside each panel (common patterns) */
#fund .fund-panel .amount-row,
#fund .fund-panel .summary-box,
#fund .fund-panel .addr-card,
#fund .fund-panel .wallet-box,
#fund .fund-panel .orange-chamber,
#fund .fund-panel .card-amount-hint,
#fund .fund-panel .continue-payment,
#fund .fund-panel .notice,
#fund .fund-panel .warning,
#fund .fund-panel .info-box{
  width:100% !important;
  max-width:100% !important;
  margin-left:0 !important;
  margin-right:0 !important;
  box-sizing:border-box !important;
}

/* Remove any auto-centering that can make Card narrower */
#fund .fund-panel *{
  max-width:100%;
}

/* Prevent text elements from forcing width */
#fund .fund-panel .card-amount-hint-inner,
#fund .fund-panel .orange-chamber,
#fund .fund-panel .continue-payment{
  min-width:0 !important;
}


/* === MATCH BTC/USDT WIDTH: LOCK ALL FLOW CONTENT TO SAME COLUMN WIDTH === */
:root{
  --flow-col: 520px; /* aligns with BTC/USDT wallet button width */
}

#fund .amount-row,
#fund .pay-row,
#fund .payment-grid,
#fund .summary-box,
#fund .addr-card,
#fund .wallet-box,
#fund .orange-chamber,
#fund .card-amount-hint,
#fund .continue-payment,
#fund .notice,
#fund .warning,
#fund .info-box{
  width: min(var(--flow-col), 100%) !important;
  max-width: var(--flow-col) !important;
  margin-left:auto !important;
  margin-right:auto !important;
  box-sizing:border-box !important;
}

/* keep panels full width but center their children column */
#fund .fund-panel{
  width:100% !important;
}

/* === Prevent overflow for long hint/button text === */
.card-amount-hint-inner{
  white-space: normal !important;
  overflow: hidden !important;
  text-overflow: clip !important;
  word-break: break-word;
  text-align:center;
}

.continue-payment{
  white-space: nowrap;
  overflow:hidden;
  text-overflow: ellipsis;
}


/* === FINAL HARD FIX: NO OVERFLOW ANYWHERE === */
#fund,
#fund *{
  box-sizing:border-box;
}

/* Force column width identical to BTC/USDT and prevent spill */
:root{
  --flow-col: 520px;
}

#fund .flow-col,
#fund .amount-row,
#fund .payment-grid,
#fund .summary-box,
#fund .addr-card,
#fund .wallet-box,
#fund .orange-chamber,
#fund .card-amount-hint,
#fund .continue-payment,
#fund .notice,
#fund .warning,
#fund .info-box{
  width:100% !important;
  max-width: var(--flow-col) !important;
  margin-left:auto !important;
  margin-right:auto !important;
  overflow:hidden;
}

/* Text wrapping fix for hint */
.card-amount-hint-inner{
  max-width:100%;
  white-space:normal !important;
  word-break:break-word;
  text-align:center;
}

/* === CONTINUE PAYMENT: SMALLER & CLEAN === */
.continue-payment{
  min-height:40px !important;
  padding:8px 14px !important;
  font-size:13px !important;
  border-radius:10px !important;
  max-width:100%;
}


/* === WHY IT OVERFLOWED: addr-value had padding-right:170px + nowrap (BTC/USDT addresses) === */
/* Fix: keep everything inside the black card, allow wrapping for long strings */
.glass-card{
  overflow:hidden;
}

/* Address line: no fixed padding, no nowrap, wrap anywhere */
.addr-value{
  padding-right:0 !important;
  white-space:normal !important;
  overflow:visible !important;
  display:block !important;
  height:auto !important;
  overflow-wrap:anywhere;
  word-break:break-word;
}

/* Keep the tool buttons aligned without reserving space in the text */
.addr-card{
  position:relative;
}
.addr-tools{
  position:absolute;
  top:10px;
  right:10px;
  gap:8px;
}

/* Remove icon-row translate that can push outside on some screens */
.payment-options-row-inline{
  transform:none !important;
  margin-left:0 !important;
  margin-right:0 !important;
}


/* === CARD ONLY: SCALE TEXT + CONTINUE BUTTON TO AVOID INNER OVERFLOW === */
#panelCard{
  --card-scale-font: 0.92;
}

/* scale down all text slightly inside card panel */
#panelCard *{
  font-size: calc(1em * var(--card-scale-font));
}

/* specifically ensure long texts fit */
#panelCard .orange-chamber,
#panelCard .card-amount-hint-inner{
  font-size: 11px !important;
  line-height: 1.2;
}

/* smaller Continue Payment button in card flow */
#panelCard .continue-payment{
  min-height:36px !important;
  padding:6px 12px !important;
  font-size:12px !important;
  border-radius:9px !important;
}


/* === CARD ONLY: HARD REDUCE TEXT & BUTTON SIZE TO FIT === */
#panelCard{
  font-size: 0.9em;
}

#panelCard .orange-chamber{
  font-size: 10.5px !important;
  line-height: 1.15 !important;
}

#panelCard .card-amount-hint-inner{
  font-size: 10.5px !important;
  line-height: 1.15 !important;
}

/* Continue payment smaller so it always fits */
#panelCard .continue-payment{
  min-height:32px !important;
  padding:5px 10px !important;
  font-size:11px !important;
  border-radius:8px !important;
}


/* === CARD: CONTINUE PAYMENT SIZE = AMOUNT BOX SIZE === */
#panelCard .continue-payment{
  min-height:44px !important;
  padding:10px 16px !important;
  font-size:14px !important;
  font-weight:700 !important;
  border-radius:12px !important;
  width:100% !important;
  max-width:100% !important;
  box-sizing:border-box !important;
}


/* === CARD: CONTINUE PAYMENT MATCH AMOUNT OPTION BUTTONS === */
#panelCard #onrampBtn.action-btn{
  height:30px !important;
  min-height:30px !important;
  padding:0 10px !important;
  border-radius:999px !important;
  font-size:.66rem !important;
  letter-spacing:.04em !important;
  font-weight:900 !important;
  text-transform:uppercase !important;

  width:100% !important;
  min-width:0 !important;
  max-width:100% !important;
}


/* === FINAL OVERRIDE: FORCE CONTINUE PAYMENT TO FILL COLUMN (CARD) === */
#panelCard #onrampBtn{
  flex: 1 1 auto !important;
  width: 100% !important;
  max-width: 100% !important;
  min-width: 0 !important;
  display: block !important;

  /* match amount box size feel */
  min-height: 44px !important;
  padding: 10px 16px !important;
  border-radius: 12px !important;
  font-size: 14px !important;
  font-weight: 800 !important;
  letter-spacing: .02em !important;
}


/* ===================== PATCH: Equal height (Amount box + Continue Payment) + no overflow ===================== */
:root{
  --fund-ctrl-h: 48px; /* unified control height */
}

/* Make the amount container and its input match the unified height */
.amount-row .amount-line .amount{
  height: var(--fund-ctrl-h) !important;
  padding: 0 12px !important;
  align-items: center !important;
}

/* Input wrapper + input fill the same height */
.amount-row .amount-line .amt-input-wrap{
  height: var(--fund-ctrl-h) !important;
  display:flex !important;
  align-items:center !important;
}
.amount-row .amount-line #fiatAmount{
  height: var(--fund-ctrl-h) !important;
  line-height: var(--fund-ctrl-h) !important;
}

/* Currency suffix stays centered */
.amount-row .amount-line #fiatUnit{
  top: 50% !important;
  transform: translateY(-50%) !important;
}

/* Continue Payment button: same height as amount box */
#onrampBtn{
  height: var(--fund-ctrl-h) !important;
  line-height: var(--fund-ctrl-h) !important;
  padding: 0 16px !important;
  display:flex !important;
  align-items:center !important;
  justify-content:center !important;
  min-width: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}

/* Open Wallet buttons (BTC/USDT): prevent text running over on small screens */
.open-wallet-btn{
  max-width: 100% !important;
  min-width: 0 !important;
  white-space: nowrap !important;
  overflow: hidden !important;
  text-overflow: ellipsis !important;
}
.wallet-actions, .fund-actions{
  min-width: 0 !important;
}





/* ===== PATCH: Contributions support text smaller + no wrap ===== */
.contributions-support,
.contribution-support,
.support-text{
  font-size:12px !important;
  line-height:1.2;
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
  display:block;
  width:100%;
}


/* ===== HARD FIX: Contributions text ALWAYS single line ===== */
.contributions,
.contributions *{
  white-space: nowrap !important;
}

.contributions{
  display:flex;
  align-items:center;
  justify-content:center;
  width:100%;
  min-width:0;
}

.contributions span,
.contributions p{
  font-size:11px !important;
  line-height:1;
  overflow:hidden;
  text-overflow:ellipsis;
  max-width:100%;
}


/* ===== FINAL HARD FIX: contributions text smaller + single line ===== */
.contributions,
.contributions *{
  white-space: nowrap !important;
}

#contribText{
  font-size:10px !important;
  line-height:1 !important;
  letter-spacing:-0.1px;
  display:inline-block;
  max-width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
}


/* ===== PATCH: Quick amount buttons not overlapping above box ===== */
.amount-options{
  margin-top:10px;           /* pushes 30/50 row down */
}

.opt-btn{
  height:32px;               /* tiny increase for better vertical balance */
  line-height:32px;          /* prevents text sitting too high */
  padding:0 10px;
}

/* ===== PATCH: top hint text responsive (likely "Text oben") ===== */
.card-amount-hint{
  max-width:100%;
}
.card-amount-hint-inner{
  font-size:12px !important;
  line-height:1.2;
  white-space:normal;        /* allow wrapping instead of overflow */
  overflow-wrap:anywhere;
  word-break:break-word;
}


/* ===== ADJUST: push quick amount buttons further down ===== */
.amount-options{
  margin-top:18px !important;   /* stronger push down */
  padding-top:2px;
}


/* ===== FIX: prevent 30/50 pills from "jumping" into box above on mobile tap-hover ===== */
.opt-btn:hover{
  transform:none !important;
}

/* Stronger vertical separation */
.amount-row{ margin-top:18px !important; }
.amount-options{ margin-top:22px !important; }


/* ===== Restore initiatives link without visible text ===== */
.contributions{
  position: relative;
}

.contrib-link{
  position:absolute;
  inset:0;
  text-indent:-9999px;
  overflow:hidden;
}


/* ===== PATCH: initiatives label in nav dropdown toggle ===== */
.nav-group-toggle{
  display:flex;
  align-items:center;
  gap:8px;
}
.nav-group-label{
  font-weight:900;
  letter-spacing:.04em;
  font-size:.72rem;
}


/* ===== PATCH: selected amount bigger & better aligned ===== */
.amount input,
#fiatAmount{
  font-size:28px !important;
  font-weight:800;
  line-height:1.2;
  text-align:left;
}

.amt-input-wrap{
  align-items:center;
}


/* ===== PATCH: make all nav links equal size (Initiatives included) ===== */
nav a,
.nav-group-toggle{
  font-size:14px !important;
  font-weight:800;
  letter-spacing:.04em;
  padding:10px 12px;
  line-height:1;
  display:flex;
  align-items:center;
}

.nav-group-toggle{
  gap:8px;
}

.nav-group-label{
  font-size:14px !important;
  font-weight:800;
  letter-spacing:.04em;
}


/* ===== Subtle glow / pulse for action keywords ===== */
@keyframes softGlow {
  0% {
    text-shadow: 0 0 0 rgba(242,169,0,0.0);
    opacity: 0.95;
  }
  50% {
    text-shadow: 0 0 8px rgba(242,169,0,0.55);
    opacity: 1;
  }
  100% {
    text-shadow: 0 0 0 rgba(242,169,0,0.0);
    opacity: 0.95;
  }
}

.orange-word{
  animation: softGlow 2.2s ease-in-out infinite;
}


/* ===== 1) Glow only when BTC/USDT panel active ===== */
.fund-panel:not(.active) .orange-word{
  animation: none !important;
}

/* ===== 4) Slower luxury pulse ===== */
.orange-word{
  animation: softGlow 6.5s ease-in-out infinite;
}

/* ===== 5) Thinner accent bracket ===== */
.summary-box{
  border-left-width:3px !important;
}

/* ===== 6) Subtle QR interaction ===== */
.qr{
  transition: transform .2s ease-out;
}
.qr:hover{
  transform: scale(1.02);
}

/* ===== 7) Network badge ===== */
.network-badge{
  font-size:11px;
  opacity:.75;
  margin-left:6px;
}

/* ===== 10) Reduced motion support ===== */
@media (prefers-reduced-motion: reduce){
  .orange-word{
    animation:none !important;
    font-weight:900;
  }
}


/* ===== WCAG polish: focus + microcopy contrast ===== */
a:focus-visible, button:focus-visible, input:focus-visible{
  outline: 2px solid var(--accent);
  outline-offset: 3px;
  border-radius: 12px;
}

.microcopy{
  display:inline-block;
  margin-top:4px;
  font-size:12px;
  line-height:1.25;
  opacity:.78;
  color: var(--text-muted);
}

/* Ensure summary strong label remains high contrast */
.summary-box strong{ color: var(--text-main); }


/* ===== Trust & security UI ===== */
.trust-row{
  margin-top:12px;
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  width:100%;
}

.trust-item{
  display:flex;
  align-items:center;
  gap:8px;
  padding:8px 10px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.04);
  color:var(--text-main);
  font-size:12px;
  line-height:1;
  white-space:nowrap;
  max-width:100%;
  overflow:hidden;
  text-overflow:ellipsis;
  min-width:0;
}



.trust-item.secondary{
  color:var(--text-muted);
  border-color:rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
}

.trust-note{
  margin-top:8px;
  font-size:12px;
  line-height:1.25;
  color:var(--text-muted);
  opacity:.9;
}

.trust-note strong{ color: var(--text-main); }

/* Footer trust strip */
.footer-trust{
  margin-top:18px;
  padding-top:14px;
  border-top:1px solid rgba(255,255,255,.08);
  display:flex;
  flex-wrap:wrap;
  gap:10px;
  align-items:center;
  justify-content:flex-start;
}

.footer-trust .trust-item{
  background:rgba(255,255,255,.03);
}

/* Reduced motion: no glow on icons either */
@media (prefers-reduced-motion: reduce){
  .trust-item{ transition:none !important; }
}



/* ===== Colored trust icons + subtle label tint ===== */








/* Ensure on-chain verifiable text also picks up a hint of green */
.trust-item.chain{ color: rgba(46,213,115,.92); border-color: rgba(46,213,115,.22); }
.trust-item.chain.secondary{ color: rgba(46,213,115,.86); }

/* Footer trust: keep icons accent but readable */
.footer-trust 


/* ===== Collapsible trust section ===== */
.trust-details{
  margin-top:12px;
  border:1px solid rgba(255,255,255,.08);
  background: rgba(255,255,255,.02);
  border-radius:14px;
  padding:10px 10px;
}

.trust-summary{
  list-style:none;
  cursor:pointer;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  font-weight:900;
  letter-spacing:.04em;
  font-size:12px;
  color: var(--text-main);
  user-select:none;
}

.trust-summary::-webkit-details-marker{ display:none; }

.trust-chev{
  transition: transform .18s ease;
  opacity:.8;
}

.trust-details[open] .trust-chev{
  transform: rotate(180deg);
}

.trust-body{
  margin-top:10px;
}

@media (prefers-reduced-motion: reduce){
  .trust-chev{ transition:none !important; }
}


/* ===== Show Security & Transparency only for selected asset ===== */
.fund-panel .trust-details{
  display:none;
}

.fund-panel.active .trust-details{
  display:block;
}


/* ===== Connection & Data Security sub-row (TLS / privacy) ===== */
.platform-trust{
  margin-top:10px;
  padding-top:10px;
  border-top:1px solid rgba(255,255,255,.08);
  display:flex;
  flex-wrap:wrap;
  gap:8px;
}
.platform-trust .trust-item{
  font-size:11px;
  padding:7px 10px;
  background:rgba(255,255,255,.03);
}

/* ===== Trust layout v2: cleaner, card-like, class colors ===== */
.trust-body{ margin-top:10px; }

.trust-section-title{
  font-size:11px;
  letter-spacing:.06em;
  text-transform:uppercase;
  color: var(--text-muted);
  margin: 4px 2px 10px;
}

.trust-row,
.platform-trust{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
  gap:10px;
  width:100%;
}

.trust-item{
  border-radius:14px;
  padding:10px 12px;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(255,255,255,.035);
  color:var(--text-main);
  font-size:12px;
  line-height:1.15;
  white-space:normal;
  overflow:visible;
  text-overflow:clip;
  display:flex;
  align-items:flex-start;
  gap:10px;
}

.trust-item.secondary{
  color:var(--text-muted);
  border-color:rgba(255,255,255,.08);
  background:rgba(255,255,255,.03);
}



.trust-item .ti-text{
  display:flex;
  flex-direction:column;
  gap:4px;
  min-width:0;
}

.trust-item .ti-title{
  font-weight:900;
  letter-spacing:.01em;
}

.trust-item .ti-sub{
  font-size:11px;
  color: var(--text-muted);
  line-height:1.25;
}






/* Clear but not alarming loss warning */
.trust-note{
  margin-top:10px;
  padding:10px 12px;
  border-radius:12px;
  border:1px dashed rgba(242,169,0,.35);
  background: rgba(242,169,0,.06);
  color: var(--text-muted);
}
.trust-note strong{ color: var(--text-main); }

@media (max-width: 380px){
  .trust-row, .platform-trust{ grid-template-columns: 1fr; }
}


/* ===== Trust icon colors: original intent ===== */
 /* Non-custodial */
   /* Direct routing */
   /* TLS */
  /* No smart contracts (neutral) */
 /* Network check */
  /* On-chain verifiable */
 /* Privacy */



/* size */
/* color by meaning (original intent) */
/* Non-custodial */
/* Direct routing */
/* TLS */
/* No smart contracts */
/* Network check */
/* On-chain verifiable */
/* Privacy */

/* text remains neutral */
.trust-item .ti-title{ color: var(--text-main); }
.trust-item .ti-sub{ color: var(--text-muted); }


/* ===== FINAL: per-icon ORIGINAL colors (not all orange) ===== */
.trust-item .ti-ico{
  width:16px;
  height:16px;
  flex:0 0 16px;
  stroke: currentColor;
}

/* Set color on the icon container so SVG inherits it */
.trust-item.lock{ color: var(--trust-orange); }   /* Non-custodial */
.trust-item.route{ color: var(--trust-blue); }    /* Direct routing */
.trust-item.tls{ color: var(--trust-blue); }      /* TLS */
.trust-item.warn{ color: var(--trust-orange); }   /* Network check */
.trust-item.chain{ color: var(--trust-green); }   /* On-chain verifiable */
.trust-item.nosc{ color: var(--trust-slate); }    /* No smart contracts */
.trust-item.privacy{ color: var(--trust-slate); } /* Privacy */

/* Keep text colors independent */
.trust-item .ti-title{ color: var(--text-main); }
.trust-item .ti-sub{ color: var(--text-muted); }


/* ===== Phosphor (free) icons for Trust area ===== */
.trust-item .ti-ico{
  width:18px;
  height:18px;
  flex:0 0 18px;
  font-size:18px;
  line-height:1;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

/* Per-icon colors (icon only) */
.trust-item.lock .ti-ico{ color: var(--trust-orange); }
.trust-item.route .ti-ico{ color: var(--trust-blue); }
.trust-item.tls .ti-ico{ color: var(--trust-blue); }
.trust-item.nosc .ti-ico{ color: var(--trust-slate); }
.trust-item.warn .ti-ico{ color: var(--trust-orange); }
.trust-item.chain .ti-ico{ color: var(--trust-green); }
.trust-item.privacy .ti-ico{ color: var(--trust-slate); }


/* ===== Trust layout compact tuning ===== */

/* overall smaller cards */
.trust-item{
  padding:8px 10px;
  font-size:11.5px;
  line-height:1.15;
}

/* icons slightly smaller */
.trust-item .ti-ico{
  width:16px;
  height:16px;
  font-size:16px;
}

/* titles a bit tighter */
.trust-item .ti-title{
  font-size:11.5px;
}

/* subtitles tighter */
.trust-item .ti-sub{
  font-size:10.5px;
}

/* make Direct routing card extra compact */
.trust-item.route{
  padding:6px 8px;
}

/* stack grid tighter */
.trust-row,
.platform-trust{
  gap:8px;
}

/* allow smaller min width so boxes shrink */
.trust-row{
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}
.platform-trust{
  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
}


/* ===== Trust layout ultra-compact (no empty space) ===== */

/* grid much tighter */
.trust-row,
.platform-trust{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
  gap:6px;
}

/* cards extremely compact */
.trust-item{
  padding:6px 8px;
  border-radius:10px;
  font-size:11px;
  line-height:1.1;
}

/* icon smaller */
.trust-item .ti-ico{
  width:14px;
  height:14px;
  font-size:14px;
}

/* text compact */
.trust-item .ti-title{
  font-size:11px;
  font-weight:800;
}

.trust-item .ti-sub{
  display:none; /* remove second line to avoid empty feel */
}

/* align items tightly */
.trust-item{
  align-items:center;
}

/* platform trust even smaller */
.platform-trust .trust-item{
  padding:5px 7px;
  font-size:10.5px;
}


/* ===== Trust layout ultra-compact v2 (very small badges) ===== */

/* tighter grid: more items per row */
.trust-row,
.platform-trust{
  grid-template-columns: repeat(auto-fit, minmax(90px, 1fr));
  gap:5px;
}

/* shrink cards further */
.trust-item{
  padding:4px 6px;
  border-radius:8px;
  font-size:10.5px;
  line-height:1;
}

/* icon even smaller */
.trust-item .ti-ico{
  width:13px;
  height:13px;
  font-size:13px;
}

/* text tighter */
.trust-item .ti-title{
  font-size:10.5px;
  font-weight:700;
  white-space:nowrap;
}

/* align everything horizontally */
.trust-item{
  justify-content:flex-start;
  gap:6px;
}

/* platform trust slightly smaller still */
.platform-trust .trust-item{
  padding:4px 5px;
  font-size:10px;
}


/* ===== Trust badges text flow fix ===== */

/* allow wider badges so text does not overflow */
.trust-row,
.platform-trust{
  grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
}

/* prevent text overflow everywhere */
.trust-item{
  overflow:hidden;
}

/* allow wrapping instead of overflow */
.trust-item .ti-title{
  white-space:normal;
  line-height:1.15;
  word-break:break-word;
}

/* keep badges compact but readable */
.trust-item{
  padding:6px 8px;
}

/* platform trust slightly wider too */
.platform-trust{
  grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
}


/* ===== Trust badges color refinement ===== */

/* text: uniform near-white for calm, finance look */
.trust-item,
.trust-item .ti-title{
  color: rgba(232,238,248,.92);
}

.trust-item .ti-sub{
  color: rgba(200,210,224,.78);
}

/* remove any inherited text color from icon classes */
.trust-item.lock,
.trust-item.route,
.trust-item.tls,
.trust-item.nosc,
.trust-item.warn,
.trust-item.chain,
.trust-item.privacy{
  color: rgba(232,238,248,.92);
}

/* icons only carry meaning color */
.trust-item .ti-ico{
  color: var(--accent);
}

/* keep neutral/secondary icons slightly muted if desired */
.trust-item.nosc .ti-ico,
.trust-item.privacy .ti-ico{
  color: rgba(232,238,248,.55);
}


/* ===== Trust badges text: readable grey ===== */

/* primary text */
.trust-item,
.trust-item .ti-title{
  color: rgba(210,218,230,.9); /* readable light grey */
}

/* secondary text (if any) */
.trust-item .ti-sub{
  color: rgba(180,190,205,.85);
}

/* keep icons as key */
.trust-item .ti-ico{
  color: var(--accent);
}

/* neutral icons slightly muted */
.trust-item.nosc .ti-ico,
.trust-item.privacy .ti-ico{
  color: rgba(210,218,230,.6);
}


/* ===== Connection & Data Security visual emphasis ===== */

/* slightly darker background + accent border for security hint */
.platform-trust{
  background: rgba(242,169,0,.04);
  border: 1px dashed rgba(242,169,0,.35);
  border-radius: 10px;
  padding: 6px;
}

/* platform security items slightly darker text */
.platform-trust .trust-item,
.platform-trust .trust-item .ti-title{
  color: rgba(220,226,236,.95);
}

/* icons in platform security a bit stronger */
.platform-trust .trust-item .ti-ico{
  color: var(--accent);
}

/* reduce size a touch so it reads as secondary but important */
.platform-trust .trust-item{
  font-size:10.5px;
  padding:5px 6px;
}


/* ===== Improved Platform Security label emphasis ===== */
.platform-trust-label{
  font-weight:800;
  letter-spacing:.04em;
  color: var(--accent);
}


/* ===== Platform Security cleanup: no box ===== */
.platform-trust{
  background: none;
  border: none;
  padding: 0;
}


/* ===== Trust ultra minimal + interactions (keeps page scripts intact) ===== */
details.trust-details > summary{
  list-style:none;
  display:inline-flex;
  align-items:center;
  gap:6px;
  cursor:pointer;
}
details.trust-details > summary::-webkit-details-marker{ display:none; }
details.trust-details > summary::marker{ content:''; display:none; }

/* custom arrow right next to text */
details.trust-details > summary::after{
  content:"▾";
  font-size:18px;
  color:var(--accent);
  margin-left:4px;
  transition:transform .25s ease;
}

/* rotate + micro-pop on open */
@keyframes arrowPop{
  0%{ transform: rotate(0deg) scale(1); }
  60%{ transform: rotate(180deg) scale(1.12); }
  100%{ transform: rotate(180deg) scale(1); }
}
details.trust-details[open] > summary::after{
  animation: arrowPop .28s ease-out forwards;
}

/* collapsed = icons only (ultra minimal) */
details.trust-details:not([open]) .trust-row .ti-title,
details.trust-details:not([open]) .platform-trust .ti-title{
  display:none;
}
details.trust-details:not([open]) .trust-item{ padding:4px; }

/* icon hover brighten */
.trust-item .ti-ico{ transition:filter .15s ease, transform .15s ease; }
.trust-item:hover .ti-ico{ filter:brightness(1.25); }
.trust-item:active .ti-ico{ filter:brightness(1.35); transform:scale(1.04); }


/* ===== Remove legacy inline chevron (white arrow) ===== */
.trust-chev{ display:none !important; }


/* ===== Asset mini-icons next to Education Fund 



  <span class="asset-logo" title="ETH · Ethereum" data-symbol="ETH"><svg viewBox="0 0 32 32" aria-hidden="true">
  <circle cx="16" cy="16" r="16" fill="#627EEA"/>
  <path fill="#fff" d="M16 5l6 11-6 3-6-3 6-11z"/>
  <path fill="#dfe7ff" d="M10 16l6 3 6-3-6 8-6-8z"/>
</svg><span class="asset-label">ETH</span></span>
  <span class="asset-logo" title="USDT · Tether" data-symbol="USDT"><svg viewBox="0 0 32 32" aria-hidden="true">
  <circle cx="16" cy="16" r="16" fill="#26A17B"/>
  <path fill="#fff" d="M8 10h16v3H18v2.2c3.1.2 5.3.8 5.3 1.6 0 .9-2.2 1.4-5.3 1.6V24h-4v-2c-3-.2-5.3-.7-5.3-1.6 0-.8 2.3-1.4 5.3-1.6V13H8v-3zm8 6.2c-3 .2-4.9.7-4.9 1.1 0 .4 1.9.9 4.9 1.1 3-.2 4.9-.7 4.9-1.1 0-.4-1.9-.9-4.9-1.1z"/>
</svg><span class="asset-label">USDT</span></span>
  <span class="asset-logo" title="SOL · Solana" data-symbol="SOL"><svg viewBox="0 0 32 32" aria-hidden="true">
  <circle cx="16" cy="16" r="16" fill="#0b1220"/>
  <defs>
    <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#14F195"/>
      <stop offset="1" stop-color="#9945FF"/>
    </linearGradient>
  </defs>
  <path fill="url(#g)" d="M10 10.5c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/>
  <path fill="url(#g)" d="M10 15.4c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/>
  <path fill="url(#g)" d="M10 20.3c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/>
</svg><span class="asset-label">SOL</span></span>
  <span class="asset-logo" title="BNB · BNB" data-symbol="BNB"><svg viewBox="0 0 32 32" aria-hidden="true">
  <circle cx="16" cy="16" r="16" fill="#F3BA2F"/>
  <path fill="#fff" d="M16 8.2l3 3-3 3-3-3 3-3zm0 6l3 3-3 3-3-3 3-3zm6-0.3l3 3-3 3-3-3 3-3zm-12 0l3 3-3 3-3-3 3-3z"/>
</svg><span class="asset-label">BNB</span></span>
  <span class="asset-logo" title="XRP · XRP" data-symbol="XRP"><svg viewBox="0 0 32 32" aria-hidden="true">
  <circle cx="16" cy="16" r="16" fill="#111827"/>
  <path fill="#fff" d="M9.3 11.2c1.2 0 2 .6 3 1.6l1 1c1.6 1.6 4.1 1.6 5.7 0l1-1c1-1 1.8-1.6 3-1.6h2.2l-1.7 1.7c-1 1-2.5 2.5-4.5 2.5s-3.5-1.5-4.5-2.5l-1-1c-.7-.7-1.2-1-1.7-1H7.7l1.6-1.7h0zm13.4 9.6c-1.2 0-2-.6-3-1.6l-1-1c-1.6-1.6-4.1-1.6-5.7 0l-1 1c-1 1-1.8 1.6-3 1.6H7.7l1.7-1.7c1-1 2.5-2.5 4.5-2.5s3.5 1.5 4.5 2.5l1 1c.7.7 1.2 1 1.7 1h4.2l-1.6 1.7h0z"/>
</svg><span class="asset-label">XRP</span></span>
</span>


 ===== */
.asset-icons{
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin-left:10px;
  vertical-align:middle;
  flex-wrap:nowrap;
}

.asset-chip{
  width:18px;
  height:18px;
  border-radius:999px;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-size:9px;
  font-weight:900;
  letter-spacing:.02em;
  line-height:1;
  border:1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.05);
  color: rgba(232,238,248,.92);
  box-shadow: 0 0 0 1px rgba(0,0,0,.0);
}

.asset-chip.btc{ border-color: rgba(242,169,0,.45); color: rgba(242,169,0,.95); }
.asset-chip.usdt{ border-color: rgba(46,213,115,.35); color: rgba(46,213,115,.95); }
.asset-chip.xrp{ border-color: rgba(232,238,248,.28); color: rgba(232,238,248,.88); }
.asset-chip.sol{ border-color: rgba(76,115,255,.35); color: rgba(76,115,255,.95); }
.asset-chip.eth{ border-color: rgba(200,210,224,.35); color: rgba(200,210,224,.95); }
.asset-chip.bnb{ border-color: rgba(242,169,0,.35); color: rgba(242,169,0,.90); opacity:.95; }

@media (max-width: 420px){
  .asset-chip{ width:16px; height:16px; font-size:8px; }
  .asset-icons{ gap:5px; margin-left:8px; }
}


/* ===== Asset coin logos (mini) ===== */
.asset-icons{
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin-left:10px;
  vertical-align:middle;
}
.asset-logo{
  width:18px;
  height:18px;
  border-radius:50%;
  background: rgba(255,255,255,.06);
  border:1px solid rgba(255,255,255,.18);
  padding:2px;
}
@media (max-width:420px){
  .asset-logo{ width:16px; height:16px; }
}


.asset-logo{
  transition: transform .15s ease, box-shadow .15s ease;
}

.asset-logo:hover{
  transform: translateY(-1px);
  box-shadow: 0 4px 10px rgba(0,0,0,.25);
}

/* tooltip */
.asset-logo[data-tip]{
  position:relative;
}
.asset-logo[data-tip]::after{
  content: attr(data-tip);
  position:absolute;
  bottom:125%;
  left:50%;
  transform:translateX(-50%);
  background:rgba(10,15,25,.92);
  color:#fff;
  font-size:10px;
  padding:4px 6px;
  border-radius:6px;
  white-space:nowrap;
  opacity:0;
  pointer-events:none;
  transition:opacity .15s ease, transform .15s ease;
}
.asset-logo[data-tip]::before{
  content:"";
  position:absolute;
  bottom:115%;
  left:50%;
  transform:translateX(-50%);
  border:5px solid transparent;
  border-top-color:rgba(10,15,25,.92);
  opacity:0;
  transition:opacity .15s ease;
}
.asset-logo:hover::after,
.asset-logo:hover::before{
  opacity:1;
  transform:translateX(-50%) translateY(-2px);
}




.asset-logo:hover{
  filter: saturate(1) brightness(1.02);
}


/* ===== Trust icon consistency check ===== */
.trust-item .ti-ico{
  width:16px;
  height:16px;
  font-size:16px;
}


/* ===== Coin logos: always full color ===== */
.asset-logo{
  filter: none;
}


/* ===== Coin logo rendering fix (PNG icons) ===== */
.asset-logo{
  padding:0;
  background: rgba(255,255,255,.06);
  object-fit: cover;
}


/* ===== Coin logos glassy + mobile spacing ===== */
.asset-icons{
  display:inline-flex;
  align-items:center;
  gap:6px;
  flex-wrap:wrap;
}

.asset-logo{
  width:18px;
  height:18px;
  border-radius:50%;
  background:
    radial-gradient(120% 120% at 30% 20%, rgba(255,255,255,.25), rgba(255,255,255,0) 60%),
    rgba(255,255,255,.06);
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.25),
    inset 0 -2px 4px rgba(0,0,0,.25);
  transition: box-shadow .15s ease, transform .15s ease;
}

.asset-logo:hover{
  box-shadow:
    inset 0 0 0 1px rgba(255,255,255,.35),
    inset 0 -3px 6px rgba(0,0,0,.3);
  transform: translateY(-1px);
}

/* very small screens */
@media (max-width: 360px){
  .asset-icons{ gap:5px; }
  .asset-logo{ width:16px; height:16px; }
}


/* ===== Inline coin logos (no text fallback) ===== */
.asset-icons{
  display:inline-flex;
  align-items:center;
  gap:6px;
  margin-left:10px;
  vertical-align:middle;
  flex-wrap:wrap;
}

.asset-logo{
  width:18px;
  height:18px;
  border-radius:999px;
  overflow:hidden;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.14);
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.0);
}

.asset-logo svg{
  width:100%;
  height:100%;
  display:block;
}

@media (max-width: 360px){
  .asset-logo{ width:16px; height:16px; }
  .asset-icons{ gap:5px; margin-left:8px; }
}


/* ===== Ensure inline coin logos render (final) ===== */
.asset-logo{ overflow:hidden; }
.asset-logo svg{ width:100%; height:100%; display:block; }


/* ===== Safety: keep payment brand SVG icons visible ===== */
.pay-badges svg{ display:block; }


/* ===== Slightly smaller coin logos next to headline ===== */
.asset-logo{
  width:16px;
  height:16px;
}

@media (max-width:360px){
  .asset-logo{
    width:14px;
    height:14px;
  }
}


/* ===== Coin logos slightly bigger (headline balance) ===== */
.asset-logo{
  width:20px;
  height:20px;
}

@media (max-width:360px){
  .asset-logo{
    width:18px;
    height:18px;
  }
}


/* ===== Coin logo clarity + subtle transparency ===== */

/* Global subtle transparency for all coin logos */
.asset-logo{
  opacity: 0.88;
}

/* Bitcoin clarity boost */
.asset-logo[title^="BTC"] svg circle{
  filter: saturate(1.15) brightness(1.05);
}

/* Slight outline to improve contrast on dark backgrounds */
.asset-logo svg{
  shape-rendering: geometricPrecision;
}


/* ===== Homepage tagline asset icons ===== */
.home-asset-icons{
  margin-top:8px;
  margin-bottom:10px;
  display:flex;
  justify-content:center;
}


/* ===== Homepage asset icons: fade/slide + scroll fade ===== */
.home-asset-icons{
  opacity:0;
  transform: translateY(6px);
  transition: opacity .6s ease, transform .6s ease;
}

.home-asset-icons.is-visible{
  opacity:1;
  transform: translateY(0);
}


/* ===== Homepage asset icons: fade/slide + scroll fade (responsive) ===== */
.home-asset-icons{
  opacity:0;
  transform: translateY(6px);
  transition: opacity .6s ease, transform .6s ease;
  display:flex;
  justify-content:center;
  margin-top:8px;
  margin-bottom:10px;
}

.home-asset-icons.is-visible{
  opacity:1;
  transform: translateY(0);
}


/* ===== Coin icon labels (clean & compact) ===== */
.asset-logo{
  position: relative;
}

.asset-logo::after{
  content: attr(data-symbol);
  position: absolute;
  bottom: -9px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 8px;
  line-height: 1;
  color: rgba(200,210,224,.8);
  letter-spacing: .02em;
  white-space: nowrap;
}

@media (max-width:360px){
  .asset-logo::after{
    font-size: 7px;
    bottom: -8px;
  }
}


/* ===== Explicit coin labels (visible & safe) ===== */
.asset-icons{
  align-items: flex-start;
}

.asset-logo{
  display:flex;
  flex-direction: column;
  align-items:center;
}

.asset-label{
  margin-top:4px;
  font-size:8px;
  line-height:1;
  color: rgba(200,210,224,.85);
  letter-spacing:.04em;
  white-space:nowrap;
}

@media (max-width:360px){
  .asset-label{
    font-size:7px;
  }
}


/* ===== Homepage-only coin labels ===== */
.asset-label{ display:none; }
.home-asset-icons .asset-label{ display:block; }


/* ===== Homepage coin labels: refined & subtle ===== */

/* keep focus on icon */
.home-asset-icons .asset-logo{
  gap:2px;
}

/* smaller, cleaner label */
.home-asset-icons .asset-label{
  margin-top:2px;
  font-size:6.5px;
  line-height:1;
  letter-spacing:.06em;
  color: rgba(200,210,224,.75);
}

/* very small screens */
@media (max-width:360px){
  .home-asset-icons .asset-label{
    font-size:6px;
  }
}


/* ===== Homepage icons: scale up for better visual weight ===== */
.home-asset-icons .asset-logo{
  width:28px;
  height:28px;
}

.home-asset-icons .asset-logo svg{
  width:100%;
  height:100%;
}

/* label proportional scaling */
.home-asset-icons .asset-label{
  font-size:9px;
  margin-top:3px;
  letter-spacing:.05em;
}

@media (max-width:360px){
  .home-asset-icons .asset-logo{
    width:24px;
    height:24px;
  }
  .home-asset-icons .asset-label{
    font-size:8px;
  }
}


/* ===== Homepage icons: bigger + clean circle fit ===== */
.home-asset-icons .asset-logo{
  width:34px;
  height:34px;
  border-radius:999px;
  overflow:hidden;
}

.home-asset-icons .asset-logo svg{
  width:34px;
  height:34px;
  display:block;
}

/* If any svg has internal padding, scale slightly */
.home-asset-icons .asset-logo svg{
  transform: scale(1.02);
  transform-origin: center;
}

/* label bigger but still subtle */
.home-asset-icons .asset-label{
  font-size:10px;
  margin-top:4px;
  letter-spacing:.04em;
  color: rgba(210,218,230,.78);
}

@media (max-width:360px){
  .home-asset-icons .asset-logo{
    width:30px;
    height:30px;
  }
  .home-asset-icons .asset-logo svg{
    width:30px;
    height:30px;
  }
  .home-asset-icons .asset-label{
    font-size:9px;
  }
}


/* ===== Homepage labels: smaller & white ===== */
.home-asset-icons .asset-label{
  font-size:8px;
  margin-top:3px;
  letter-spacing:.06em;
  color: rgba(255,255,255,.9);
}

@media (max-width:360px){
  .home-asset-icons .asset-label{
    font-size:7px;
  }
}


/* ===== Homepage icons: remove circle completely ===== */
.home-asset-icons .asset-logo{
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
  border-radius: 0 !important;
  overflow: visible;
}


/* ===== Fix: prevent duplicate coin labels (disable pseudo-elements) ===== */
.asset-logo::after,
.asset-logo::before{
  content: none !important;
  display: none !important;
}


/* ===== Homepage icons opacity ===== */
.home-asset-icons .asset-logo svg{
  opacity: 0.89;
}


/* ===== Homepage icons: hover to 100% opacity ===== */
.home-asset-icons .asset-logo svg{
  transition: opacity .2s ease;
}

.home-asset-icons .asset-logo:hover svg{
  opacity: 1;
}


/* ===== Hero & Page Background Assets ===== */
.hero-sky{
  background-image: url("hero-sky.png");
}

.hero-globe img{
  content: url("hero-globe.png");
}

.hero-mark{
  content: url("hero-mark.png");
}

.page-background{
  background-image: url("1000081562.jpg");
}

</style>
</head>

<body>

<header id="siteHeader">
  <button class="nav-toggle" id="navToggle" aria-label="Open menu" aria-expanded="false" type="button">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round">
      <path d="M4 7h16M4 12h16M4 17h16"></path>
    </svg>
  </button>

  <nav id="siteNav">
    <a href="#home" data-nav="home" class="active">Home</a>
    <a href="#basys" data-nav="basys">Basys</a>
    <a href="#analytics" data-nav="analytics">Analytics</a>

    <div class="nav-group" id="initiativeGroup">
      <button class="nav-group-toggle" aria-expanded="false" type="button">
        <span class="nav-group-label">Initiatives</span>
        <span class="chevron">▾</span>
      </button>
      <div class="nav-group-menu" aria-label="Initiatives submenu">
        <a href="#token" data-nav="token">Token</a>
        <a href="#fund" data-nav="fund">Education Fund</a>
      </div>
    </div>

    <a href="#contact" data-nav="contact">Contact</a>
    <a href="/login" class="login-link">Login</a>
  </nav>
</header>

<!-- HOME -->
<section id="home" data-section="home">
  <div class="sky-layer" aria-hidden="true"></div>
  <div class="twinkle" aria-hidden="true"></div>

  <div class="hero-stage reveal">
    <div class="globe-rotator">
      <img src="hero-globe.png" alt="Earth">
    </div>

    <div class="hero-text">
      <div class="globe-stack">

        <!-- LINE 1 -->
        <div class="brand one-line" aria-label="BASYS ANALYTICS">
          <span class="btc">₿</span><span class="analytics-rest">ASYS</span>
          <span class="spacer" aria-hidden="true"></span>
          <span class="btc">A</span><span class="analytics-rest">NALYTICS</span>
        </div>

        <!-- LINE 2 -->
        <div class="brand-claim inline" aria-label="Observe Learn Lead">
          <span class="word"><span class="cap">O</span><span class="rest">bserve</span></span>
          <span class="vsep" aria-hidden="true"></span>
          <span class="word"><span class="cap">L</span><span class="rest">earn</span></span>
          <span class="vsep" aria-hidden="true"></span>
          <span class="word"><span class="cap">L</span><span class="rest">ead</span></span>
        </div>

      </div>
    </div>
  </div>

  <div class="hero-claim reveal">
    From <span>Observation</span> to <span>Leadership</span> in Digital Markets
  </div>
  <div class="home-asset-icons reveal">
<span class="asset-icons" aria-label="Supported assets">
  <span class="asset-logo" title="BTC · Bitcoin" data-symbol="BTC"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#F7931A"/><path fill="#fff" d="M18.4 14.2c.8-.2 1.3-.7 1.5-1.4.3-1.1-.7-1.7-1.9-2.1l.4-1.7-1.1-.3-.4 1.6c-.3-.1-.7-.2-1-.2l.4-1.6-1.1-.3-.4 1.7c-.3-.1-.5-.1-.8-.2l-1.5-.4-.3 1.2s.8.2.8.2c.4.1.5.3.5.5l-.5 1.9c0 0 .1 0 .1.1h-.1l-.7 2.8c-.1.2-.2.4-.5.3 0 0-.8-.2-.8-.2l-.6 1.3 1.4.4c.3.1.6.2.9.2l-.4 1.7 1.1.3.4-1.7c.3.1.7.2 1 .2l-.4 1.7 1.1.3.4-1.7c1.6.3 2.8.2 3.3-1.3.4-1.2 0-1.9-.9-2.3zm-1.6 4.2c-.3 1.1-2.1.5-2.7.4l.6-2.3c.6.2 2.4.4 2.1 1.9zm.3-4.3c-.3 1-1.8.5-2.3.4l.5-2.1c.5.1 2 .3 1.8 1.7z"/></svg><span class="asset-label">BTC</span></span>
  <span class="asset-logo" title="ETH · Ethereum" data-symbol="ETH"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#627EEA"/><path fill="#fff" d="M16 5l6 11-6 3-6-3 6-11z"/><path fill="#dfe7ff" d="M10 16l6 3 6-3-6 8-6-8z"/></svg><span class="asset-label">ETH</span></span>
  <span class="asset-logo" title="USDT · Tether" data-symbol="USDT"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#26A17B"/><path fill="#fff" d="M8 10h16v3H18v2.2c3.1.2 5.3.8 5.3 1.6 0 .9-2.2 1.4-5.3 1.6V24h-4v-2c-3-.2-5.3-.7-5.3-1.6 0-.8 2.3-1.4 5.3-1.6V13H8v-3zm8 6.2c-3 .2-4.9.7-4.9 1.1 0 .4 1.9.9 4.9 1.1 3-.2 4.9-.7 4.9-1.1 0-.4-1.9-.9-4.9-1.1z"/></svg><span class="asset-label">USDT</span></span>
  <span class="asset-logo" title="SOL · Solana" data-symbol="SOL"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#0b1220"/><defs><linearGradient id="g-home" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#14F195"/><stop offset="1" stop-color="#9945FF"/></linearGradient></defs><path fill="url(#g-home)" d="M10 10.5c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/><path fill="url(#g-home)" d="M10 15.4c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/><path fill="url(#g-home)" d="M10 20.3c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/></svg><span class="asset-label">SOL</span></span>
  <span class="asset-logo" title="BNB · BNB" data-symbol="BNB"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#F3BA2F"/><path fill="#fff" d="M16 8.2l3 3-3 3-3-3 3-3zm0 6l3 3-3 3-3-3 3-3zm6-0.3l3 3-3 3-3-3 3-3zm-12 0l3 3-3 3-3-3 3-3z"/></svg><span class="asset-label">BNB</span></span>
  <span class="asset-logo" title="XRP · XRP" data-symbol="XRP"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#111827"/><path fill="#fff" d="M9.3 11.2c1.2 0 2 .6 3 1.6l1 1c1.6 1.6 4.1 1.6 5.7 0l1-1c1-1 1.8-1.6 3-1.6h2.2l-1.7 1.7c-1 1-2.5 2.5-4.5 2.5s-3.5-1.5-4.5-2.5l-1-1c-.7-.7-1.2-1-1.7-1H7.7l1.6-1.7h0zm13.4 9.6c-1.2 0-2-.6-3-1.6l-1-1c-1.6-1.6-4.1-1.6-5.7 0l-1 1c-1 1-1.8 1.6-3 1.6H7.7l1.7-1.7c1-1 2.5-2.5 4.5-2.5s3.5 1.5 4.5 2.5l1 1c.7.7 1.2 1 1.7 1h4.2l-1.6 1.7h0z"/></svg><span class="asset-label">XRP</span></span>
</span>
</div>
<a href="#basys" class="scroll-indicator reveal" aria-label="Scroll to Basys">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 13l5 5 5-5M7 6l5 5 5-5"></path>
    </svg>
  </a>
</section>

<!-- BASYS -->
<section id="basys" data-section="basys">
  <div class="glass-card reveal">
    <h2 style="color:var(--accent); text-transform:uppercase; letter-spacing:3px; margin-bottom:10px;">Basys</h2>

    <p style="margin-top:6px; opacity:.90; line-height:1.7; font-size:1.02rem; color:var(--text-main);">
      A clear process model for <span class="highlight">Observe · Learn · Lead</span> — turning market behavior into orientation and responsible action.
    </p>

    <div style="margin-top:18px; display:grid; gap:12px;">
      <div style="display:flex; gap:12px; align-items:flex-start;">
        <div style="width:10px;height:10px;border-radius:50%;background:var(--accent);margin-top:7px;flex:0 0 auto;"></div>
        <div><strong>Observe</strong><div style="opacity:.9;margin-top:2px;">Capture market behavior with discipline and consistency.</div></div>
      </div>
      <div style="display:flex; gap:12px; align-items:flex-start;">
        <div style="width:10px;height:10px;border-radius:50%;background:var(--accent);margin-top:7px;flex:0 0 auto;"></div>
        <div><strong>Learn</strong><div style="opacity:.9;margin-top:2px;">Turn signals into understanding and orientation.</div></div>
      </div>
      <div style="display:flex; gap:12px; align-items:flex-start;">
        <div style="width:10px;height:10px;border-radius:50%;background:var(--accent);margin-top:7px;flex:0 0 auto;"></div>
        <div><strong>Lead</strong><div style="opacity:.9;margin-top:2px;">Act responsibly — decisions guided by insight, not noise.</div></div>
      </div>
    </div>
  </div>

  <a href="#analytics" class="scroll-indicator reveal" aria-label="Scroll to Analytics">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 13l5 5 5-5M7 6l5 5 5-5"></path>
    </svg>
  </a>
</section>

<!-- ANALYTICS -->
<section id="analytics" data-section="analytics">
  <div class="glass-card reveal">
    <h2 style="color: var(--accent); margin-bottom: 30px; text-transform: uppercase; letter-spacing: 3px;">
      Analytics
    </h2>

    <p style="margin-bottom: 25px; font-size: 1.1rem; line-height: 1.7;">
      <span class="highlight">BasysAnalytics</span> is an analytical system designed for the structured observation,
      interpretation, and classification of crypto and digital asset markets.
      The name <span class="highlight">Basys</span> is derived from Base, Basis, and System,
      representing a stable, methodical foundation.
    </p>

    <p style="margin-bottom: 25px; font-size: 1.1rem; line-height: 1.7;">
      The claim <span class="highlight">Observe Learn Lead</span> describes the internal process:
      Understanding grows from observation, orientation emerges from understanding,
      and responsible leadership arises from orientation.
    </p>

    <p style="font-size: 1.1rem; line-height: 1.7;">
      <span class="highlight">OLL</span> stands for the conceptual guiding model and personally represents
      <span class="highlight">Oliver and Lion Leininger</span>, bridging individual motivation with systematic analysis.
    </p>

    <div class="summary-box">
      <strong>In short:</strong> Basys Analytics combines a stable analytical foundation,
      a clear process of insight, and personal values for responsible decision-making
      in the digital economy.
    </div>
  </div>

  <a href="#token" class="scroll-indicator reveal" aria-label="Scroll to Token">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 13l5 5 5-5M7 6l5 5 5-5"></path>
    </svg>
  </a>
</section>

<!-- TOKEN -->
<section id="token" data-section="token">
  <div class="glass-card reveal">
    <h2 style="color:var(--accent); margin-bottom:12px; letter-spacing:3px; text-transform:uppercase;">Token</h2>
    <div class="sub-kicker">
      The Basys token is envisioned as a future mechanism to support education, research, and charitable — including
      contributions to children-focused educational causes.
    </div>
  </div>

  <a href="#fund" class="scroll-indicator reveal" aria-label="Scroll to Education Fund">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 13l5 5 5-5M7 6l5 5 5-5"></path>
    </svg>
  </a>
</section>

<!-- FUND -->
<section id="fund" data-section="fund">
  <div class="glass-card reveal">
    <h2 style="color:var(--accent); margin-bottom:12px; letter-spacing:3px; text-transform:uppercase;">Education Fund 
<span class="asset-icons" aria-label="Supported assets">
  <span class="asset-logo" title="BTC · Bitcoin" data-symbol="BTC"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#F7931A"/><path fill="#fff" d="M18.4 14.2c.8-.2 1.3-.7 1.5-1.4.3-1.1-.7-1.7-1.9-2.1l.4-1.7-1.1-.3-.4 1.6c-.3-.1-.7-.2-1-.2l.4-1.6-1.1-.3-.4 1.7c-.3-.1-.5-.1-.8-.2l-1.5-.4-.3 1.2s.8.2.8.2c.4.1.5.3.5.5l-.5 1.9c0 0 .1 0 .1.1h-.1l-.7 2.8c-.1.2-.2.4-.5.3 0 0-.8-.2-.8-.2l-.6 1.3 1.4.4c.3.1.6.2.9.2l-.4 1.7 1.1.3.4-1.7c.3.1.7.2 1 .2l-.4 1.7 1.1.3.4-1.7c1.6.3 2.8.2 3.3-1.3.4-1.2 0-1.9-.9-2.3zm-1.6 4.2c-.3 1.1-2.1.5-2.7.4l.6-2.3c.6.2 2.4.4 2.1 1.9zm.3-4.3c-.3 1-1.8.5-2.3.4l.5-2.1c.5.1 2 .3 1.8 1.7z"/></svg><span class="asset-label">BTC</span></span>
  <span class="asset-logo" title="ETH · Ethereum" data-symbol="ETH"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#627EEA"/><path fill="#fff" d="M16 5l6 11-6 3-6-3 6-11z"/><path fill="#dfe7ff" d="M10 16l6 3 6-3-6 8-6-8z"/></svg><span class="asset-label">ETH</span></span>
  <span class="asset-logo" title="USDT · Tether" data-symbol="USDT"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#26A17B"/><path fill="#fff" d="M8 10h16v3H18v2.2c3.1.2 5.3.8 5.3 1.6 0 .9-2.2 1.4-5.3 1.6V24h-4v-2c-3-.2-5.3-.7-5.3-1.6 0-.8 2.3-1.4 5.3-1.6V13H8v-3zm8 6.2c-3 .2-4.9.7-4.9 1.1 0 .4 1.9.9 4.9 1.1 3-.2 4.9-.7 4.9-1.1 0-.4-1.9-.9-4.9-1.1z"/></svg><span class="asset-label">USDT</span></span>
  <span class="asset-logo" title="SOL · Solana" data-symbol="SOL"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#0b1220"/><defs><linearGradient id="g" x1="0" y1="0" x2="1" y2="1"><stop offset="0" stop-color="#14F195"/><stop offset="1" stop-color="#9945FF"/></linearGradient></defs><path fill="url(#g)" d="M10 10.5c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/><path fill="url(#g)" d="M10 15.4c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/><path fill="url(#g)" d="M10 20.3c.3-.3.7-.5 1.1-.5h12.2c.2 0 .3.3.2.4l-1.6 1.6c-.3.3-.7.5-1.1.5H8.6c-.2 0-.3-.3-.2-.4l1.6-1.6z"/></svg><span class="asset-label">SOL</span></span>
  <span class="asset-logo" title="BNB · BNB" data-symbol="BNB"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#F3BA2F"/><path fill="#fff" d="M16 8.2l3 3-3 3-3-3 3-3zm0 6l3 3-3 3-3-3 3-3zm6-0.3l3 3-3 3-3-3 3-3zm-12 0l3 3-3 3-3-3 3-3z"/></svg><span class="asset-label">BNB</span></span>
  <span class="asset-logo" title="XRP · XRP" data-symbol="XRP"><svg viewBox="0 0 32 32" aria-hidden="true"><circle cx="16" cy="16" r="16" fill="#111827"/><path fill="#fff" d="M9.3 11.2c1.2 0 2 .6 3 1.6l1 1c1.6 1.6 4.1 1.6 5.7 0l1-1c1-1 1.8-1.6 3-1.6h2.2l-1.7 1.7c-1 1-2.5 2.5-4.5 2.5s-3.5-1.5-4.5-2.5l-1-1c-.7-.7-1.2-1-1.7-1H7.7l1.6-1.7h0zm13.4 9.6c-1.2 0-2-.6-3-1.6l-1-1c-1.6-1.6-4.1-1.6-5.7 0l-1 1c-1 1-1.8 1.6-3 1.6H7.7l1.7-1.7c1-1 2.5-2.5 4.5-2.5s3.5 1.5 4.5 2.5l1 1c.7.7 1.2 1 1.7 1h4.2l-1.6 1.7h0z"/></svg><span class="asset-label">XRP</span></span>
</span>
</h2>

    <div class="sub-kicker">
      CONTRIBUTIONS SUPPORT EDUCATION AND RESEARCH
    </div>

    <div class="fund-steps" aria-label="Payment steps">
  <div class="step-item"><span class="step-dot sep" id="stepPaymentDot" aria-hidden="true"></span><span class="step-label" id="stepPaymentLabel">Select payment</span></div>
  <div class="step-item"><span class="step-dot sep" id="stepAmountDot" aria-hidden="true"></span><span class="step-label" id="stepAmountLabel">NEXT STEP: SELECT FUNDING AMOUNT</span></div>
  <div class="step-item"><span class="step-dot sep" id="stepFundDot" aria-hidden="true"></span><span class="step-label" id="stepFundLabel">NEXT STEP: FUND EDUCATION AND RESEARCH</span></div>
</div>

    <div class="pay-row">
      <div class="pay-grid" role="tablist" aria-label="Payment method selector">

        <!-- BTC -->
        <button class="pay-card active" id="tabBtc" type="button" data-method="btc" role="tab" aria-selected="false" aria-controls="panelBtc">
          <span class="pay-dot" aria-hidden="true"></span>
          <div class="pay-top">
            <svg class="pay-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
              <path d="M12 2v20"></path>
              <path d="M7 7h8a3 3 0 0 1 0 6H7z"></path>
              <path d="M7 13h9a3 3 0 0 1 0 6H7z"></path>
            </svg>
            <div class="pay-title">Bitcoin</div>
          </div>
          <div class="pay-desc">Send BTC directly (on-chain).</div>
        </button>

        <!-- USDT -->
        <button class="pay-card" id="tabUsdt" type="button" data-method="usdt" role="tab" aria-selected="false" aria-controls="panelUsdt">
          <span class="pay-dot" aria-hidden="true"></span>
          <div class="pay-top">
            <svg class="pay-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
              <path d="M6 6h12"></path>
              <path d="M12 6v14"></path>
              <path d="M8 10c1.4 1 3.2 1.5 4 1.5s2.6-.5 4-1.5"></path>
            </svg>
            <div class="pay-title">USDT (ERC-20)</div>
          </div>
          <div class="pay-desc">Send USDT directly on Ethereum</div>
        </button>

        <!-- CARD/BANK -->
        <button class="pay-card" id="tabCard" type="button" data-method="card" role="tab" aria-selected="false" aria-controls="panelCard">
          <span class="pay-dot" aria-hidden="true"></span>
          <div class="pay-top">
            <svg class="pay-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
              <rect x="3" y="5" width="18" height="14" rx="2"></rect>
              <path d="M3 10h18"></path>
              <path d="M7 15h3"></path>
            </svg>
            <div class="cardbank-tags" aria-label="Card and Bank">
  <span class="cardbank-tag">Card</span>
  <span class="cardbank-tag">Bank</span>
</div>
          

            
          </div>
          <div class="pay-desc">BTC → Education Fund</div>
        </button>

        <!-- REGION -->
        <div class="region-card" role="group" aria-label="Region selection (used for card/bank providers)" title="Auto-detected via IP (can be changed)">
          <div class="region-row">
            <div class="region-left">
              <svg class="pay-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" aria-hidden="true">
                <path d="M12 21s7-4.5 7-11a7 7 0 1 0-14 0c0 6.5 7 11 7 11z"></path>
                <path d="M12 11a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"></path>
              </svg>
              <div class="pay-title">Region</div>
            </div>

            <select id="regionSelect" aria-label="Region select">
              <option value="EU">EU</option>
              <option value="US">US</option>
            </select>
          </div>
        </div>

      </div>

      <div class="geo-warn" id="geoWarn" role="status" aria-live="polite">
        Region auto-detect failed — default set to EU.
      </div>
    </div>

    <div class="fund-panels">
      <!-- BTC PANEL -->
      <div class="fund-panel active" id="panelBtc" role="tabpanel" aria-labelledby="tabBtc">
        <div class="addr-card" style="margin-top:12px;" aria-label="BTC Address">
              <div class="addr-tools">
                <button class="copy-mini" id="showBtcBtn" type="button" aria-label="Show BTC address">Show</button>
                <button class="copy-mini" id="copyBtcBtn" type="button" aria-label="Copy BTC address">Copy</button>
              </div>
              <div class="addr-label">BTC Destination Address</div>
              <div class="addr-value" id="btcAddrDisplay" data-full=""></div>
            </div>

        
        <div>
            

            <div class="fund-actions">
              
            </div>
          </div>

        <div class="summary-box">
          <strong>BTC (On-chain):</strong><span class="network-badge">BTC · On-chain</span> <span class="orange-word">openWallet</span> or <span class="orange-word">scanQR</span><br><span class="microcopy">Direct routing · Non-custodial · On-chain settlement</span>
        
<details class="trust-details">
  <summary class="trust-summary">
    <span class="trust-title">Security &amp; Transparency</span>
    <span class="trust-chev" aria-hidden="true">▾</span>
  </summary>
  <div class="trust-body">
    <div class="trust-row" aria-label="Security and trust signals">
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i><div class="ti-text"><div class="ti-title">Non‑custodial
<div class="trust-section-title">Connection & Data Security</div>
<div class="platform-trust" aria-label="Connection & Data Security">
  <div class="trust-item tls" title="Transport security for this session."><i class="ti-ico ph ph-shield-lock" aria-hidden="true"></i><div class="ti-text"><div class="ti-title">TLS-encrypted connection</div><div class="ti-sub">Secure transport (HTTPS/TLS).</div></div></div></div></div>
  <div class="trust-item privacy" title="No registration required. Minimal data handling."><i class="ti-ico ph ph-user-minus" aria-hidden="true"></i> No account · No personal data stored</div>
</div>
</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> Direct routing</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> No smart contracts</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> Network check</div>
  <div class="trust-item secondary" title="Transactions can be verified on-chain."><svg class="ti-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="7"></circle><path d="M21 21l-4.3-4.3"></path></svg> On‑chain verifiable</div>
</div>
<div class="trust-note"><strong>Note:</strong> Only send on the displayed network. Transfers on other networks may be lost.</div>
  </div>
</details>
</div>



        <div class="fund-grid">
          <div class="wallet-box">
            <a class="action-btn primary open-wallet-btn" id="openBtcWalletBtn" href="#" rel="noopener" target="_blank">Open Wallet</a>
          </div>

          <div class="qr-wrap">
            <div class="qr" id="btcQr" aria-label="Bitcoin QR"></div>
          </div>

          <div class="warn"><strong>Important:</strong> Only send <strong>BTC</strong> on <strong>Bitcoin (On-chain)</strong>.</div>

          
        </div>
      </div>

      <!-- USDT PANEL -->
      <div class="fund-panel" id="panelUsdt" role="tabpanel" aria-labelledby="tabUsdt">
        <div class="addr-card" style="margin-top:12px;" aria-label="USDT ERC-20 Address">
              <div class="addr-tools">
                <button class="copy-mini" id="showUsdtBtn" type="button" aria-label="Show USDT address">Show</button>
                <button class="copy-mini" id="copyUsdtBtn" type="button" aria-label="Copy USDT address">Copy</button>
              </div>
              <div class="addr-label">USDT Destination Address (ERC-20)</div>
              <div class="addr-value" id="usdtAddrDisplay"></div>
            </div>

        
        <div>
            

            <div class="fund-actions">
              
            </div>

            
          </div>

        <div class="summary-box">
          <strong>USDT (ERC-20):</strong><span class="network-badge">USDT · ERC-20</span> <span class="orange-word">openWallet</span> or <span class="orange-word">scanQR</span><br><span class="microcopy">Direct routing · Non-custodial · On-chain settlement</span>
        




<details class="trust-details">
  <summary class="trust-summary">
    <span class="trust-title">Security &amp; Transparency</span>
    <span class="trust-chev" aria-hidden="true">▾</span>
  </summary>
  <div class="trust-body">
    <div class="trust-row" aria-label="Security and trust signals">
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i><div class="ti-text"><div class="ti-title">Non‑custodial
<div class="trust-section-title">Connection & Data Security</div>
<div class="platform-trust" aria-label="Connection & Data Security">
  <div class="trust-item tls" title="Transport security for this session."><i class="ti-ico ph ph-shield-lock" aria-hidden="true"></i><div class="ti-text"><div class="ti-title">TLS-encrypted connection</div><div class="ti-sub">Secure transport (HTTPS/TLS).</div></div></div></div></div>
  <div class="trust-item privacy" title="No registration required. Minimal data handling."><i class="ti-ico ph ph-user-minus" aria-hidden="true"></i> No account · No personal data stored</div>
</div>
</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> Direct routing</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> No smart contracts</div>
  <div class="trust-item lock"><i class="ti-ico ph ph-shield-check" aria-hidden="true"></i> Network check</div>
  <div class="trust-item secondary" title="Transactions can be verified on-chain."><svg class="ti-ico" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="7"></circle><path d="M21 21l-4.3-4.3"></path></svg> On‑chain verifiable</div>
</div>
<div class="trust-note"><strong>Note:</strong> Only send on the displayed network. Transfers on other networks may be lost.</div>
  </div>
</details>
</div>

        <div class="fund-grid">
          <div class="wallet-box">
            <a class="action-btn primary open-wallet-btn" id="openUsdtWalletBtn" href="#" rel="noopener" target="_blank">Open Wallet</a>
          </div>

          <div class="qr-wrap">
            <div class="qr" id="usdtQr" aria-label="USDT QR"></div>
          </div>

          <div class="warn">
              <strong>Important:</strong> Only send <strong>USDT</strong> on <strong>Ethereum (ERC-20)</strong>.
            </div>

          
        </div>
      </div>

      <!-- CARD PANEL -->
      <div class="fund-panel" id="panelCard" role="tabpanel" aria-labelledby="tabCard">
        <div class="addr-card" style="margin-top:12px;">
          <div class="addr-tools">
            <button class="copy-mini" id="showCardBtcBtn" type="button" aria-label="Show BTC address">Show</button>
            <button class="copy-mini" id="copyCardBtcBtn" type="button" aria-label="Copy BTC address">Copy</button>
          </div>
          <div class="addr-label">Education Fund Destination BTC Address (auto-filled)</div>
          <div class="addr-value" id="cardBtcAddrDisplay"></div>
        </div>

<!-- Card-only hint (appears only when Card selected) -->
<div class="card-amount-hint" id="cardAmountHint" aria-hidden="true">
  <div class="card-amount-hint-inner">
    <strong>Next step:</strong> NEXT STEP: SELECT FUNDING AMOUNT
  </div>
</div>

<div class="payment-options-label"></div>
<div class="payment-options-row-inline"><div class="pay-badges brand-icons" aria-label="Supported payment methods">
  <!-- Apple Pay -->
  <span class="pay-ico apple" title="Apple Pay">
    <svg viewBox="0 0 24 24" width="14" height="14">
      <path fill="#ffffff" d="M16.7 13.4c0 2 1.7 2.7 1.7 2.7s-1.3 3.8-3.1 3.8c-.9 0-1.3-.6-2.3-.6s-1.4.6-2.3.6c-1.7 0-3.4-3.6-3.4-6.6 0-2.5 1.5-3.9 3-3.9.9 0 1.6.6 2.3.6.7 0 1.7-.6 2.9-.6.5 0 2.1.1 3.1 1.6-.1.1-1.9 1.1-1.9 2.8z"/>
      <path fill="#ffffff" d="M14.9 6.2c.7-.9.6-2.2.6-2.2s-1.3.1-2.1 1.1c-.7.8-.6 2.1-.6 2.1s1.3.1 2.1-1z"/>
    </svg>
  </span>

  <!-- Google Pay (official multicolor G) -->
  <span class="pay-ico gpay" title="Google Pay">
    <svg viewBox="0 0 48 48" width="14" height="14">
      <path fill="#EA4335" d="M24 9.5c3.5 0 6.2 1.5 8.1 3.4l5.5-5.5C33.8 3.4 29.3 1.5 24 1.5 14.9 1.5 7.1 6.7 3.3 14.2l6.7 5.2C12 13.7 17.6 9.5 24 9.5z"/>
      <path fill="#34A853" d="M46.1 24.5c0-1.8-.2-3.1-.6-4.6H24v8.7h12.5c-.5 2.7-2 5-4.3 6.6l6.6 5.1c3.9-3.6 6.3-8.9 6.3-15.8z"/>
      <path fill="#FBBC05" d="M10 28.6c-.6-1.6-.9-3.4-.9-5.1s.3-3.5.9-5.1l-6.7-5.2C1.3 16.6 0 20.4 0 24s1.3 7.4 3.3 10.8l6.7-5.2z"/>
      <path fill="#4285F4" d="M24 46.5c5.3 0 9.8-1.8 13-4.8l-6.6-5.1c-1.8 1.2-4.1 1.9-6.4 1.9-6.4 0-12-4.2-14-9.9l-6.7 5.2C7.1 41.3 14.9 46.5 24 46.5z"/>
    </svg>
  </span>

  <!-- PayPal -->
  <span class="pay-ico paypal" title="PayPal">
    <svg viewBox="0 0 24 24" width="14" height="14">
      <path fill="#003087" d="M7.6 20.6H5.2a.8.8 0 0 1-.8-1l2-12.8A1.2 1.2 0 0 1 7.6 5h5.7c3.3 0 5.3 1.6 4.8 4.9-.6 4-2.9 5.4-6.1 5.4H9.7l-.5 3.3a2.4 2.4 0 0 1-1.6 2z"/>
      <path fill="#009CDE" d="M10.3 19.6H8.5l.4-2.6h2.4c2.9 0 5.2-1.2 5.8-4.6.2-1.1.1-2-.3-2.7.8.8 1.1 2 1 3.4-.5 4-2.9 6.5-6.9 6.5z"/>
    </svg>
  </span>

  <!-- Card -->
  <span class="pay-ico card" title="Credit Card">
    <svg viewBox="0 0 24 24" width="14" height="14">
      <rect x="2" y="6" width="20" height="12" rx="2" fill="#e8eef8"/>
      <rect x="2" y="9" width="20" height="2" fill="#b8c2d6"/>
    <text x="12" y="15" text-anchor="end">V</text></svg>
  </span>

  <!-- Bank -->
  <span class="pay-ico bank" title="Bank Transfer">
    <svg viewBox="0 0 24 24" width="14" height="14">
      <path d="M3 10l9-5 9 5v2H3v-2z" fill="#e8eef8"/>
      <rect x="5" y="12" width="2" height="7" fill="#b8c2d6"/>
      <rect x="11" y="12" width="2" height="7" fill="#b8c2d6"/>
      <rect x="17" y="12" width="2" height="7" fill="#b8c2d6"/>
    </svg>
  </span>
</div></div>

        <div class="summary-box">
          <strong>Card / Bank:</strong> You’ll be redirected to a third-party provider to buy <span class="highlight">BTC</span>
          and send it to the Education Fund directly.
        </div>

        

        <div class="amount-row">
          <div class="amount-options" role="group" aria-label="Quick amount options">
            <button class="opt-btn" type="button" data-amt="30">30 <span class="opt-unit">€</span></button>
            <button class="opt-btn" type="button" data-amt="50">50 <span class="opt-unit">€</span></button>
            <button class="opt-btn" type="button" data-amt="100">100 <span class="opt-unit">€</span></button>
            <button class="opt-btn" type="button" data-amt="120">120 <span class="opt-unit">€</span></button>
            <button class="opt-btn" type="button" data-amt="150">150 <span class="opt-unit">€</span></button>
            <button class="opt-btn" type="button" data-amt="200">200 <span class="opt-unit">€</span></button>
            <button class="opt-btn opt-other" type="button" data-amt="other">Other <span class="opt-unit">€</span></button>
          </div>
        </div>

        
<div class="amount-line">
          <div class="amount">
            <span class="amt-label">Amount</span>
            <div class="amt-input-wrap">
            <input id="fiatAmount" inputmode="decimal" placeholder="0" value="0" />
            
            <div class="unit" id="fiatUnit">€</div>
          </div>
          </div>

          <button class="action-btn card continue-payment" id="onrampBtn" type="button">
            
            Continue payment
</button>
        </div>

        <div class="compliance">
          Payments via card/bank are processed by third-party providers. Fees, exchange rates, and KYC/verification requirements may apply depending on region/provider.
        </div>
      </div>
    </div>
  </div>

  <a href="#contact" class="scroll-indicator reveal" aria-label="Scroll to Contact">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 13l5 5 5-5M7 6l5 5 5-5"></path>
    </svg>
  </a>
</section>

<!-- CONTACT -->
<section id="contact" data-section="contact">
  <div class="glass-card reveal" style="max-width:550px;">
    <h2 style="color:var(--accent); margin-bottom:18px; text-align:center; letter-spacing:3px; text-transform:uppercase;">
      Contact
    </h2>
    <p style="margin:-8px 0 16px; text-align:center; opacity:.88; line-height:1.6; font-size:.98rem;">
      For inquiries, partnerships, or strategic dialogue.
    </p>

    <form id="contactForm" action="mailto:contact@basysanalytics.com" method="POST" enctype="text/plain" novalidate>
      <input class="hp" type="text" name="company" id="hpCompany" tabindex="-1" autocomplete="off" />
      <input type="text" name="name" placeholder="Full Name" required>
      <input type="email" name="email" placeholder="Email Address" required>
      <textarea name="message" rows="5" placeholder="Your Message" required></textarea>
      <button class="btn" type="submit">Send Message</button>
      <div id="contactMsg" style="margin-top:10px; font-size:.9rem; color:rgba(200,210,224,.88); display:none;"></div>
    </form>
  </div>

  <a href="#home" class="scroll-indicator reveal up" aria-label="Back to Home">
    <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path d="M7 11l5-5 5 5M7 18l5-5 5 5"></path>
    </svg>
  </a>
</section>

<footer>
  <div class="footer-strong">Basys Analytics</div>
  <div class="footer-meta">Stuttgart · San Francisco · Santa Fe</div>
  <div class="footer-tagline">Research &amp; Analysis</div>
  <div class="footer-legal">
    BasysAnalytics is a subsidiary of Next-Gen-IT LLC, based in the USA.
  </div>
  <div style="margin-top:10px; opacity:.65;">© 2026 Basys Analytics. All rights reserved.</div>
</footer>

<script>
/* ===================== ADDRESSES ===================== */
const BTC_ADDRESS  = 'bc1qgcfpwsn38adym4l5hgzx3j6twstdqa7ffah6hx';
const USDT_ADDRESS = '0xbff372AF02600648f7198A1A25307de3429f1f0F';

function getBtcAddress(){ return BTC_ADDRESS; }
function getUsdtAddress(){ return USDT_ADDRESS; }

/* Header shrink on scroll + body scrolled class */
const header = document.getElementById('siteHeader');
window.addEventListener('scroll', () => {
  const scrolled = window.scrollY > 20;
  header.classList.toggle('scrolled', scrolled);
  document.body.classList.toggle('scrolled', scrolled);
}, { passive:true });

/* Mobile burger */
const navToggle = document.getElementById('navToggle');
const closeNav = () => {
  header.classList.remove('nav-open');
  navToggle?.setAttribute('aria-expanded', 'false');
};
navToggle?.addEventListener('click', () => {
  const open = header.classList.toggle('nav-open');
  navToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
});
document.getElementById('siteNav')?.addEventListener('click', (e) => {
  if (e.target.tagName.toLowerCase() === 'a') closeNav();
});
document.addEventListener('keydown', (e) => { if (e.key === 'Escape') closeNav(); });

/* dropdown */
const group = document.getElementById('initiativeGroup');
const toggle = group?.querySelector('.nav-group-toggle');
toggle?.addEventListener('click', (e) => {
  e.stopPropagation();
  const open = group.classList.toggle('open');
  toggle.setAttribute('aria-expanded', open ? 'true' : 'false');
});
document.addEventListener('click', (e) => {
  if (!group?.contains(e.target)) {
    group?.classList.remove('open');
    toggle?.setAttribute('aria-expanded', 'false');
  }
});
document.querySelectorAll('.nav-group-menu a').forEach(a => {
  a.addEventListener('click', () => {
    group?.classList.remove('open');
    toggle?.setAttribute('aria-expanded', 'false');
  });
});

/* Reveal animations */
const revealEls = document.querySelectorAll('.reveal');
const io = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting){
      entry.target.classList.add('in');
      io.unobserve(entry.target);
    }
  });
}, { threshold: 0.12 });
revealEls.forEach(el => io.observe(el));

/* Active nav on scroll */
const navLinks = Array.from(document.querySelectorAll('#siteNav a[data-nav]'));
const sections = navLinks.map(a => document.querySelector(a.getAttribute('href'))).filter(Boolean);

function setActive(id){
  navLinks.forEach(a => a.classList.toggle('active', a.getAttribute('data-nav') === id));
  const hasInitiativeActive = (id === 'token' || id === 'fund');
  group?.classList.toggle('has-active', hasInitiativeActive);

  document.querySelectorAll('.nav-group-menu a[data-nav]').forEach(a => {
    a.classList.toggle('active', a.getAttribute('data-nav') === id);
  });
}

function spy(){
  const line = header.getBoundingClientRect().height + 80;
  let current = 'home';
  for(const sec of sections){
    if(sec.getBoundingClientRect().top <= line) current = sec.id;
  }
  setActive(current);
}
window.addEventListener('scroll', () => requestAnimationFrame(spy), { passive:true });
window.addEventListener('load', spy);
window.addEventListener('resize', spy);

/* Parallax (lighter + rAF) */
const sky = document.querySelector('#home .sky-layer');
let rafId = null;
function onParallax(){
  rafId = null;
  if(!sky) return;
  const yRaw = window.scrollY * 0.04;
  const y = Math.max(0, Math.min(60, yRaw));
  sky.style.transform = `translate3d(0, ${-y}px, 0)`;
}
window.addEventListener('scroll', () => {
  if(rafId) return;
  rafId = requestAnimationFrame(onParallax);
}, { passive:true });

/* Anchor scroll: land on card */
function isHashLink(a){
  const href = a.getAttribute('href') || '';
  return href.startsWith('#') && href.length > 1;
}
function scrollToTarget(hash){
  const section = document.querySelector(hash);
  if(!section) return;

  const card = section.querySelector('.glass-card');
  const target = card || section;

  const headerH = header?.offsetHeight || 0;
  const gap = 34;

  const y = target.getBoundingClientRect().top + window.scrollY - (headerH + gap);
  window.scrollTo({ top: Math.max(0, y), behavior: 'smooth' });
}
document.addEventListener('click', (e) => {
  const a = e.target.closest('a');
  if(!a) return;
  if(!isHashLink(a)) return;

  e.preventDefault();
  const hash = a.getAttribute('href');
  closeNav?.();
  scrollToTarget(hash);
});

/* ===================== FUND LOGIC ===================== */
const payCards = Array.from(document.querySelectorAll('.pay-card[data-method]'));
const panels = {
  btc: document.getElementById('panelBtc'),
  usdt: document.getElementById('panelUsdt'),
  card: document.getElementById('panelCard'),
};

function setPayment(method){
  payCards.forEach(btn => {
    const isActive = btn.dataset.method === method;
    btn.classList.toggle('active', isActive);
    btn.setAttribute('aria-selected', isActive ? 'true' : 'false');
    btn.tabIndex = isActive ? 0 : -1;
  });
  Object.entries(panels).forEach(([key, panel]) => {
    panel?.classList.toggle('active', key === method);
  });
  // Step indicator: green when any payment selected
  const stepDot = document.getElementById("stepPaymentDot");
  stepDot?.classList.toggle("done", !!method);

  // dim non-selected payment tiles (still clickable)
  payCards.forEach(c => c.classList.toggle('dim', method && c.getAttribute('aria-selected') !== 'true'));

}

payCards.forEach(btn => {
  btn.addEventListener('click', () => setPayment(btn.dataset.method));
});

/* Keyboard navigation for tabs */
const tablist = document.querySelector('.pay-grid[role="tablist"]');
tablist?.addEventListener('keydown', (e) => {
  const keys = ['ArrowLeft','ArrowRight','ArrowUp','ArrowDown','Home','End'];
  if(!keys.includes(e.key)) return;

  const tabs = payCards;
  const currentIndex = tabs.findIndex(t => t.getAttribute('aria-selected') === 'true');
  let nextIndex = currentIndex;

  if (e.key === 'Home') nextIndex = 0;
  else if (e.key === 'End') nextIndex = tabs.length - 1;
  else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') nextIndex = Math.max(0, currentIndex - 1);
  else if (e.key === 'ArrowRight' || e.key === 'ArrowDown') nextIndex = Math.min(tabs.length - 1, currentIndex + 1);

  e.preventDefault();
  tabs[nextIndex].focus();
  setPayment(tabs[nextIndex].dataset.method);
});

/* URIs */
function btcUri(){ return `bitcoin:${getBtcAddress()}`; }
function usdtUri(){ return `ethereum:${getUsdtAddress()}`; }

/* Reliable QR (no clipping) */
function renderQrImg(node, text){
  if(!node) return;
  node.innerHTML = '';
  const img = document.createElement('img');
  img.alt = 'QR';
  const data = encodeURIComponent(text);
  img.src = `https://api.qrserver.com/v1/create-qr-code/?size=240x240&ecc=Q&data=${data}`;
  img.referrerPolicy = 'no-referrer';
  node.appendChild(img);
}


/* Masked address renderer (stable layout: shows first5 + full bullet mask + last4) */
function renderMasked(elId, full, shown){
  const el = document.getElementById(elId);
  if(!el) return;
  el.dataset.full = full;

  const first = full.slice(0,5);
  const last = full.slice(-4);

  // Keep identical DOM structure always -> no jump
  if (shown){
    const mid = full.slice(5, -4);
    el.innerHTML = `<span class="addr-first">${first}</span><span class="addr-mid shownmid addr-mask-stars">${mid}</span><span class="addr-last">${last}</span>`;
    return;
  }

  const midLen = Math.max(0, full.length - (5 + 4));
  const bullets = '*'.repeat(midLen);
  el.innerHTML = `<span class="addr-first">${first}</span><span class="addr-mid addr-mask-stars">${bullets}</span><span class="addr-last">${last}</span>`;
}

function refreshFund(){
  renderMasked('btcAddrDisplay', getBtcAddress(), false);
  renderMasked('usdtAddrDisplay', getUsdtAddress(), false);
  renderMasked('cardBtcAddrDisplay', getBtcAddress(), false);

  renderQrImg(document.getElementById('btcQr'), btcUri());
  renderQrImg(document.getElementById('usdtQr'), getUsdtAddress());

  document.getElementById('openBtcWalletBtn').href = btcUri();
  document.getElementById('openUsdtWalletBtn').href = usdtUri();
}

/* Copy buttons */
async function copyText(text, btn){
  const setBtn = (label) => {
    if(!btn) return;
    const prev = btn.textContent;
    btn.textContent = label;
    setTimeout(() => (btn.textContent = prev), 900);
  };

  // Try modern Clipboard API (works on HTTPS + user gesture)
  try{
    if (navigator.clipboard && window.isSecureContext){
      await navigator.clipboard.writeText(text);
      setBtn('Copied');
      return true;
    }
  }catch(_){ /* fall through */ }

  // Fallback for http/file contexts (execCommand)
  try{
    const ta = document.createElement('textarea');
    ta.value = text;
    ta.setAttribute('readonly', '');
    ta.style.position = 'fixed';
    ta.style.top = '-1000px';
    ta.style.left = '-1000px';
    document.body.appendChild(ta);
    ta.focus();
    ta.select();
    const ok = document.execCommand('copy');
    document.body.removeChild(ta);
    if(ok){
      setBtn('Copied');
      return true;
    }
  }catch(_){ /* fall through */ }

  setBtn('Failed');
  return false;
}
document.getElementById('copyBtcBtn')?.addEventListener('click', () => copyText(getBtcAddress(), document.getElementById('copyBtcBtn')));
document.getElementById('copyUsdtBtn')?.addEventListener('click', () => copyText(getUsdtAddress(), document.getElementById('copyUsdtBtn')));


/* ===================== ADDRESS SHOW/HIDE (BTC / USDT / CARD) ===================== */
const addrToggles = {
  btc:  { shown:false, timer:null, showBtnId:'showBtcBtn',  copyBtnId:'copyBtcBtn',  elId:'btcAddrDisplay',      get: getBtcAddress },
  usdt: { shown:false, timer:null, showBtnId:'showUsdtBtn', copyBtnId:'copyUsdtBtn', elId:'usdtAddrDisplay',     get: getUsdtAddress },
  card: { shown:false, timer:null, showBtnId:'showCardBtcBtn', copyBtnId:'copyCardBtcBtn', elId:'cardBtcAddrDisplay', get: getBtcAddress },
};

function setShown(key, value){
  const root = document.documentElement;
  root.style.setProperty('--fade-dur', value ? getComputedStyle(root).getPropertyValue('--fade-show') : getComputedStyle(root).getPropertyValue('--fade-hide'));
  const t = addrToggles[key];
  if(!t) return;
  t.shown = !!value;

  const btn = document.getElementById(t.showBtnId);
  if(btn) btn.textContent = t.shown ? 'Hide' : 'Show';

  const el = document.getElementById(t.elId);
  if(!el){
    renderMasked(t.elId, t.get(), t.shown);
  } else {
    // Fade OUT current text, then swap content, then fade IN
    el.classList.add('addr-fade','addr-fade-out');
    const swapDelay = t.shown ? 600 : 170; // ms
    setTimeout(()=>{
      renderMasked(t.elId, t.get(), t.shown);
      // next frame: fade back in
      requestAnimationFrame(()=>{
        el.classList.remove('addr-fade-out');
      });
    }, swapDelay);
  }

  // auto-hide after 10s when shown
  if (t.shown){
    clearTimeout(t.timer);
    t.timer = setTimeout(() => setShown(key, false), 10000);
  }
}

Object.keys(addrToggles).forEach((key) => {
  const t = addrToggles[key];

  // Show/Hide
  document.getElementById(t.showBtnId)?.addEventListener('click', () => {
    setShown(key, !t.shown);
  });

  // Copy always copies full address
  document.getElementById(t.copyBtnId)?.addEventListener('click', () => {
    copyText(t.get(), document.getElementById(t.copyBtnId));
  });
});


/* ===================== CARD/BANK ONRAMP ===================== */
const regionSelect = document.getElementById('regionSelect');
const fiatAmount = document.getElementById('fiatAmount');
const fiatUnit = document.getElementById('fiatUnit');
const onrampBtn = document.getElementById('onrampBtn');


/* Quick amount options (30/50/100) */
const optBtns = Array.from(document.querySelectorAll('.opt-btn[data-amt]'));

function setActiveOpt(val){
  optBtns.forEach(b => b.classList.toggle('active', String(b.dataset.amt) === String(val)));
}

function refreshOptUnits(){
  const region = regionSelect?.value || 'EU';
  const unit = (region === 'US') ? '$' : '€';
  document.querySelectorAll('.opt-unit').forEach(s => { s.textContent = unit; });
}
optBtns.forEach(btn => {
  btn.addEventListener('click', () => {
    const v = btn.dataset.amt || '50';
    if (v === 'other') {
      setActiveOpt('');
      if (fiatAmount) {
        // keep current value but focus for manual entry
        setTimeout(() => { fiatAmount.focus(); try{fiatAmount.select();}catch(e){} }, 0);
      }
      refreshOnramp();
      return;
    }
    if (fiatAmount) fiatAmount.value = v;
    setActiveOpt(v);
    refreshOnramp();
  });
});


function refreshFiatUnit(){
  const region = regionSelect?.value || 'EU';
  if (fiatUnit) fiatUnit.textContent = (region === 'US') ? '$' : '€';
  refreshOptUnits();
}
regionSelect?.addEventListener('change', refreshFiatUnit);

function buildOnrampLink(){
  const region = (regionSelect?.value || 'EU');
  const fiat = region === 'US' ? 'USD' : 'EUR';
  const country = region === 'US' ? 'US' : 'DE';

  const amtRaw = (fiatAmount?.value || '').trim().replace(',', '.');
  const amt = (amtRaw && !isNaN(Number(amtRaw)) && Number(amtRaw) > 0) ? amtRaw : '50';

  const addr = encodeURIComponent(getBtcAddress());

  const base = 'https://buy.onramper.com/';
  const params = new URLSearchParams({
    defaultCrypto: 'BTC',
    defaultFiat: fiat,
    country: country,
    walletAddress: addr,
    defaultAmount: amt
  });

  return `${base}?${params.toString()}`;
}
function refreshOnramp(){
  
  // Active when Card selected and amount > 0
refreshFiatUnit();
  onrampBtn.dataset.href = buildOnrampLink();

  const v = (fiatAmount?.value || '').trim().replace(',', '.');
  if (['30','50','100','120','150','200'].includes(v)) setActiveOpt(v);
  else setActiveOpt('');

  const n = Number(v);
  if (!isNaN(n) && n > 0){
    onrampBtn?.classList.add('ready');
  } else {
    onrampBtn?.classList.remove('ready');
  }
  try{
    const cardSel = document.getElementById('tabCard')?.getAttribute('aria-selected') === 'true';
    const amt = Number(String(document.getElementById('fiatAmount')?.value||'').replace(/\D/g,''))||0;
    onrampBtn && onrampBtn.classList.toggle('active', cardSel && amt>0);
  }catch(e){}
}

regionSelect?.addEventListener('change', refreshOnramp);
fiatAmount?.addEventListener('input', refreshOnramp);

onrampBtn?.addEventListener('click', () => {
  const link = onrampBtn.dataset.href || buildOnrampLink();
  window.open(link, '_blank', 'noopener,noreferrer');
});

/* Geo-IP region autodetect + error-only warning */
async function detectRegionByIP(){
  const warn = document.getElementById('geoWarn');
  try{
    const res = await fetch('https://ipapi.co/json/', { cache: 'no-store' });
    if(!res.ok) throw new Error('geo failed');
    const data = await res.json();
    const country = (data && data.country) ? String(data.country).toUpperCase() : '';
    const region = (country === 'US') ? 'US' : 'EU';
    if (regionSelect) regionSelect.value = region;
    if (warn) warn.style.display = 'none';
  }catch(e){
    if (regionSelect) regionSelect.value = 'EU';
    if (warn) warn.style.display = 'block';
  }finally{
    refreshOnramp();
  }
}

/* ===================== CONTACT: Honeypot + Rate limit ===================== */
const contactForm = document.getElementById('contactForm');
const hp = document.getElementById('hpCompany');
const contactMsg = document.getElementById('contactMsg');

function showContactMsg(text){
  if(!contactMsg) return;
  contactMsg.textContent = text;
  contactMsg.style.display = 'block';
}

contactForm?.addEventListener('submit', (e) => {
  if (hp && hp.value.trim().length > 0){
    e.preventDefault();
    showContactMsg('Message blocked.');
    return;
  }

  try{
    const key = 'basys_contact_last_send';
    const last = Number(localStorage.getItem(key) || '0');
    const now = Date.now();
    if (last && (now - last) < 60_000){
      e.preventDefault();
      showContactMsg('Please wait a moment before sending again.');
      return;
    }
    localStorage.setItem(key, String(now));
  }catch(_){}

  showContactMsg('Opening your email client…');
});


/* Card/Bank BTC copy */
document.getElementById('copyCardBtcBtn')?.addEventListener('click', () => {
  copyText(getBtcAddress(), document.getElementById('copyCardBtcBtn'));
});


/* INIT */
window.addEventListener('load', () => {
  refreshFund();
  detectRegionByIP();
  refreshFiatUnit();
  refreshOnramp();
  setActiveOpt('');
  setPayment('');
});

  // amountOtherFocus: clicking "Other" focuses manual amount input
  (function(){
    const other = document.querySelector('[data-amount="other"]');
    const amountInput = document.getElementById('amountInput') || document.querySelector('.amount input');
    if (!other || !amountInput) return;
    other.addEventListener('click', () => {
      setTimeout(() => {
        amountInput.focus();
        try { amountInput.select(); } catch(e){}
      }, 0);
    });
  })();

  // ctaGreenOnAmount: make Continue Payment green when an amount is selected
  (function(){
    const cta = document.getElementById('continuePaymentBtn') || document.querySelector('.continue-payment');
    const pills = document.querySelectorAll('.amount-pill');
    const amountInput = document.getElementById('amountInput') || document.querySelector('.amount input');

    function setCTA(active){
      if(!cta) return;
      cta.classList.toggle('active', !!active);
    }

    pills.forEach(p => {
      p.addEventListener('click', () => {
        const val = p.getAttribute('data-amount');
        if(val === 'other'){
          setTimeout(() => {
            if(amountInput){
              amountInput.focus();
              try{ amountInput.select(); }catch(e){}
            }
          }, 0);
          setCTA(false);
        } else {
          setCTA(true);
        }
      });
    });

    if(amountInput){
      amountInput.addEventListener('input', () => {
        setCTA(!!amountInput.value && Number(amountInput.value) > 0);
      });
    }
  })();

  // Ensure "Other" focuses manual amount input
  (function(){
    const otherBtn = document.querySelector('.opt-btn[data-amt="other"]');
    const amountInput = document.getElementById('fiatAmount');
    if(!otherBtn || !amountInput) return;
    otherBtn.addEventListener('click', () => {
      setTimeout(() => {
        amountInput.focus();
        try{ amountInput.select(); }catch(e){}
      }, 0);
    });
  })();

  // Format thousands with space separator (e.g. 1 000)
  function formatThousands(val){
    if(val === null || val === undefined) return '';
    const num = String(val).replace(/\s+/g,'').replace(/[^0-9]/g,'');
    if(num === '') return '';
    return num.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
  }

  function setAmountFormatted(raw){
    const input = document.getElementById('fiatAmount');
    if(!input) return;
    const digits = String(raw).replace(/\s+/g,'').replace(/[^0-9]/g,'');
    input.value = formatThousands(digits);
  }

  // Apply formatting on manual input

  // formatAmountWithComma: spaces for thousands + optional comma decimals (max 2)
  function formatAmountWithComma(raw){
    let s = String(raw ?? '').trim();
    // normalize: allow digits, spaces, comma, dot
    s = s.replace(/\s+/g,'');
    // convert dot to comma for consistency
    s = s.replace(/\./g, ',');
    // keep only first comma
    const parts = s.split(',');
    let intPart = (parts[0] || '').replace(/[^0-9]/g,'');
    let decPart = (parts[1] || '').replace(/[^0-9]/g,'').slice(0,2);
    if(intPart === '') intPart = '0';
    // add thousands spaces
    intPart = intPart.replace(/\B(?=(\d{3})+(?!\d))/g, ' ');
    return decPart.length ? `${intPart},${decPart}` : intPart;
  }

  (function(){
    const input = document.getElementById('fiatAmount');
    if(!input) return;
    input.addEventListener('input', () => {
      const prev = input.value;
      input.value = formatAmountWithComma(prev);
      input.selectionStart = input.selectionEnd = input.value.length;
    });
  })();


if (payCards[0]) payCards[0].tabIndex = 0;

// Amount dot logic: green only when Card is selected AND amount > 0
(function(){
  const amountDot = document.getElementById('stepAmountDot');
  const amountInput = document.getElementById('fiatAmount');
  const tabCard = document.getElementById('tabCard');
  const payCards = document.querySelectorAll('.pay-card');
  const optBtns = document.querySelectorAll('.opt-btn[data-amt]');
  if(!amountDot || !amountInput || !tabCard) return;

  function getAmountValue(){
    // digits only (handles "1 000" etc.)
    const digits = String(amountInput.value || '').replace(/\s+/g,'').replace(/[^0-9]/g,'');
    return digits ? Number(digits) : 0;
  }

  function amountReady(){
    const hasAmount = getAmountValue() > 0;
    const cardSelected = tabCard.getAttribute('aria-selected') === 'true';
    amountDot.classList.toggle('done', hasAmount && cardSelected);
  }

  // Manual typing
  amountInput.addEventListener('input', amountReady);

  // Clicking any payment tab can change the condition
  (payCards.length ? payCards : [tabCard]).forEach(el => {
    el.addEventListener('click', () => setTimeout(amountReady, 0));
  });

  // Clicking preset amount buttons may set value without firing input event
  optBtns.forEach(btn => {
    btn.addEventListener('click', () => setTimeout(amountReady, 0));
  });

  // Initial state
  setTimeout(amountReady, 0);
})();

// dim non-selected payment tiles

// ===== Step dots state machine =====
// Default: all red
// After payment selected: payment green
// Card selected: amount orange, fund red
(function(){
  const dotPayment = document.getElementById('stepPaymentDot');
  const dotAmount  = document.getElementById('stepAmountDot');
  const dotFund    = document.getElementById('stepFundDot');

  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');

  if(!dotPayment || !dotAmount || !dotFund) return;

  function resetDots(){
    [dotPayment, dotAmount, dotFund].forEach(d => {
      d.classList.remove('done','current');
    });
  }

  function updateDots(){
    resetDots();

    const cardSel = tabCard && tabCard.getAttribute('aria-selected') === 'true';
    const btcSel  = tabBtc  && tabBtc.getAttribute('aria-selected') === 'true';
    const usdtSel = tabUsdt && tabUsdt.getAttribute('aria-selected') === 'true';

    const anyPay = cardSel || btcSel || usdtSel;

    if(anyPay){
       // green
    }

    if(cardSel){
      dotAmount.classList.add('current'); // orange
      // fund stays red
    }

    if(btcSel || usdtSel){
      dotFund.classList.add('current'); // orange for wallet step
    }
  }

  [tabCard, tabBtc, tabUsdt].forEach(el => {
    el && el.addEventListener('click', () => setTimeout(updateDots, 0));
  });

  updateDots(); // initial
})();

// ===== Extend step logic =====
// Amount -> green when value > 0 (Card only)
// Fund -> green when wallet opened OR address copied (BTC/USDT)
(function(){
  const dotPayment = document.getElementById('stepPaymentDot');
  const dotAmount  = document.getElementById('stepAmountDot');
  const dotFund    = document.getElementById('stepFundDot');

  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');

  const amountInput = document.getElementById('fiatAmount');
  const copyBtns = document.querySelectorAll('[data-copy], .copy-btn, .btn-copy');
  const openWalletBtns = document.querySelectorAll('.open-wallet, .btn-wallet');

  function digits(v){
    return Number(String(v||'').replace(/\D/g,'')) || 0;
  }

  function updateExtended(){
    const cardSel = tabCard?.getAttribute('aria-selected') === 'true';
    const btcSel  = tabBtc?.getAttribute('aria-selected') === 'true';
    const usdtSel = tabUsdt?.getAttribute('aria-selected') === 'true';

    // Amount -> green when card + amount set
    if(cardSel && digits(amountInput?.value) > 0){
      dotAmount?.classList.remove('current');
      dotAmount?.classList.add('done');
    }

    // Fund -> green when wallet opened or address copied (btc/usdt)
    if(btcSel || usdtSel){
      dotFund?.classList.remove('current');
    }
  }

  amountInput && amountInput.addEventListener('input', () => setTimeout(updateExtended,0));

  copyBtns.forEach(b=>b.addEventListener('click', ()=>{
    dotFund?.classList.add('done');
  }));

  openWalletBtns.forEach(b=>b.addEventListener('click', ()=>{
    dotFund?.classList.add('done');
  }));

  [tabCard, tabBtc, tabUsdt].forEach(el=>{
    el && el.addEventListener('click', ()=> setTimeout(updateExtended,0));
  });
})();

// ===== Auto reset of done states when switching back =====
(function(){
  const dotAmount  = document.getElementById('stepAmountDot');
  const dotFund    = document.getElementById('stepFundDot');

  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');

  const amountInput = document.getElementById('fiatAmount');

  // Cache: has user completed fund step in this session for BTC/USDT
  let fundCompleted = false;

  // Detect copy/open wallet clicks (existing logic sets done; we also mark it)
  document.addEventListener('click', (e) => {
    const t = e.target;
    const isCopy = t && (t.closest('[data-copy]') || t.closest('.copy-btn') || t.closest('.btn-copy'));
    const isWallet = t && (t.closest('.open-wallet') || t.closest('.btn-wallet'));
    if(isCopy || isWallet){
      fundCompleted = true;
    }
  });

  function digits(v){ return Number(String(v||'').replace(/\D/g,'')) || 0; }

  function resetForMode(){
    const cardSel = tabCard?.getAttribute('aria-selected') === 'true';
    const btcSel  = tabBtc?.getAttribute('aria-selected') === 'true';
    const usdtSel = tabUsdt?.getAttribute('aria-selected') === 'true';

    // When leaving Card, reset amount done state
    if(!cardSel && dotAmount){
      dotAmount.classList.remove('done');
    }

    // When leaving BTC/USDT, reset fund done state
    if(!(btcSel || usdtSel) && dotFund){
      dotFund.classList.remove('done');
      fundCompleted = false;
    }

    // When on Card, if amount cleared, also reset amount done
    if(cardSel && dotAmount && digits(amountInput?.value) === 0){
      dotAmount.classList.remove('done');
    }

    // When on BTC/USDT, if fund not completed, ensure not done
    if((btcSel || usdtSel) && dotFund && !fundCompleted){
      dotFund.classList.remove('done');
    }
  }

  [tabCard, tabBtc, tabUsdt].forEach(el=>{
    el && el.addEventListener('click', ()=> setTimeout(resetForMode, 0));
  });
  amountInput && amountInput.addEventListener('input', ()=> setTimeout(resetForMode, 0));

  setTimeout(resetForMode, 0);
})();

// ===== Force initial state: all dots red =====
(function(){
  const ids = ['stepPaymentDot','stepAmountDot','stepFundDot'];
  ids.forEach(id => {
    const el = document.getElementById(id);
    el?.classList.remove('done','current');
  });
})();

// Final init: force all step dots red on first load (no selection)
(function(){
  setTimeout(() => {
    ['stepPaymentDot','stepAmountDot','stepFundDot'].forEach(id => {
      const el = document.getElementById(id);
      el?.classList.remove('done','current');
    });
  }, 0);
})();


// Switch Step 2 label: Card => "NEXT STEP: SELECT FUNDING AMOUNT", BTC/USDT => "Open Wallet"
(function(){
  const step2 = document.getElementById('stepAmountLabel');
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  if(!step2) return;

  function isSelected(el){
    return el && el.getAttribute('aria-selected') === 'true';
  }

  function refresh(){
    const btcSel = isSelected(tabBtc);
    const usdtSel = isSelected(tabUsdt);
    if(btcSel || usdtSel){
      step2.textContent = 'Open Wallet';
    }else{
      step2.textContent = 'NEXT STEP: SELECT FUNDING AMOUNT';
    }
  }

  [tabCard, tabBtc, tabUsdt].forEach(el => {
    el && el.addEventListener('click', () => setTimeout(refresh, 0));
  });

  // also refresh after any programmatic selection changes
  setTimeout(refresh, 0);
})();


// BTC/USDT: Step2 is "Open Wallet" (current), Step3 stays red until wallet/copy marks it done
(function(){
  const dotAmount = document.getElementById('stepAmountDot');
  const dotFund   = document.getElementById('stepFundDot');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const tabCard = document.getElementById('tabCard');

  function isSelected(el){ return el && el.getAttribute('aria-selected') === 'true'; }

  function enforce(){
    const btc = isSelected(tabBtc);
    const usdt = isSelected(tabUsdt);
    const card = isSelected(tabCard);

    if(btc || usdt){
      // Step2 should be the current step
      dotAmount?.classList.remove('done');
      dotAmount?.classList.add('current');
      // Step3 should not be current (unless already done)
      if(dotFund && !dotFund.classList.contains('done')){
        dotFund.classList.remove('current');
      }
    }
    if(card){
      // Card mode: Step2 logic handled elsewhere (amount becomes done when value > 0)
      dotFund?.classList.remove('current');
    }
  }

  [tabCard, tabBtc, tabUsdt].forEach(el => el && el.addEventListener('click', () => setTimeout(enforce, 0)));
  setTimeout(enforce, 0);
})();


// When Amount is completed, make Fund the next active (orange + pulse)
(function(){
  const dotAmount = document.getElementById('stepAmountDot');
  const dotFund   = document.getElementById('stepFundDot');

  if(!dotAmount || !dotFund) return;

  const observer = new MutationObserver(() => {
    if(dotAmount.classList.contains('done')){
      dotFund.classList.remove('done');
      dotFund.classList.add('current'); // orange + pulse
    }
  });

  observer.observe(dotAmount, { attributes:true, attributeFilter:['class'] });
})();


// Card + Amount selected => Amount green, Fund yellow; Default => Payment yellow (next step)
(function(){
  const dotPayment = document.getElementById('stepPaymentDot');
  const dotAmount  = document.getElementById('stepAmountDot');
  const dotFund    = document.getElementById('stepFundDot');

  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const amountInput = document.getElementById('fiatAmount');

  function digits(v){ return Number(String(v||'').replace(/\D/g,''))||0; }
  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }

  function reset(){
    [dotPayment, dotAmount, dotFund].forEach(d=> d?.classList.remove('done','current'));
  }

  function update(){
    reset();

    const cardSel = sel(tabCard);
    const btcSel  = sel(tabBtc);
    const usdtSel = sel(tabUsdt);
    const anyPay  = cardSel || btcSel || usdtSel;

    // Default: no payment selected => Select payment is next step (yellow pulsing)
    if(!anyPay){
      dotPayment?.classList.add('current');
      return;
    }

    // Payment selected
    dotPayment?.classList.add('done');

    // Card flow
    if(cardSel){
      const hasAmt = digits(amountInput?.value) > 0;
      if(hasAmt){
        dotAmount?.classList.add('done');      // green
        dotFund?.classList.add('current');     // yellow
      }else{
        dotAmount?.classList.add('current');   // yellow
      }
      return;
    }

    // BTC/USDT flow: Step2 (Open Wallet) is next
    if(btcSel || usdtSel){
      dotAmount?.classList.add('current');     // yellow
      return;
    }
  }

  [tabCard, tabBtc, tabUsdt].forEach(el => el && el.addEventListener('click', ()=>setTimeout(update,0)));
  amountInput && amountInput.addEventListener('input', update);

  setTimeout(update,0);
})();


// Highlight selected amount when Card + amount selected
(function(){
  const tabCard = document.getElementById('tabCard');
  const amountInput = document.getElementById('fiatAmount');
  const optBtns = document.querySelectorAll('.opt-btn');

  function digits(v){ return Number(String(v||'').replace(/\D/g,''))||0; }

  function updateAmountHighlight(){
    const cardSel = tabCard?.getAttribute('aria-selected') === 'true';
    const hasAmt = digits(amountInput?.value) > 0;

    optBtns.forEach(b => {
      const isActive = b.classList.contains('active');
      b.classList.toggle('amount-highlight', cardSel && hasAmt && isActive);
    });
  }

  tabCard && tabCard.addEventListener('click', ()=>setTimeout(updateAmountHighlight,0));
  amountInput && amountInput.addEventListener('input', updateAmountHighlight);
  optBtns.forEach(b=>b.addEventListener('click', ()=>setTimeout(updateAmountHighlight,0)));

  setTimeout(updateAmountHighlight,0);
})();


// FIX: Amount dot -> green when Card + amount selected
(function(){
  const tabCard = document.getElementById('tabCard');
  const amountInput = document.getElementById('fiatAmount');
  const dotAmount = document.getElementById('stepAmountDot');

  function digits(v){ return Number(String(v||'').replace(/\D/g,''))||0; }

  function updateAmountDot(){
    const cardSel = tabCard?.getAttribute('aria-selected') === 'true';
    const hasAmt = digits(amountInput?.value) > 0;

    if(cardSel && hasAmt){
      dotAmount?.classList.add('done');     // green
      dotAmount?.classList.remove('current');
    }else{
      dotAmount?.classList.remove('done');
    }
  }

  tabCard && tabCard.addEventListener('click', ()=>setTimeout(updateAmountDot,0));
  amountInput && amountInput.addEventListener('input', updateAmountDot);

  setTimeout(updateAmountDot,0);
})();


// RELIABLE: Amount dot green when Card + amount selected (last writer wins)
(function(){
  const tabCard = document.getElementById('tabCard');
  const amountInput = document.getElementById('fiatAmount');
  const dotAmount = document.getElementById('stepAmountDot');

  function digits(v){ return Number(String(v||'').replace(/\D/g,''))||0; }

  function enforce(){
    const cardSel = tabCard?.getAttribute('aria-selected') === 'true';
    const hasAmt = digits(amountInput?.value) > 0;

    if(cardSel && hasAmt){
      dotAmount?.classList.add('done');
      dotAmount?.classList.remove('current');
    }else{
      dotAmount?.classList.remove('done');
    }
  }

  // run after ANY click/input to avoid being overridden
  document.addEventListener('click', ()=>setTimeout(enforce,0), true);
  amountInput && amountInput.addEventListener('input', ()=>setTimeout(enforce,0));

  setTimeout(enforce,0);
})();


// BTC/USDT: Open Wallet click -> button GREEN (wallet-done) + Fund step ORANGE (current)
(function(){
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const btnBtc  = document.getElementById('openBtcWalletBtn');
  const btnUsdt = document.getElementById('openUsdtWalletBtn');
  const dotFund = document.getElementById('stepFundDot');

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }

  function applyGreen(btn){
    // remove orange/primary styling sources
    btn.classList.remove('primary','active','current');
    // mark green
    btn.classList.add('wallet-done');
    // inline fallback (beats everything)
    btn.style.background = 'rgba(46,213,115,.38)';
    btn.style.borderColor = 'rgba(46,213,115,1)';
    btn.style.boxShadow = '0 0 0 1px rgba(46,213,115,.55) inset, 0 0 22px rgba(46,213,115,.25)';
    btn.style.animation = 'none';
  }

  function handle(btn){
    const btcSel  = sel(tabBtc);
    const usdtSel = sel(tabUsdt);
    if(!(btcSel || usdtSel)) return;

    applyGreen(btn);
    dotFund && dotFund.classList.add('current'); // orange + pulse (next step)
  }

  // Capture phase so it always runs, but do NOT preventDefault (wallet should open)
  document.addEventListener('click', (e)=>{
    const btn = e.target && (e.target.closest('#openBtcWalletBtn') || e.target.closest('#openUsdtWalletBtn'));
    if(!btn) return;
    handle(btn);
  }, true);
})();


// Card selected -> amount option buttons (opt-btn) pulse orange until one is selected
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const optBtns = () => Array.from(document.querySelectorAll('.opt-btn'));

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }

  function setAttention(on){
    optBtns().forEach(b=>{
      const isActive = b.classList.contains('active');
      b.classList.toggle('attention', on && !isActive);
    });
  }

  function anyAmountSelected(){
    return optBtns().some(b=>b.classList.contains('active'));
  }

  function update(){
    const cardSel = sel(tabCard);
    const otherSel = sel(tabBtc) || sel(tabUsdt);
    if(otherSel){
      setAttention(false);
      return;
    }
    if(cardSel && !anyAmountSelected()){
      setAttention(true);
    }else{
      setAttention(false);
    }
  }

  // When selecting Card payment, start attention (if no amount chosen yet)
  tabCard && tabCard.addEventListener('click', ()=>setTimeout(update,0));
  // Switching away stops attention
  ;[tabBtc, tabUsdt].forEach(el=> el && el.addEventListener('click', ()=>setTimeout(update,0)));

  // Any click on an amount option stops the attention glow
  document.addEventListener('click', (e)=>{
    const btn = e.target && e.target.closest('.opt-btn');
    if(!btn) return;
    setTimeout(update,0);
  }, true);

  setTimeout(update,0);
})();


// ===== FORCE STAR MASKING (override any dot-based mask) =====
function maskWithStars(str){
  if(!str) return str;
  const visible = str.slice(0,6);
  const hiddenLen = Math.max(6, str.length - 6);
  return visible + '*'.repeat(hiddenLen);
}

// Patch existing mask usage if present
document.addEventListener('DOMContentLoaded', ()=>{
  document.querySelectorAll('[data-address]').forEach(el=>{
    const full = el.getAttribute('data-address');
    if(full){
      el.textContent = maskWithStars(full);
      el.classList.add('addr-mask-stars');
    }
  });
});


// === Fade logic for address show / auto-hide ===
function showAddress(addrMid, full){
  addrMid.classList.add('fading-out');
  setTimeout(()=>{
    addrMid.textContent = full;
    addrMid.classList.remove('fading-out');
    addrMid.classList.add('fading-in','show');
    setTimeout(()=>{
      addrMid.classList.remove('fading-in','show');
    }, 350);
  }, 50);
}

function hideAddress(addrMid, masked){
  addrMid.classList.add('fading-out');
  setTimeout(()=>{
    addrMid.textContent = masked;
    addrMid.classList.remove('fading-out');
    addrMid.classList.add('masked');
  }, 350);
}


// === Continue Payment (Card): orange until amount selected, then green + blinking dot ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const cta = document.querySelector('.continue-payment');
  const amountButtons = () => Array.from(document.querySelectorAll('.opt-btn'));

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }
  function anyAmount(){ return amountButtons().some(b=>b.classList.contains('active')); }

  function updateCTA(){
    if(!cta) return;
    const cardSel = sel(tabCard);
    if(!cardSel){
      cta.classList.remove('cta-wait','cta-ready');
      return;
    }
    // Card selected
    if(anyAmount()){
      cta.classList.remove('cta-wait');
      cta.classList.add('cta-ready');
    }else{
      cta.classList.remove('cta-ready');
      cta.classList.add('cta-wait');
    }
  }

  // Events
  tabCard && tabCard.addEventListener('click', ()=>setTimeout(updateCTA,0));
  ;[tabBtc, tabUsdt].forEach(el=> el && el.addEventListener('click', ()=>setTimeout(updateCTA,0)));
  document.addEventListener('click', (e)=>{
    if(e.target && e.target.closest('.opt-btn')) setTimeout(updateCTA,0);
  }, true);

  setTimeout(updateCTA,0);
})();


// === Amount numbers: orange hint until selected, green when selected (Card) ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const amountButtons = () => Array.from(document.querySelectorAll('.opt-btn'));

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }

  function updateAmounts(){
    const cardSel = sel(tabCard);
    const anyActive = amountButtons().some(b=>b.classList.contains('active'));
    amountButtons().forEach(b=>{
      b.classList.remove('amount-hint');
      if(cardSel && !anyActive){
        b.classList.add('amount-hint'); // light orange
      }
    });
  }

  tabCard && tabCard.addEventListener('click', ()=>setTimeout(updateAmounts,0));
  ;[tabBtc, tabUsdt].forEach(el=> el && el.addEventListener('click', ()=>setTimeout(updateAmounts,0)));
  document.addEventListener('click', (e)=>{
    if(e.target && e.target.closest('.opt-btn')) setTimeout(updateAmounts,0);
  }, true);

  setTimeout(updateAmounts,0);
})();




// === Reset Card amounts & CTA when switching to BTC/USDT ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const cta = document.querySelector('.continue-payment');
  const amountButtons = () => Array.from(document.querySelectorAll('.opt-btn'));

  function resetCard(){
    amountButtons().forEach(b=>{
      b.classList.remove('active','amount-hint');
    });
    if(cta){
      cta.classList.remove('cta-ready','cta-wait');
    }
  }

  tabBtc && tabBtc.addEventListener('click', resetCard);
  tabUsdt && tabUsdt.addEventListener('click', resetCard);
})();




// === CTA reset to orange on tab/region switches; green only when Card+Amount selected ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const regionSelect = document.getElementById('regionSelect');
  const cta = document.querySelector('.continue-payment');
  const amountButtons = () => Array.from(document.querySelectorAll('.amount-options .opt-btn'));

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }
  function anyActive(){ return amountButtons().some(b=>b.classList.contains('active')); }

  function setCTAOrange(){
    if(!cta) return;
    cta.classList.remove('cta-ready');
    cta.classList.add('cta-wait');
  }
  function setCTAGreen(){
    if(!cta) return;
    cta.classList.remove('cta-wait');
    cta.classList.add('cta-ready');
  }
  function updateCTA(){
    if(!cta) return;
    if(sel(tabCard) && anyActive()) setCTAGreen();
    else if(sel(tabCard)) setCTAOrange();
    else{
      // not on Card: keep orange default (no green)
      setCTAOrange();
    }
  }

  // Reset to orange on region change or tab switches
  regionSelect && regionSelect.addEventListener('change', ()=>setTimeout(updateCTA,0));
  tabBtc && tabBtc.addEventListener('click', ()=>setTimeout(updateCTA,0));
  tabUsdt && tabUsdt.addEventListener('click', ()=>setTimeout(updateCTA,0));
  tabCard && tabCard.addEventListener('click', ()=>setTimeout(updateCTA,0));

  // When amount picked -> green; when cleared -> orange
  document.addEventListener('click', (e)=>{
    if(e.target && e.target.closest('.amount-options .opt-btn')) setTimeout(updateCTA,0);
  }, true);

  setTimeout(updateCTA,0);
})();


// === Only ONE random amount blinks at a time (until selection) ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const regionSelect = document.getElementById('regionSelect');
  const amountButtons = () => Array.from(document.querySelectorAll('.amount-options .opt-btn'));
  let cycleTimer = null;

  function sel(el){ return el && el.getAttribute('aria-selected') === 'true'; }
  function anyActive(){ return amountButtons().some(b=>b.classList.contains('active')); }

  function clearHints(){
    amountButtons().forEach(b=> b.classList.remove('amount-hint'));
  }

  function pickOne(){
    const btns = amountButtons().filter(b=>!b.classList.contains('active'));
    clearHints();
    if(!btns.length) return;
    const idx = Math.floor(Math.random()*btns.length);
    btns[idx].classList.add('amount-hint');
  }

  function stop(){
    clearInterval(cycleTimer);
    cycleTimer = null;
    clearHints();
  }

  function start(){
    stop();
    if(!sel(tabCard) || anyActive()) return;
    pickOne();
    cycleTimer = setInterval(()=>{
      if(anyActive()){ stop(); return; }
      pickOne();
    }, 2200);
  }

  tabCard && tabCard.addEventListener('click', ()=>setTimeout(start,0));
  regionSelect && regionSelect.addEventListener('change', ()=>setTimeout(start,0));
  document.addEventListener('click', (e)=>{
    if(e.target && e.target.closest('.amount-options .opt-btn')) setTimeout(start,0);
  }, true);

  setTimeout(start,0);
})();


// === HARD reset flow when switching payment tab or region ===
(function(){
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');
  const regionSelect = document.getElementById('regionSelect');

  const stepPaymentDot = document.getElementById('stepPaymentDot');
  const stepAmountDot  = document.getElementById('stepAmountDot');
  const stepFundDot    = document.getElementById('stepFundDot');

  const cta = document.querySelector('.continue-payment');
  const fiatAmount = document.getElementById('fiatAmount');
  const amountButtons = () => Array.from(document.querySelectorAll('.amount-options .opt-btn'));

  function resetStepDots(){
    [stepPaymentDot, stepAmountDot, stepFundDot].forEach(d=>{
      if(!d) return;
      d.classList.remove('done','current');
    });
    // initial: Select Payment is the current step
    if(stepPaymentDot) stepPaymentDot.classList.add('current');
  }

  function resetCardAmount(){
    amountButtons().forEach(b=> b.classList.remove('active','amount-hint'));
    if(fiatAmount){
      fiatAmount.value = '0';
      fiatAmount.dispatchEvent(new Event('input', {bubbles:true}));
    }
  }

  function resetCTA(){
    if(!cta) return;
    cta.classList.remove('cta-ready');
    cta.classList.add('cta-wait');
  }

  function resetAddresses(){
    // Hide any shown addresses using existing setShown if present
    try{
      if(typeof setShown === 'function'){
        ['btc','usdt','card'].forEach(k=>{
          try{ setShown(k,false); }catch(e){}
        });
      }
    }catch(e){}
  }

  function resetAll(){
    resetCardAmount();
    resetCTA();
    resetStepDots();
    resetAddresses();
  }

  // Region change resets everything
  regionSelect && regionSelect.addEventListener('change', ()=>setTimeout(resetAll,0));

  // Switching payment tabs resets everything (so returning is clean default)
  tabCard && tabCard.addEventListener('click', ()=>setTimeout(resetAll,0));
  tabBtc  && tabBtc.addEventListener('click', ()=>setTimeout(resetAll,0));
  tabUsdt && tabUsdt.addEventListener('click', ()=>setTimeout(resetAll,0));
})();


  // ===== PATCH: make "Open" wallet links reliable on mobile (custom URI schemes) =====
  (function(){
    const bindOpen = (id, getUriFn) => {
      const el = document.getElementById(id);
      if(!el || typeof getUriFn !== 'function') return;
      el.addEventListener('click', (e) => {
        // Always refresh href on click
        const uri = getUriFn();
        try{ el.setAttribute('href', uri); }catch(_){}
        // For some mobile browsers, custom schemes only work via location change
        // Try window.open first (new tab), then fallback to location.
        try{
          e.preventDefault();
          const w = window.open(uri, '_blank');
          if(!w) window.location.href = uri;
        }catch(_){
          try{ window.location.href = uri; }catch(__){}
        }
      }, {passive:false});
    };

    // btcUri() / usdtUri() exist in this file
    if (typeof btcUri === 'function') bindOpen('openBtcWalletBtn', btcUri);
    if (typeof usdtUri === 'function') bindOpen('openUsdtWalletBtn', usdtUri);
  })();

</script>


<script>
// === FIX: Step 1 dot (#stepPaymentDot) turns GREEN when any payment tab is selected ===
(function(){
  const dot = document.getElementById('stepPaymentDot');
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');

  function isSelected(el){
    return !!(el && el.getAttribute('aria-selected') === 'true');
  }

  function setDone(){
    if(!dot) return;
    dot.classList.add('done');
    dot.classList.remove('current');
  }

  function setWaiting(){
    if(!dot) return;
    dot.classList.remove('done');
    dot.classList.add('current');
  }

  function sync(){
    if(isSelected(tabCard) || isSelected(tabBtc) || isSelected(tabUsdt)) setDone();
    else setWaiting();
  }

  [tabCard, tabBtc, tabUsdt].forEach(el=>{
    if(!el) return;
    el.addEventListener('click', ()=>setTimeout(sync,0));
  });

  // Observe aria-selected changes made by existing logic
  const obs = new MutationObserver(sync);
  [tabCard, tabBtc, tabUsdt].forEach(el=>{
    if(!el) return;
    obs.observe(el, {attributes:true, attributeFilter:['aria-selected']});
  });

  setTimeout(sync, 0);
})();
</script>


<script>
// === Unified Step Dots Controller (Payment / Amount-or-Wallet / Fund) ===
(function(){
  // Step dots
  const dotPay   = document.getElementById('stepPaymentDot');
  const dotAmt   = document.getElementById('stepAmountDot'); // used for Amount (Card) OR Wallet (BTC/USDT)
  const dotFund  = document.getElementById('stepFundDot');

  // Payment tabs
  const tabCard = document.getElementById('tabCard');
  const tabBtc  = document.getElementById('tabBtc');
  const tabUsdt = document.getElementById('tabUsdt');

  // Panels
  const panelCard = document.getElementById('panelCard');
  const panelBtc  = document.getElementById('panelBtc');
  const panelUsdt = document.getElementById('panelUsdt');

  // Actions
  const openBtcWallet = document.getElementById('openBtcWalletBtn');
  const openUsdtWallet = document.getElementById('openUsdtWalletBtn');

  // Region select (if present)
  const regionSelect = document.getElementById('regionSelect') || document.querySelector('select[name="region"]') || document.querySelector('select');

  // Internal state
  const state = {
    payment: null,      // 'card' | 'btc' | 'usdt' | null
    amountSet: false,   // card only
    walletOpened: false,// btc/usdt only
    fundDone: false     // after copy/open wallet/continue click
  };

  function isActiveTab(tab, panel){
    if(tab){
      if(tab.getAttribute('aria-selected') === 'true') return true;
      if(tab.classList && tab.classList.contains('active')) return true;
    }
    if(panel && panel.classList && panel.classList.contains('active')) return true;
    return false;
  }

  function getActivePayment(){
    if(isActiveTab(tabCard, panelCard)) return 'card';
    if(isActiveTab(tabBtc, panelBtc)) return 'btc';
    if(isActiveTab(tabUsdt, panelUsdt)) return 'usdt';
    return null;
  }

  function setDot(dot, mode){
    if(!dot) return;
    dot.classList.remove('done','current','pulse');
    if(mode === 'green'){ dot.classList.add('done'); }
    else if(mode === 'orange'){ dot.classList.add('current','pulse'); }
    else if(mode === 'red'){ /* baseline red is default when no class */ }
  }

  function resetDownstream(from){
    // from: 'payment' resets everything after payment, etc.
    if(from === 'payment'){
      state.amountSet = false;
      state.walletOpened = false;
      state.fundDone = false;
    }
    if(from === 'amount'){
      state.fundDone = false;
    }
    if(from === 'wallet'){
      state.fundDone = false;
    }
  }

  function syncDots(){
    // Step 1: Payment
    const pay = state.payment;
    if(pay){ setDot(dotPay, 'green'); }
    else { setDot(dotPay, 'orange'); }

    // Step 2: Amount (Card) OR Wallet (BTC/USDT)
    if(!pay){
      setDot(dotAmt, 'red');
    }else if(pay === 'card'){
      // Amount step
      setDot(dotAmt, state.amountSet ? 'green' : 'orange');
    }else{
      // Wallet step
      setDot(dotAmt, state.walletOpened ? 'green' : 'orange');
    }

    // Step 3: Fund
    // becomes orange when step2 is completed; becomes green when fundDone
    const step2Done = (pay === 'card') ? state.amountSet : (pay === 'btc' || pay === 'usdt') ? state.walletOpened : false;
    if(!pay){
      setDot(dotFund, 'red');
    }else if(step2Done){
      setDot(dotFund, state.fundDone ? 'green' : 'orange');
    }else{
      setDot(dotFund, 'red');
    }
  }

  function hardResetAll(){
    state.payment = null;
    state.amountSet = false;
    state.walletOpened = false;
    state.fundDone = false;
    syncDots();
  }

  // Detect payment changes (tabs or panels)
  function syncPaymentFromUI(){
    const current = getActivePayment();
    if(current !== state.payment){
      state.payment = current;
      resetDownstream('payment');
      syncDots();
    }else{
      // still resync dots (in case of external reset)
      syncDots();
    }
  }

  // Amount selection (card)
  function onAmountClick(e){
    const btn = e.target.closest('.opt-btn');
    if(!btn) return;
    const amt = btn.dataset ? btn.dataset.amt : null;
    if(!amt) return;
    if(state.payment !== 'card') return;

    // "other" counts as amountSet once user focuses/enters value later; for now treat as not set until value > 0
    if(amt === 'other'){
      // do not set amountSet immediately; keep orange until value is set
      state.amountSet = false;
    }else{
      state.amountSet = true;
    }
    resetDownstream('amount');
    syncDots();
  }

  // If there is an amount input, mark amountSet when value > 0
  function bindAmountInput(){
    const input = document.getElementById('amountInput') || document.querySelector('input[type="number"]');
    if(!input) return;
    input.addEventListener('input', ()=>{
      if(state.payment !== 'card') return;
      const v = parseFloat(String(input.value || '0').replace(',','.')) || 0;
      state.amountSet = v > 0;
      resetDownstream('amount');
      syncDots();
    });
  }

  // Wallet opened (btc/usdt)
  function onOpenWalletClick(e){
    const t = e.target.closest('#openBtcWalletBtn, #openUsdtWalletBtn');
    if(!t) return;
    if(state.payment !== 'btc' && state.payment !== 'usdt') return;
    state.walletOpened = true;
    resetDownstream('wallet');
    // wallet open also counts as fund progress -> fund becomes orange (already) and can become green if you want on open:
    // we keep fundDone false until copy/show; user asked: fund orange after open wallet; green after copy OR wallet opened.
    // Apply: green when wallet opened (as per your earlier rule)
    state.fundDone = true;
    syncDots();
  }

  // Copy / Show actions indicate fund completion
  function onCopyOrShow(e){
    const btn = e.target.closest('button');
    if(!btn) return;
    const id = btn.id || '';
    const txt = (btn.textContent || '').toLowerCase();
    const isCopy = id.toLowerCase().includes('copy') || txt.includes('copy');
    const isShow = id.toLowerCase().includes('show') || txt.includes('show');
    if(!(isCopy || isShow)) return;

    // Only after payment is chosen
    if(!state.payment) return;

    // For btc/usdt, copy/show means fund done.
    // For card, fund done is after continue payment click (we handle separately), but copy/show shouldn't matter.
    if(state.payment === 'btc' || state.payment === 'usdt'){
      state.walletOpened = true; // if user copied before opening, still progress
      state.fundDone = true;
      syncDots();
    }
  }

  // Continue payment (card) marks fund done
  function bindContinuePayment(){
    const btn = document.getElementById('continuePaymentBtn') || document.querySelector('#continuePayment, .continue-payment, button[data-action="continue"]');
    if(!btn) return;
    btn.addEventListener('click', ()=>{
      if(state.payment !== 'card') return;
      if(!state.amountSet) return;
      state.fundDone = true;
      syncDots();
    });
  }

  // Reset logic on region change or switching tabs should clear state downstream, keeping payment step coherent
  function bindRegionReset(){
    if(!regionSelect) return;
    regionSelect.addEventListener('change', ()=>{
      // On region change: keep current payment selection (so Select Payment stays green),
      // but reset downstream steps (amount/wallet/fund).
      state.payment = getActivePayment();
      resetDownstream('payment');
      syncDots();
    });
  }

  // Attach listeners
  document.addEventListener('click', onAmountClick, true);
  document.addEventListener('click', onCopyOrShow, true);
  document.addEventListener('click', onOpenWalletClick, true);

  [tabCard, tabBtc, tabUsdt].forEach(el=>{
    if(!el) return;
    el.addEventListener('click', ()=>setTimeout(syncPaymentFromUI, 0));
  });

  // Observe tab/panel active changes
  const obs = new MutationObserver(()=>syncPaymentFromUI());
  [tabCard, tabBtc, tabUsdt, panelCard, panelBtc, panelUsdt].forEach(el=>{
    if(!el) return;
    obs.observe(el, {attributes:true, attributeFilter:['class','aria-selected']});
  });

  bindAmountInput();
  bindContinuePayment();
  bindRegionReset();

  // Init
  setTimeout(()=>{
    syncPaymentFromUI();
    // if no payment is selected at start, show orange pulse on payment (next step)
    syncDots();
  }, 0);
})();
</script>


<!-- PATCH: Stable Payment Toggle + Region Reset (safe, standalone) -->
<script>
(function(){
  function ready(fn){
    if(document.readyState === "loading") document.addEventListener("DOMContentLoaded", fn);
    else fn();
  }

  ready(function(){
    const region = document.getElementById("regionSelect");
    const payCards = Array.from(document.querySelectorAll(".pay-card[data-method]"));
    const panels = {
      btc: document.getElementById("panelBtc"),
      usdt: document.getElementById("panelUsdt"),
      card: document.getElementById("panelCard")
    };
    const stepDot = document.getElementById("stepPaymentDot");

    if(!payCards.length) return;

    function clearPayment(){
      payCards.forEach(b=>{
        b.classList.remove("active","dim");
        b.setAttribute("aria-selected","false");
      });
      Object.values(panels).forEach(p=>p && p.classList.remove("active"));
      if(stepDot) stepDot.classList.remove("done");
    }

    function activate(method){
      if(!panels[method]) return;
      // visual state
      payCards.forEach(b=>{
        const on = b.dataset.method === method;
        b.classList.toggle("active", on);
        b.setAttribute("aria-selected", on ? "true" : "false");
      });
      Object.entries(panels).forEach(([k,p])=>{
        if(!p) return;
        p.classList.toggle("active", k === method);
      });
      // step dot can become done when a payment is selected
      if(stepDot) stepDot.classList.add("done");
    }

    // Click bindings
    payCards.forEach(b=>{
      b.addEventListener("click", function(){
        activate(b.dataset.method);
      });
    });

    // Region reset: back to start (no payment selected)
    if(region){
      region.addEventListener("change", function(){
        clearPayment();
      });
    }
  });
})();
</script>


<script>
(function(){
  const hint = document.getElementById("cardAmountHint");
  const payCards = Array.from(document.querySelectorAll(".pay-card[data-method]"));
  if(!hint || !payCards.length) return;

  function show(){ hint.style.display="block"; hint.setAttribute("aria-hidden","false"); }
  function hide(){ hint.style.display="none"; hint.setAttribute("aria-hidden","true"); }

  function update(){
    const cardBtn = payCards.find(b => (b.dataset.method || "").toLowerCase() === "card");
    const isCard = cardBtn && cardBtn.getAttribute("aria-selected") === "true";
    if(isCard) show(); else hide();
  }

  // Observe aria-selected changes (setPayment updates this)
  const mo = new MutationObserver(update);
  payCards.forEach(btn => mo.observe(btn, { attributes:true, attributeFilter:["aria-selected","class"] }));

  // Also update on clicks / key activation
  payCards.forEach(btn => {
    btn.addEventListener("click", () => setTimeout(update, 0));
    btn.addEventListener("keydown", () => setTimeout(update, 0));
  });

  // Region reset can change payment selection
  document.addEventListener("change", function(e){
    const t = e.target;
    if(!t) return;
    if(t.id === "region" || t.name === "region") setTimeout(update, 0);
  });

  // Init
  setTimeout(update, 0);
})();
</script>
<script>
(function(){
  const hint = document.getElementById("cardAmountHint");
  const inner = hint ? hint.querySelector(".card-amount-hint-inner") : null;
  if(!hint || !inner) return;

  function setHint(mode){
    if(mode === "fund"){
      inner.innerHTML = "NEXT STEP: FUND EDUCATION AND RESEARCH";
    } else {
      inner.innerHTML = "NEXT STEP: SELECT FUNDING AMOUNT";
    }
  }

  // When any amount is selected, switch hint to NEXT STEP: FUND EDUCATION AND RESEARCH (Card flow)
  document.addEventListener("click", function(e){
    const amountBtn = e.target.closest("[data-amount], .amount-btn, .amount, button[data-value], [data-value]");
    if(!amountBtn) return;

    // Only if Card is selected (works with tabCard or pay-card[data-method=card])
    const tabCard = document.getElementById("tabCard");
    const isCard = tabCard ? (tabCard.getAttribute("aria-selected")==="true") : false;

    if(isCard){
      setHint("fund");
    }
  });

  // If user re-selects Card (or resets), ensure default hint is "NEXT STEP: SELECT FUNDING AMOUNT"
  document.addEventListener("click", function(e){
    if(e.target.closest("#tabCard, .pay-card[data-method='card']")){
      setTimeout(() => setHint("amount"), 0);
    }
  });

})();
</script>
<script>
(function(){
  const hint = document.getElementById("cardAmountHint");
  const inner = hint ? hint.querySelector(".card-amount-hint-inner") : null;
  if(!hint || !inner) return;

  function setHint(mode){
    if(mode === "fund"){
      inner.innerHTML = "NEXT STEP: FUND EDUCATION AND RESEARCH";
    } else {
      inner.innerHTML = "NEXT STEP: SELECT FUNDING AMOUNT";
    }
  }

  function isCardSelected(){
    const tabCard = document.getElementById("tabCard");
    if(tabCard && tabCard.getAttribute("aria-selected")==="true") return true;

    const cardBtn = document.querySelector(".pay-card[data-method='card']");
    if(cardBtn && cardBtn.getAttribute("aria-selected")==="true") return true;

    return false;
  }

  // Amount selection via quick buttons (data-amt) or manual input (#fiatAmount)
  document.addEventListener("click", function(e){
    const amtBtn = e.target.closest("[data-amt]");
    if(!amtBtn) return;
    if(isCardSelected()) setHint("fund");
  });

  const fiatInput = document.getElementById("fiatAmount");
  if(fiatInput){
    fiatInput.addEventListener("input", function(){
      const v = (fiatInput.value || "").toString().trim();
      const n = parseFloat(v.replace(",", "."));
      if(isCardSelected() && !isNaN(n) && n > 0){
        setHint("fund");
      }
    });
  }

  // If user re-selects Card (or resets), revert to NEXT STEP: SELECT FUNDING AMOUNT
  document.addEventListener("click", function(e){
    if(e.target.closest("#tabCard, .pay-card[data-method='card']")){
      setTimeout(() => setHint("amount"), 0);
    }
  });

})();
</script>
<script>
(function(){
  const hint = document.getElementById("cardAmountHint");
  const inner = hint ? hint.querySelector(".card-amount-hint-inner") : null;
  if(!hint || !inner) return;

  function isCardSelected(){
    const tabCard = document.getElementById("tabCard");
    if(tabCard && tabCard.getAttribute("aria-selected")==="true") return true;
    const cardBtn = document.querySelector(".pay-card[data-method='card']");
    if(cardBtn && cardBtn.getAttribute("aria-selected")==="true") return true;
    return false;
  }

  function showAmount(){
    inner.classList.remove("state-fund");
    inner.classList.add("state-amount");
    inner.innerHTML = "NEXT STEP: SELECT FUNDING AMOUNT";
    hint.style.display = "block";
    hint.setAttribute("aria-hidden","false");
  }

  function showFund(){
    inner.classList.remove("state-amount");
    inner.classList.add("state-fund");
    inner.innerHTML = "NEXT STEP: FUND EDUCATION AND RESEARCH";
    hint.style.display = "block";
    hint.setAttribute("aria-hidden","false");
  }

  function hide(){
    hint.style.display = "none";
    hint.setAttribute("aria-hidden","true");
  }

  // Amount selection (quick buttons with data-amt)
  document.addEventListener("click", function(e){
    const amtBtn = e.target.closest("[data-amt]");
    if(amtBtn && isCardSelected()){
      showFund();
    }
  });

  // Manual amount input
  const fiatInput = document.getElementById("fiatAmount");
  if(fiatInput){
    fiatInput.addEventListener("input", function(){
      const v = (fiatInput.value || "").toString().trim();
      const n = parseFloat(v.replace(",", "."));
      if(isCardSelected() && !isNaN(n) && n > 0){
        showFund();
      }
    });
  }

  // Card selected / reset -> orange state
  document.addEventListener("click", function(e){
    if(e.target.closest("#tabCard, .pay-card[data-method='card']")){
      setTimeout(function(){
        if(isCardSelected()) showAmount();
        else hide();
      }, 0);
    }
    // switching away from card hides hint
    if(e.target.closest("[role='tab']:not(#tabCard)")){
      hide();
    }
  });

  // Init
  setTimeout(function(){
    if(isCardSelected()) showAmount();
    else hide();
  }, 0);
})();
</script>
<script>
(function(){
  const btn = document.querySelector(".continue-payment");
  if(!btn) return;

  function setBlink(on){
    btn.classList.toggle("blink", !!on);
  }

  function amountIsSelected(){
    // quick amount buttons set active state (class 'active' or aria-pressed) OR input has value
    const activeQuick = document.querySelector("[data-amt].active, [data-amt][aria-pressed='true']");
    const inp = document.getElementById("fiatAmount");
    const v = inp ? (inp.value || "").toString().trim() : "";
    const n = v ? parseFloat(v.replace(",", ".")) : NaN;
    return !!activeQuick || (!isNaN(n) && n > 0);
  }

  // On amount click
  document.addEventListener("click", function(e){
    if(e.target.closest("[data-amt]")){
      setTimeout(() => setBlink(amountIsSelected()), 0);
    }
  });

  // On manual input
  const inp = document.getElementById("fiatAmount");
  if(inp){
    inp.addEventListener("input", function(){
      setBlink(amountIsSelected());
    });
  }

  // Also clear blink when payment method changes away from card or when reset happens
  document.addEventListener("click", function(e){
    if(e.target.closest("[role='tab']") && !e.target.closest("#tabCard")){
      setBlink(false);
    }
  });

  // Init
  setTimeout(() => setBlink(amountIsSelected()), 0);
})();
</script>

<script>
/* ===== 3) Success feedback for Open / Copy ===== */
(function(){
  function flash(msg){
    const box = document.querySelector('.summary-box');
    if(!box) return;
    const orig = box.innerHTML;
    box.innerHTML = '<strong>'+msg+'</strong>';
    setTimeout(()=>box.innerHTML = orig, 900);
  }

  document.getElementById('copyBtcBtn')?.addEventListener('click', ()=>flash('Address ready'));
  document.getElementById('copyUsdtBtn')?.addEventListener('click', ()=>flash('Address ready'));
  document.getElementById('openBtcWalletBtn')?.addEventListener('click', ()=>flash('Wallet opened'));
  document.getElementById('openUsdtWalletBtn')?.addEventListener('click', ()=>flash('Wallet opened'));
})();
</script>


<script>
/* ===== Ensure active panel toggles trust section (BTC & USDT) ===== */
(function(){
  const panels = document.querySelectorAll('.fund-panel');
  function setActive(panel){
    panels.forEach(p => p.classList.remove('active'));
    if(panel) panel.classList.add('active');
  }

  // Try to hook into existing buttons
  document.addEventListener('click', function(e){
    const btcBtn = e.target.closest('[data-asset="BTC"], [data-currency="BTC"], #btcBtn');
    const usdtBtn = e.target.closest('[data-asset="USDT"], [data-currency="USDT"], #usdtBtn');

    if(btcBtn){
      const btcPanel = document.getElementById('panelBtc');
      setActive(btcPanel);
    }
    if(usdtBtn){
      const usdtPanel = document.getElementById('panelUsdt');
      setActive(usdtPanel);
    }
  });
})();
</script>


<script>
/* ===== Trust details auto-close (mouse + touch, 4s) ===== */
(function(){
  const detailsList = document.querySelectorAll('details.trust-details');
  detailsList.forEach(d => {
    let timer = null;
    const closeLater = (ms=4000) => {
      if(timer) clearTimeout(timer);
      timer = setTimeout(()=> d.removeAttribute('open'), ms);
    };
    const cancelClose = () => {
      if(timer) clearTimeout(timer);
      timer = null;
    };

    d.addEventListener('mouseenter', cancelClose);
    d.addEventListener('mouseleave', () => closeLater(4000));

    d.addEventListener('toggle', () => {
      if(d.open){ closeLater(4000); }
      else { cancelClose(); }
    });

    document.addEventListener('touchstart', (e) => {
      if(!d.open) return;
      if(d.contains(e.target)) return;
      d.removeAttribute('open');
    }, {passive:true});

    d.addEventListener('touchstart', () => {
      if(!d.open) return;
      cancelClose();
      closeLater(4000);
    }, {passive:true});
  });
})();
</script>





<script>
/* ===== Homepage asset icons animations (fade-in + scroll fade back, responsive) ===== */
(function(){
  const icons = document.querySelector('.home-asset-icons');
  if(!icons) return;

  const computeFadePoint = () => Math.max(120, Math.min(220, Math.round(window.innerHeight * 0.28)));

  // fade/slide in after load (also if already visible)
  const show = () => icons.classList.add('is-visible');

  window.addEventListener('load', () => {
    setTimeout(show, 180);
    // ensure correct opacity when page loads mid-scroll
    requestAnimationFrame(() => {
      const y = window.scrollY || window.pageYOffset || 0;
      const fadePoint = computeFadePoint();
      const alpha = Math.max(0, Math.min(1, 1 - (y / fadePoint)));
      icons.style.opacity = alpha;
    });
  });

  // fade out on scroll down, fade back in on scroll up
  const onScroll = () => {
    const y = window.scrollY || window.pageYOffset || 0;
    const fadePoint = computeFadePoint();
    const alpha = Math.max(0, Math.min(1, 1 - (y / fadePoint)));
    icons.style.opacity = alpha;
  };

  window.addEventListener('scroll', onScroll, {passive:true});
  window.addEventListener('resize', onScroll, {passive:true});
})();
</script>


<script>
/* ===== Homepage icons: subtle scroll-based opacity ===== */
(function(){
  const icons = document.querySelectorAll('.home-asset-icons .asset-logo svg');
  if(!icons.length) return;

  const base = 0.89;
  const max = 1.0;

  const onScroll = () => {
    const y = window.scrollY || 0;
    const fadePoint = Math.max(120, Math.min(260, window.innerHeight * 0.35));
    const t = Math.max(0, Math.min(1, 1 - (y / fadePoint)));
    const opacity = base + (max - base) * t;
    icons.forEach(svg => svg.style.opacity = opacity.toFixed(2));
  };

  window.addEventListener('scroll', onScroll, { passive:true });
  window.addEventListener('load', onScroll);
})();
</script>

</body>
</html>
